import{w as t}from"./withConfigTransport.js";import{__decorate as e}from"tslib";import{inject as s,provide as r,openBlock as o,createBlock as n,resolveDynamicComponent as i,withCtx as a,renderSlot as d}from"vue";import{V as m,m as l,s as h,O as f,p as u}from"./vue-class-component.esm-bundler.js";import{F as c}from"./consts.js";import{s as p}from"./style-inject.es.js";import"lodash-es";import"./VaConfig.js";const v=m.with(class FormProps{constructor(){this.autofocus=u({type:Boolean,default:!1}),this.tag=u({type:String,default:"div"})}});let F=class VaForm extends(l(v)){constructor(){super(...arguments),this.nestedFormElements=[],this.parentFormProvider=h((()=>({...s(c,void 0)}))),this.formProvider=h((()=>{const t={onChildMounted:t=>this.childMountedHandler(t),onChildUnmounted:t=>this.childUnmountedHandler(t)};return r(c,t),t}))}childMountedHandler(t){this.nestedFormElements.push(t)}childUnmountedHandler(t){this.nestedFormElements=this.nestedFormElements.filter((e=>e!==t))}mounted(){Object.keys(this.parentFormProvider).length&&this.parentFormProvider.onChildMounted(this),this.autofocus&&this.$nextTick((()=>{this.focus()}))}unmounted(){Object.keys(this.parentFormProvider).length&&this.parentFormProvider.onChildUnmounted(this)}reset(){this.nestedFormElements.filter((({reset:t})=>t)).forEach((t=>{t.reset()}))}resetValidation(){this.nestedFormElements.filter((({resetValidation:t})=>t)).forEach((t=>{t.resetValidation()}))}focus(){const t=this.nestedFormElements.find((({focus:t})=>t));t&&t.focus()}focusInvalid(){const t=this.nestedFormElements.filter((({hasError:t})=>t)).find((t=>t.hasError()));if(t)t.focus();else{this.nestedFormElements.filter((({nestedFormElements:t})=>t)).forEach((t=>t.focusInvalid()))}}validate(){let t=!0;return this.nestedFormElements.filter((({validate:t})=>t)).forEach((e=>{e.validate()||(t=!1)})),this.$emit("validation",t),t}};F=e([f({name:"VaForm",emits:["validation"]})],F);var E=F;p(""),E.render=function render(t,e,s,r,m,l){return o(),n(i(t.tag),{class:"va-form"},{default:a((()=>[d(t.$slots,"default")])),_:3})},E.__file="src/components/va-form/VaForm.vue";var j=t(E);export{j as default};
//# sourceMappingURL=index48.js.map
