{"version":3,"file":"index41.js","sources":["../../src/composables/useSelectableList.ts","../../../../node_modules/lodash/_root.js","../../../../node_modules/lodash/_freeGlobal.js","../../../../node_modules/lodash/_Symbol.js","../../../../node_modules/lodash/_getRawTag.js","../../../../node_modules/lodash/_objectToString.js","../../../../node_modules/lodash/_baseGetTag.js","../../../../node_modules/lodash/isArray.js","../../../../node_modules/lodash/isObjectLike.js","../../../../node_modules/lodash/isString.js","../../../../node_modules/lodash/isFunction.js","../../../../node_modules/lodash/isObject.js","../../../../node_modules/lodash/_arrayPush.js","../../../../node_modules/lodash/_baseIsArguments.js","../../../../node_modules/lodash/isArguments.js","../../../../node_modules/lodash/_isFlattenable.js","../../../../node_modules/lodash/_baseFlatten.js","../../../../node_modules/lodash/flatten.js","../../src/composables/useFormComponent.ts","../../src/composables/useLoading.ts","../../src/composables/useMaxSelections.ts","../../src/components/va-select/VaSelectOptionList/VaSelectOptionList.vue","../../src/components/va-select/VaSelectOptionList/VaSelectOptionList.vue?vue&type=template&id=59030744&lang.js","../../src/components/va-select/VaSelectOptionList/index.ts","../../src/components/va-select/VaSelect.vue","../../src/composables/useColor.ts","../../src/components/va-select/VaSelect.vue?vue&type=template&id=ef3afb70&lang.js","../../src/components/va-select/index.ts"],"sourcesContent":["// It's another implementation of SelectableListMixin functionality but for Composition API usage\r\n\r\nimport { getProp } from '../services/utils'\r\nimport { PropType } from 'vue'\r\n\r\ntype StringOrFunction = string | Function\r\n\r\nexport const useSelectableListProps = {\r\n  options: { type: Array as PropType<any[]>, default: () => [] },\r\n  textBy: { type: [String, Function] as PropType<StringOrFunction>, default: 'text' },\r\n  valueBy: { type: [String, Function] as PropType<StringOrFunction> },\r\n  trackBy: { type: [String, Function] as PropType<StringOrFunction>, default: 'value' },\r\n  disabledBy: { type: [String, Function] as PropType<StringOrFunction>, default: 'disabled' },\r\n}\r\n\r\nexport function useSelectableList (props: any) {\r\n  const isSelectableListComponent = true\r\n\r\n  const getValue = (option: any) => {\r\n    if (!props.valueBy) { return option }\r\n\r\n    return typeof option === 'string'\r\n      ? option\r\n      : getProp(option, props.valueBy)\r\n  }\r\n\r\n  const getOptionByValue = (value: any) => {\r\n    if (!props.valueBy) { return value }\r\n\r\n    return props.options.find((option: any) => value === getValue(option)) || value\r\n  }\r\n\r\n  const getText = (option: any) => {\r\n    return typeof option === 'string'\r\n      ? option\r\n      : getProp(option, props.textBy)\r\n  }\r\n\r\n  const getDisabled = (option: any) => {\r\n    return typeof option !== 'string' && getProp(option, props.disabledBy)\r\n  }\r\n\r\n  const getTrackBy = (option: any) => {\r\n    return typeof option === 'string'\r\n      ? option\r\n      : getProp(option, props.trackBy)\r\n  }\r\n\r\n  return {\r\n    isSelectableListComponent,\r\n    getValue,\r\n    getOptionByValue,\r\n    getText,\r\n    getDisabled,\r\n    getTrackBy,\r\n  }\r\n}\r\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nmodule.exports = isString;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","import isString from 'lodash/isString'\r\nimport isFunction from 'lodash/isFunction'\r\nimport flatten from 'lodash/flatten'\r\nimport { computed, inject, onMounted, onUnmounted, PropType, ref } from 'vue'\r\nimport { FormProvider, FormServiceKey } from '../components/va-form/consts'\r\n\r\n/**\r\n * You could add these props to any component by destructuring them inside props option.\r\n * @example\r\n * props: { ...useFormComponentProps, componentsOwnProp, etc. }\r\n * It's better to add props at the beginning, to make sure that Component own props will be used instead in case of collision\r\n */\r\nexport const useFormComponentProps = {\r\n  rules: { type: Array as PropType<any[]>, default: () => [] },\r\n  disabled: { type: Boolean as PropType<boolean>, default: false },\r\n  readonly: { type: Boolean as PropType<boolean>, default: false },\r\n  success: { type: Boolean as PropType<boolean>, default: false },\r\n  messages: { type: Array as PropType<any[]>, default: () => [] },\r\n  error: { type: Boolean as PropType<boolean>, default: false },\r\n  errorMessages: { type: [Array, String] as PropType<any[] | string> },\r\n  errorCount: { type: Number as PropType<string | number>, default: 1 },\r\n  id: { type: [String, Number] as PropType<string | number>, default: undefined },\r\n  name: { type: [String, Number] as PropType<string | number>, default: undefined },\r\n\r\n  modelValue: {\r\n    default: undefined,\r\n    validator: () => {\r\n      throw new Error('ValidateMixin: `modelValue` prop should be defined in component.')\r\n    },\r\n  },\r\n}\r\n\r\nconst prepareValidations = (messages: string | any[] = [], callArguments = null) => {\r\n  if (isString(messages)) {\r\n    messages = [messages]\r\n  }\r\n  return messages\r\n    .map((message: any) => isFunction(message) ? message(callArguments) : message)\r\n}\r\n\r\nexport function useFormComponent (props: Record<string, any>, context: any) {\r\n  const hadFocus = ref(false)\r\n  const isFocused = ref(false)\r\n  const internalErrorMessages = ref([] as any[])\r\n  const internalError = ref(false)\r\n  const isFormComponent = ref(true)\r\n  const formProvider: FormProvider | undefined = inject(FormServiceKey, undefined)\r\n\r\n  onMounted(() => {\r\n    if (formProvider?.onChildMounted) {\r\n      formProvider.onChildMounted(context)\r\n    }\r\n  })\r\n\r\n  onUnmounted(() => {\r\n    if (formProvider?.onChildUnmounted) {\r\n      formProvider.onChildUnmounted(context)\r\n    }\r\n  })\r\n\r\n  /** @public */\r\n  const validate = () => {\r\n    computedError.value = false\r\n    computedErrorMessages.value = []\r\n\r\n    if (props.rules && props.rules.length > 0) {\r\n      prepareValidations(flatten(props.rules), props.modelValue as any)\r\n        .forEach((validateResult: any) => {\r\n          if (isString(validateResult)) {\r\n            computedErrorMessages.value.push(validateResult)\r\n            computedError.value = true\r\n          } else if (validateResult === false) {\r\n            computedError.value = true\r\n          }\r\n        })\r\n    }\r\n\r\n    return !computedError.value\r\n  }\r\n\r\n  /** @public */\r\n  const focus = (): void => {\r\n    throw new Error('focus method should be implemented in the component')\r\n  }\r\n\r\n  /** @public */\r\n  const reset = (): void => {\r\n    throw new Error('reset method should be implemented in the component')\r\n  }\r\n\r\n  const resetValidation = (): void => {\r\n    computedErrorMessages.value = []\r\n    computedError.value = false\r\n  }\r\n\r\n  const hasError = (): any => {\r\n    return computedError.value\r\n  }\r\n\r\n  // eslint-disable-next-line camelcase\r\n  const ValidateMixin_onBlur = (): void => {\r\n    isFocused.value = false\r\n    computedError.value = false\r\n    validate()\r\n  }\r\n\r\n  const shouldValidateOnBlur = computed(() => {\r\n    // We want for inputs to validate on blur only after they've been interacted with.\r\n    return hadFocus.value\r\n  })\r\n\r\n  const computedError = computed({\r\n    get () {\r\n      return props.error || internalError.value\r\n    },\r\n    set (errorMessage: boolean) {\r\n      internalError.value = errorMessage\r\n    },\r\n  })\r\n\r\n  const computedErrorMessages = computed({\r\n    get () {\r\n      return props.errorMessages ? prepareValidations(props.errorMessages) : internalErrorMessages.value\r\n    },\r\n    set (errorMessages: any[]) {\r\n      internalErrorMessages.value = errorMessages\r\n    },\r\n  })\r\n\r\n  return {\r\n    isFocused,\r\n    isFormComponent,\r\n    formProvider,\r\n    validate,\r\n    ValidateMixin_onBlur,\r\n    shouldValidateOnBlur,\r\n    focus,\r\n    reset,\r\n    resetValidation,\r\n    hasError,\r\n    computedError,\r\n    computedErrorMessages,\r\n  }\r\n}\r\n","import { PropType } from 'vue'\r\n\r\n/**\r\n * You could add these props to any component by destructuring them inside props option.\r\n * @example\r\n * props: { ...useLoadingProps, componentsOwnProp, etc. }\r\n * It's better to add props at the beginning, to make sure that Component own props will be used instead in case of collision\r\n */\r\nexport const useLoadingProps = {\r\n  loading: { type: Boolean as PropType<boolean>, default: false },\r\n}\r\n\r\nexport const useLoading = () => {\r\n  const hasLoading = true\r\n\r\n  return {\r\n    hasLoading,\r\n  }\r\n}\r\n","import { PropType, Ref } from 'vue'\r\n\r\n/**\r\n * You could add these props to any component by destructuring them inside props option.\r\n * @example\r\n * props: { ...useMaxSelectionsProps, componentsOwnProp, etc. }\r\n * It's better to add props at the beginning, to make sure that Component own props will be used instead in case of collision\r\n */\r\nexport const useMaxSelectionsProps = {\r\n  maxSelections: {\r\n    type: Number as PropType<number>,\r\n    default: undefined,\r\n  },\r\n}\r\n\r\nexport function useMaxSelections (selections: Ref<any[]>, maxSelections: Ref<number | undefined>, emit: (event: 'update:modelValue', ...args: any[]) => void) {\r\n  const exceedsMaxSelections = (): boolean => {\r\n    if (maxSelections.value === undefined) { return false }\r\n    return selections.value.length >= maxSelections.value\r\n  }\r\n\r\n  const addOption = (optionToAdd: any): void => {\r\n    const newSelectedOptions = [...selections.value, optionToAdd]\r\n    emit('update:modelValue', newSelectedOptions)\r\n  }\r\n\r\n  return {\r\n    exceedsMaxSelections,\r\n    addOption,\r\n  }\r\n}\r\n","<template>\r\n  <div\r\n    class=\"va-select-option-list\"\r\n    ref=\"el\"\r\n    :tabindex=\"tabindex\"\r\n    @keydown.up.stop.prevent=\"hoverPreviousOption\"\r\n    @keydown.left.stop.prevent=\"hoverPreviousOption\"\r\n    @keydown.down.stop.prevent=\"hoverNextOption\"\r\n    @keydown.right.stop.prevent=\"hoverNextOption\"\r\n  >\r\n    <template v-if=\"filteredOptions.length\">\r\n      <div\r\n        v-for=\"option in filteredOptions\"\r\n        :key=\"$props.getTrackBy(option)\"\r\n        :ref=\"setItemRef($props.getTrackBy(option))\"\r\n        :class=\"getOptionClass(option)\"\r\n        :style=\"getOptionStyle(option)\"\r\n        @click.stop=\"selectOption(option)\"\r\n        @mouseover=\"updateHoveredOption(option)\"\r\n      >\r\n        <va-icon\r\n          v-if=\"option.icon\"\r\n          size=\"small\"\r\n          class=\"va-select-option-list__option--icon\"\r\n          :name=\"option.icon\"\r\n        />\r\n        <span>{{ getText(option) }}</span>\r\n        <va-icon\r\n          v-show=\"$props.getSelectedState(option)\"\r\n          class=\"va-select-option-list__option--selected-icon\"\r\n          size=\"small\"\r\n          name=\"done\"\r\n          :color=\"colorComputed\"\r\n        />\r\n      </div>\r\n    </template>\r\n    <div\r\n      v-else\r\n      class=\"va-select-option-list no-options\"\r\n    >\r\n      {{ noOptionsText }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { watch } from 'vue'\r\nimport { Options, prop, Vue, mixins } from 'vue-class-component'\r\n\r\nimport { getHoverColor } from '../../../services/color-config/color-functions'\r\nimport ColorMixin from '../../../services/color-config/ColorMixin'\r\nimport VaIcon from '../../va-icon/'\r\n\r\nclass SelectOptionListProps {\r\n  options = prop<any[]>({ type: Array, default: () => [] })\r\n  noOptionsText = prop<string>({\r\n    type: String,\r\n    default: 'Items not found',\r\n  })\r\n\r\n  getSelectedState = prop<Function>({\r\n    type: Function,\r\n    default: () => false,\r\n  })\r\n\r\n  getText = prop<Function>({\r\n    type: Function,\r\n  })\r\n\r\n  getTrackBy = prop<Function>({\r\n    type: Function,\r\n  })\r\n\r\n  multiple = prop<boolean>({ type: Boolean, default: false })\r\n  search = prop<string>({ type: String, default: '' })\r\n\r\n  hoveredOption = prop<string | object>({\r\n    type: [String, Object],\r\n    default: null,\r\n  })\r\n\r\n  tabindex = prop<number>({ type: Number, default: 0 })\r\n}\r\n\r\nconst SelectOptionListPropsMixin = Vue.with(SelectOptionListProps)\r\n\r\n@Options({\r\n  name: 'VaSelectOptionList',\r\n  components: { VaIcon },\r\n  emits: [\r\n    'select-option',\r\n    'update:hoveredOption',\r\n    'no-previous-option-to-hover',\r\n  ],\r\n})\r\nexport default class VaSelectOptionList extends mixins(\r\n  ColorMixin,\r\n  SelectOptionListPropsMixin,\r\n) {\r\n  itemRefs: Record<number, any> = {}\r\n\r\n  created () {\r\n    watch(() => this.$props.hoveredOption, (newOption: any) => {\r\n      if (newOption) {\r\n        this.scrollToOption(newOption)\r\n      }\r\n    })\r\n  }\r\n\r\n  beforeUpdate () {\r\n    this.itemRefs = {}\r\n  }\r\n\r\n  setItemRef (option: number) {\r\n    return (el: any) => {\r\n      if (el) {\r\n        this.itemRefs[option] = el\r\n      }\r\n    }\r\n  }\r\n\r\n  get hoveredOptionComputed () {\r\n    return this.hoveredOption || null\r\n  }\r\n\r\n  set hoveredOptionComputed (value: any) {\r\n    this.$emit('update:hoveredOption', value)\r\n  }\r\n\r\n  get filteredOptions () {\r\n    if (!this.$props.search) {\r\n      return this.$props.options as []\r\n    }\r\n\r\n    return (this.$props.options as []).filter((option: string) => {\r\n      const optionText = (this.$props.getText as Function)(option).toUpperCase()\r\n      const search = (this.$props.search as string).toUpperCase()\r\n      return optionText.includes(search)\r\n    })\r\n  }\r\n\r\n  selectOption (option: any): void {\r\n    this.$emit('select-option', option)\r\n  }\r\n\r\n  getOptionClass (option: any) {\r\n    return {\r\n      'va-select-option-list__option': true,\r\n      'va-select-option-list__option--selected': (this.$props.getSelectedState as Function)(option),\r\n    }\r\n  }\r\n\r\n  getOptionStyle (option: any) {\r\n    return {\r\n      color: (this.$props.getSelectedState as Function)(option) ? this.colorComputed : 'inherit',\r\n      backgroundColor: this.isHovered(option) ? getHoverColor(this.colorComputed) : 'transparent',\r\n    }\r\n  }\r\n\r\n  isHovered (option: any) {\r\n    if (!this.hoveredOptionComputed) { return false }\r\n    if (typeof option === 'string') { return option === this.hoveredOptionComputed }\r\n    if (!this.getTrackBy) { return false }\r\n\r\n    return this.getTrackBy(this.hoveredOptionComputed) === this.getTrackBy(option)\r\n  }\r\n\r\n  updateHoveredOption (option: string[] | string): void {\r\n    if (option) {\r\n      this.hoveredOptionComputed = option\r\n    } else {\r\n      this.hoveredOptionComputed = null\r\n    }\r\n  }\r\n\r\n  public hoverPreviousOption () {\r\n    if (!this.hoveredOptionComputed) {\r\n      // Hover last option from list\r\n      this.filteredOptions.length && this.updateHoveredOption(this.filteredOptions[this.filteredOptions.length - 1])\r\n    } else {\r\n      const hoveredOptionIndex: any =\r\n        this.filteredOptions.findIndex((option: any) =>\r\n          (this.$props.getText as Function)(option) === (this.$props.getText as Function)(this.hoveredOptionComputed))\r\n      if (this.filteredOptions[hoveredOptionIndex - 1]) {\r\n        this.hoveredOptionComputed = this.filteredOptions[hoveredOptionIndex - 1]\r\n      } else {\r\n        this.$emit('no-previous-option-to-hover')\r\n      }\r\n    }\r\n  }\r\n\r\n  public hoverNextOption () {\r\n    if (!this.hoveredOptionComputed) {\r\n      // Hover first option from list\r\n      this.filteredOptions.length && this.updateHoveredOption(this.filteredOptions[0])\r\n    } else {\r\n      const hoveredOptionIndex: any =\r\n        this.filteredOptions.findIndex((option: any) =>\r\n          (this.$props.getText as Function)(option) === (this.$props.getText as Function)(this.hoveredOptionComputed))\r\n      if (this.filteredOptions[hoveredOptionIndex + 1]) {\r\n        this.hoveredOptionComputed = this.filteredOptions[hoveredOptionIndex + 1]\r\n      }\r\n    }\r\n  }\r\n\r\n  public hoverFirstOption () {\r\n    if (this.filteredOptions.length > 0) {\r\n      this.updateHoveredOption(this.filteredOptions[0])\r\n    }\r\n  }\r\n\r\n  scrollToOption (option: any) {\r\n    const optionElement: HTMLElement = this.itemRefs[(this.$props.getTrackBy as Function)(option)]\r\n    if (!optionElement) { return }\r\n\r\n    // Scroll list to hinted option position\r\n    optionElement.scrollIntoView({\r\n      behavior: 'auto',\r\n      block: 'nearest',\r\n      inline: 'nearest',\r\n    })\r\n  }\r\n\r\n  public focus () {\r\n    if (this.$refs.el) {\r\n      (this.$refs as any).el.focus()\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n@import \"../../../styles/resources/resources\";\r\n@import 'variables';\r\n\r\n.va-select-option-list {\r\n  display: var(--va-select-option-list-display);\r\n  flex-direction: var(--va-select-option-list-flex-direction);\r\n  width: var(--va-select-option-list-width);\r\n  list-style: var(--va-select-option-list-list-style);\r\n  max-height: 200px;\r\n\r\n  &__option {\r\n    cursor: var(--va-select-option-list-option-cursor);\r\n    display: var(--va-select-option-list-option-display);\r\n    align-items: var(--va-select-option-list-option-align-items);\r\n    padding: var(--va-select-option-list-option-padding);\r\n    min-height: var(--va-select-option-list-option-min-height);\r\n    word-break: var(--va-select-option-list-option-word-break);\r\n\r\n    &--icon {\r\n      margin-right: var(--va-select-option-list-icon-margin-right);\r\n    }\r\n\r\n    &--selected-icon {\r\n      margin-left: var(--va-select-option-list-selected-icon-margin-left);\r\n      font-size: var(--va-select-option-list-selected-icon-font-size);\r\n    }\r\n  }\r\n\r\n  &.no-options {\r\n    padding: 0.5rem;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div\r\n    class=\"va-select-option-list\"\r\n    ref=\"el\"\r\n    :tabindex=\"tabindex\"\r\n    @keydown.up.stop.prevent=\"hoverPreviousOption\"\r\n    @keydown.left.stop.prevent=\"hoverPreviousOption\"\r\n    @keydown.down.stop.prevent=\"hoverNextOption\"\r\n    @keydown.right.stop.prevent=\"hoverNextOption\"\r\n  >\r\n    <template v-if=\"filteredOptions.length\">\r\n      <div\r\n        v-for=\"option in filteredOptions\"\r\n        :key=\"$props.getTrackBy(option)\"\r\n        :ref=\"setItemRef($props.getTrackBy(option))\"\r\n        :class=\"getOptionClass(option)\"\r\n        :style=\"getOptionStyle(option)\"\r\n        @click.stop=\"selectOption(option)\"\r\n        @mouseover=\"updateHoveredOption(option)\"\r\n      >\r\n        <va-icon\r\n          v-if=\"option.icon\"\r\n          size=\"small\"\r\n          class=\"va-select-option-list__option--icon\"\r\n          :name=\"option.icon\"\r\n        />\r\n        <span>{{ getText(option) }}</span>\r\n        <va-icon\r\n          v-show=\"$props.getSelectedState(option)\"\r\n          class=\"va-select-option-list__option--selected-icon\"\r\n          size=\"small\"\r\n          name=\"done\"\r\n          :color=\"colorComputed\"\r\n        />\r\n      </div>\r\n    </template>\r\n    <div\r\n      v-else\r\n      class=\"va-select-option-list no-options\"\r\n    >\r\n      {{ noOptionsText }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { watch } from 'vue'\r\nimport { Options, prop, Vue, mixins } from 'vue-class-component'\r\n\r\nimport { getHoverColor } from '../../../services/color-config/color-functions'\r\nimport ColorMixin from '../../../services/color-config/ColorMixin'\r\nimport VaIcon from '../../va-icon/'\r\n\r\nclass SelectOptionListProps {\r\n  options = prop<any[]>({ type: Array, default: () => [] })\r\n  noOptionsText = prop<string>({\r\n    type: String,\r\n    default: 'Items not found',\r\n  })\r\n\r\n  getSelectedState = prop<Function>({\r\n    type: Function,\r\n    default: () => false,\r\n  })\r\n\r\n  getText = prop<Function>({\r\n    type: Function,\r\n  })\r\n\r\n  getTrackBy = prop<Function>({\r\n    type: Function,\r\n  })\r\n\r\n  multiple = prop<boolean>({ type: Boolean, default: false })\r\n  search = prop<string>({ type: String, default: '' })\r\n\r\n  hoveredOption = prop<string | object>({\r\n    type: [String, Object],\r\n    default: null,\r\n  })\r\n\r\n  tabindex = prop<number>({ type: Number, default: 0 })\r\n}\r\n\r\nconst SelectOptionListPropsMixin = Vue.with(SelectOptionListProps)\r\n\r\n@Options({\r\n  name: 'VaSelectOptionList',\r\n  components: { VaIcon },\r\n  emits: [\r\n    'select-option',\r\n    'update:hoveredOption',\r\n    'no-previous-option-to-hover',\r\n  ],\r\n})\r\nexport default class VaSelectOptionList extends mixins(\r\n  ColorMixin,\r\n  SelectOptionListPropsMixin,\r\n) {\r\n  itemRefs: Record<number, any> = {}\r\n\r\n  created () {\r\n    watch(() => this.$props.hoveredOption, (newOption: any) => {\r\n      if (newOption) {\r\n        this.scrollToOption(newOption)\r\n      }\r\n    })\r\n  }\r\n\r\n  beforeUpdate () {\r\n    this.itemRefs = {}\r\n  }\r\n\r\n  setItemRef (option: number) {\r\n    return (el: any) => {\r\n      if (el) {\r\n        this.itemRefs[option] = el\r\n      }\r\n    }\r\n  }\r\n\r\n  get hoveredOptionComputed () {\r\n    return this.hoveredOption || null\r\n  }\r\n\r\n  set hoveredOptionComputed (value: any) {\r\n    this.$emit('update:hoveredOption', value)\r\n  }\r\n\r\n  get filteredOptions () {\r\n    if (!this.$props.search) {\r\n      return this.$props.options as []\r\n    }\r\n\r\n    return (this.$props.options as []).filter((option: string) => {\r\n      const optionText = (this.$props.getText as Function)(option).toUpperCase()\r\n      const search = (this.$props.search as string).toUpperCase()\r\n      return optionText.includes(search)\r\n    })\r\n  }\r\n\r\n  selectOption (option: any): void {\r\n    this.$emit('select-option', option)\r\n  }\r\n\r\n  getOptionClass (option: any) {\r\n    return {\r\n      'va-select-option-list__option': true,\r\n      'va-select-option-list__option--selected': (this.$props.getSelectedState as Function)(option),\r\n    }\r\n  }\r\n\r\n  getOptionStyle (option: any) {\r\n    return {\r\n      color: (this.$props.getSelectedState as Function)(option) ? this.colorComputed : 'inherit',\r\n      backgroundColor: this.isHovered(option) ? getHoverColor(this.colorComputed) : 'transparent',\r\n    }\r\n  }\r\n\r\n  isHovered (option: any) {\r\n    if (!this.hoveredOptionComputed) { return false }\r\n    if (typeof option === 'string') { return option === this.hoveredOptionComputed }\r\n    if (!this.getTrackBy) { return false }\r\n\r\n    return this.getTrackBy(this.hoveredOptionComputed) === this.getTrackBy(option)\r\n  }\r\n\r\n  updateHoveredOption (option: string[] | string): void {\r\n    if (option) {\r\n      this.hoveredOptionComputed = option\r\n    } else {\r\n      this.hoveredOptionComputed = null\r\n    }\r\n  }\r\n\r\n  public hoverPreviousOption () {\r\n    if (!this.hoveredOptionComputed) {\r\n      // Hover last option from list\r\n      this.filteredOptions.length && this.updateHoveredOption(this.filteredOptions[this.filteredOptions.length - 1])\r\n    } else {\r\n      const hoveredOptionIndex: any =\r\n        this.filteredOptions.findIndex((option: any) =>\r\n          (this.$props.getText as Function)(option) === (this.$props.getText as Function)(this.hoveredOptionComputed))\r\n      if (this.filteredOptions[hoveredOptionIndex - 1]) {\r\n        this.hoveredOptionComputed = this.filteredOptions[hoveredOptionIndex - 1]\r\n      } else {\r\n        this.$emit('no-previous-option-to-hover')\r\n      }\r\n    }\r\n  }\r\n\r\n  public hoverNextOption () {\r\n    if (!this.hoveredOptionComputed) {\r\n      // Hover first option from list\r\n      this.filteredOptions.length && this.updateHoveredOption(this.filteredOptions[0])\r\n    } else {\r\n      const hoveredOptionIndex: any =\r\n        this.filteredOptions.findIndex((option: any) =>\r\n          (this.$props.getText as Function)(option) === (this.$props.getText as Function)(this.hoveredOptionComputed))\r\n      if (this.filteredOptions[hoveredOptionIndex + 1]) {\r\n        this.hoveredOptionComputed = this.filteredOptions[hoveredOptionIndex + 1]\r\n      }\r\n    }\r\n  }\r\n\r\n  public hoverFirstOption () {\r\n    if (this.filteredOptions.length > 0) {\r\n      this.updateHoveredOption(this.filteredOptions[0])\r\n    }\r\n  }\r\n\r\n  scrollToOption (option: any) {\r\n    const optionElement: HTMLElement = this.itemRefs[(this.$props.getTrackBy as Function)(option)]\r\n    if (!optionElement) { return }\r\n\r\n    // Scroll list to hinted option position\r\n    optionElement.scrollIntoView({\r\n      behavior: 'auto',\r\n      block: 'nearest',\r\n      inline: 'nearest',\r\n    })\r\n  }\r\n\r\n  public focus () {\r\n    if (this.$refs.el) {\r\n      (this.$refs as any).el.focus()\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n@import \"../../../styles/resources/resources\";\r\n@import 'variables';\r\n\r\n.va-select-option-list {\r\n  display: var(--va-select-option-list-display);\r\n  flex-direction: var(--va-select-option-list-flex-direction);\r\n  width: var(--va-select-option-list-width);\r\n  list-style: var(--va-select-option-list-list-style);\r\n  max-height: 200px;\r\n\r\n  &__option {\r\n    cursor: var(--va-select-option-list-option-cursor);\r\n    display: var(--va-select-option-list-option-display);\r\n    align-items: var(--va-select-option-list-option-align-items);\r\n    padding: var(--va-select-option-list-option-padding);\r\n    min-height: var(--va-select-option-list-option-min-height);\r\n    word-break: var(--va-select-option-list-option-word-break);\r\n\r\n    &--icon {\r\n      margin-right: var(--va-select-option-list-icon-margin-right);\r\n    }\r\n\r\n    &--selected-icon {\r\n      margin-left: var(--va-select-option-list-selected-icon-margin-left);\r\n      font-size: var(--va-select-option-list-selected-icon-font-size);\r\n    }\r\n  }\r\n\r\n  &.no-options {\r\n    padding: 0.5rem;\r\n  }\r\n}\r\n</style>\r\n","import withConfigTransport from '../../../services/config-transport/withConfigTransport'\r\nimport VaSelectOptionList from './VaSelectOptionList.vue'\r\n\r\nexport default withConfigTransport(VaSelectOptionList)\r\n","<template>\r\n  <va-input-wrapper\r\n    :success=\"$props.success\"\r\n    :messages=\"$props.messages\"\r\n    :error=\"$props.error\"\r\n    :error-messages=\"computedErrorMessages\"\r\n    :style=\"{ width: $props.width }\"\r\n  >\r\n    <va-dropdown\r\n      ref=\"dropdown\"\r\n      v-model=\"showDropdownContentComputed\"\r\n      :position=\"$props.position\"\r\n      :disabled=\"$props.disabled\"\r\n      :max-height=\"$props.maxHeight\"\r\n      :fixed=\"$props.fixed\"\r\n      :close-on-content-click=\"closeOnContentClick\"\r\n      trigger=\"none\"\r\n      class=\"va-select__dropdown\"\r\n      keep-anchor-width\r\n      boundary-body\r\n      :stateful=false\r\n    >\r\n      <template #anchor>\r\n        <div\r\n          class=\"va-select\"\r\n          ref=\"select\"\r\n          :tabindex=\"tabIndexComputed\"\r\n          @focus=\"focus\"\r\n          @blur=\"blur\"\r\n          @keydown.enter.stop.prevent=\"onSelectClick()\"\r\n          @keydown.space.stop.prevent=\"onSelectClick()\"\r\n          @click.prevent=\"onSelectClick()\"\r\n        >\r\n          <!-- We show messages outside of dropdown to draw dropdown content under the input -->\r\n          <va-input\r\n            :model-value=\"valueComputedString\"\r\n            :success=\"$props.success\"\r\n            :error=\"computedError\"\r\n            :clearable=\"showClearIcon\"\r\n            :clearableIcon=\"$props.clearableIcon\"\r\n            :color=\"$props.color\"\r\n            :label=\"$props.label\"\r\n            :placeholder=\"$props.placeholder\"\r\n            :loading=\"$props.loading\"\r\n            :disabled=\"$props.disabled\"\r\n            :outline=\"$props.outline\"\r\n            :bordered=\"$props.bordered\"\r\n            :focused=\"isFocusedComputed\"\r\n            :tabindex=\"-1\"\r\n            readonly\r\n            @cleared=\"reset\"\r\n          >\r\n            <template\r\n              v-if=\"$slots.prepend\"\r\n              #prepend\r\n            >\r\n              <slot name=\"prepend\" />\r\n            </template>\r\n\r\n            <template\r\n              v-if=\"$slots.append\"\r\n              #append\r\n            >\r\n              <slot name=\"append\" />\r\n            </template>\r\n\r\n            <template\r\n              v-if=\"$slots.prependInner\"\r\n              #prependInner\r\n            >\r\n              <slot name=\"prependInner\" />\r\n            </template>\r\n\r\n            <template #appendInner>\r\n              <div class=\"va-input__append\">\r\n                <slot\r\n                  v-if=\"$slots.appendInner\"\r\n                  name=\"appendInner\"\r\n                />\r\n                <va-icon\r\n                  :color=\"colorComputed\"\r\n                  :name=\"toggleIcon\"\r\n                />\r\n              </div>\r\n            </template>\r\n\r\n            <template v-if=\"$slots.content\" #content=\"{ value, focus }\">\r\n              <slot name=\"content\" v-bind=\"{ valueString: value, focus, value: valueComputed }\" />\r\n            </template>\r\n          </va-input>\r\n        </div>\r\n      </template>\r\n\r\n      <!-- Stop propagation for enter keyup event, to prevent VaDropdown closing -->\r\n      <va-dropdown-content\r\n        @keyup.enter.stop\r\n        @keydown.esc.prevent=\"hideAndFocus\"\r\n        @keydown.tab=\"hideDropdown\"\r\n      >\r\n        <va-input\r\n          v-if=\"showSearchInput\"\r\n          :id=\"$props.id\"\r\n          ref=\"searchBar\"\r\n          v-model=\"searchInput\"\r\n          class=\"va-select__input\"\r\n          placeholder=\"Search\"\r\n          removable\r\n          :name=\"$props.name\"\r\n          :tabindex=\"tabindex + 1\"\r\n          :bordered=\"true\"\r\n          @keydown.up.stop.prevent=\"hoverPreviousOption()\"\r\n          @keydown.left.stop.prevent=\"hoverPreviousOption()\"\r\n          @keydown.down.stop.prevent=\"hoverNextOption()\"\r\n          @keydown.right.stop.prevent=\"hoverNextOption()\"\r\n          @keydown.enter.prevent=\"selectOrAddOption()\"\r\n          @focus=\"hoveredOption = null\"\r\n        />\r\n        <div class=\"va-select__dropdown__content\">\r\n          <va-select-option-list\r\n            ref=\"optionList\"\r\n            v-model:hoveredOption=\"hoveredOption\"\r\n            :style=\"{ maxHeight: $props.maxHeight }\"\r\n            :options=\"filteredOptions\"\r\n            :selected-value=\"valueComputed\"\r\n            :get-selected-state=\"checkIsOptionSelected\"\r\n            :get-text=\"getText\"\r\n            :get-track-by=\"getTrackBy\"\r\n            :search=\"searchInput\"\r\n            :no-options-text=\"$props.noOptionsText\"\r\n            :color=\"$props.color\"\r\n            :tabindex=\"tabindex + 1\"\r\n            @select-option=\"selectOption\"\r\n            @no-previous-option-to-hover=\"focusSearchBar()\"\r\n            @keydown.enter.stop.prevent=\"selectHoveredOption()\"\r\n            @keydown.space.stop.prevent=\"selectHoveredOption()\"\r\n            @keydown=\"onHintedSearch\"\r\n          />\r\n        </div>\r\n      </va-dropdown-content>\r\n    </va-dropdown>\r\n  </va-input-wrapper>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType, ref, computed, watch, nextTick } from 'vue'\r\n\r\nimport { useSelectableList, useSelectableListProps } from '../../composables/useSelectableList'\r\nimport { useFormComponent, useFormComponentProps } from '../../composables/useFormComponent'\r\nimport { useLoadingProps } from '../../composables/useLoading'\r\nimport { useColor } from '../../composables/useColor'\r\nimport { useMaxSelections, useMaxSelectionsProps } from '../../composables/useMaxSelections'\r\n\r\nimport { warn } from '../../services/utils'\r\nimport VaDropdown, { VaDropdownContent } from '../va-dropdown'\r\nimport VaIcon from '../va-icon'\r\nimport VaInput, { VaInputWrapper } from '../va-input'\r\n\r\nimport VaSelectOptionList from './VaSelectOptionList'\r\n\r\ntype DropdownIcon = {\r\n  open: string,\r\n  close: string\r\n}\r\n\r\nexport default defineComponent({\r\n  name: 'VaSelect',\r\n  components: {\r\n    VaSelectOptionList,\r\n    VaIcon,\r\n    VaDropdown,\r\n    VaDropdownContent,\r\n    VaInput,\r\n    VaInputWrapper,\r\n  },\r\n  emits: ['update-search', 'update:modelValue', 'clear'],\r\n  props: {\r\n    ...useSelectableListProps,\r\n    ...useFormComponentProps,\r\n    ...useLoadingProps,\r\n    ...useMaxSelectionsProps,\r\n\r\n    modelValue: {\r\n      type: [String, Number, Object, Array] as PropType<string | number | Record<string, any> | any[]>,\r\n      default: '',\r\n    },\r\n\r\n    // Dropdown position\r\n    position: {\r\n      type: String as PropType<string>,\r\n      default: 'bottom',\r\n      validator: (position: string) => ['top', 'bottom'].includes(position),\r\n    },\r\n\r\n    allowCreate: {\r\n      type: [Boolean, String] as PropType<boolean | string>,\r\n      default: false,\r\n      validator: (mode: string | boolean) => {\r\n        return [true, false, 'unique'].includes(mode)\r\n      },\r\n    },\r\n\r\n    color: { type: String as PropType<string>, default: 'primary' },\r\n    multiple: { type: Boolean as PropType<boolean>, default: false },\r\n    searchable: { type: Boolean as PropType<boolean>, default: false },\r\n    disabled: { type: Boolean as PropType<boolean>, default: false },\r\n    readonly: { type: Boolean as PropType<boolean>, default: false }, // Probably unused prop! THIS WAS UNUSED! USE\r\n    separator: { type: String as PropType<string>, default: ', ' },\r\n    width: { type: String as PropType<string>, default: '100%' },\r\n    maxHeight: { type: String as PropType<string>, default: '128px' },\r\n    clearValue: { type: String as PropType<string>, default: '' },\r\n    noOptionsText: { type: String as PropType<string>, default: 'Items not found' },\r\n    fixed: { type: Boolean as PropType<boolean>, default: true },\r\n    clearable: { type: Boolean as PropType<boolean>, default: false },\r\n    clearableIcon: { type: String as PropType<string>, default: 'highlight_off' },\r\n    hideSelected: { type: Boolean as PropType<boolean>, default: false },\r\n    tabindex: { type: Number as PropType<number>, default: 0 },\r\n    dropdownIcon: {\r\n      type: [String, Object] as PropType<string | DropdownIcon>,\r\n      default: (): DropdownIcon => ({\r\n        open: 'expand_more',\r\n        close: 'expand_less',\r\n      }),\r\n      validator: (value: any) => {\r\n        if (typeof value === 'string') { return true }\r\n\r\n        const isOpenIconString = typeof value.open === 'string'\r\n        const isCloseIconString = typeof value.close === 'string'\r\n\r\n        return isOpenIconString && isCloseIconString\r\n      },\r\n    },\r\n\r\n    // Input style\r\n    outline: { type: Boolean as PropType<boolean>, default: false },\r\n    bordered: { type: Boolean as PropType<boolean>, default: false },\r\n    label: { type: String as PropType<string>, default: '' },\r\n    placeholder: { type: String as PropType<string>, default: '' },\r\n  },\r\n\r\n  setup (props, context) {\r\n    // DOM element or component instance will be assigned to these refs after initial render (template refs and reactive refs are unified in Composition API)\r\n    const select = ref(null as any)\r\n    const optionList = ref(null as any)\r\n    const searchBar = ref(null as any)\r\n\r\n    const { getOptionByValue, getValue, getText, getTrackBy } = useSelectableList(props)\r\n    const { validate, isFocused, computedErrorMessages, computedError } = useFormComponent(props, context)\r\n    const { colorComputed } = useColor(props)\r\n\r\n    const searchInput = ref('')\r\n    const showSearchInput = computed(() => {\r\n      return props.searchable || props.allowCreate\r\n    })\r\n\r\n    watch(() => searchInput.value, (value) => {\r\n      context.emit('update-search', value)\r\n      hoveredOption.value = null\r\n    })\r\n\r\n    // Select value\r\n\r\n    const valueComputed = computed({\r\n      get () {\r\n        const value = getOptionByValue(props.modelValue)\r\n\r\n        if (props.multiple) {\r\n          if (!value) {\r\n            return []\r\n          }\r\n\r\n          if (!Array.isArray(value)) {\r\n            return [value]\r\n          }\r\n\r\n          return value\r\n        }\r\n\r\n        if (Array.isArray(value)) {\r\n          warn('Model value should be a string for a single Select.')\r\n\r\n          if (value.length) {\r\n            return value[value.length - 1]\r\n          }\r\n        }\r\n\r\n        return value\r\n      },\r\n\r\n      set (value: any) {\r\n        context.emit('update:modelValue', getValue(value))\r\n      },\r\n    })\r\n\r\n    const valueComputedString = computed((): string => {\r\n      if (!valueComputed.value) { return props.clearValue }\r\n      if (typeof valueComputed.value === 'string') { return valueComputed.value }\r\n      if (Array.isArray(valueComputed.value)) {\r\n        return valueComputed.value.map((value) => getText(value)).join(props.separator) || props.clearValue\r\n      }\r\n\r\n      return getText(valueComputed.value)\r\n    })\r\n\r\n    // Icons\r\n\r\n    const showClearIcon = computed((): boolean => {\r\n      if (!props.clearable) { return false }\r\n      if (props.disabled) { return false }\r\n      if (props.multiple) { return !!valueComputed.value.length }\r\n\r\n      return valueComputed.value !== props.clearValue\r\n    })\r\n\r\n    const toggleIcon = computed((): string => {\r\n      if (!props.dropdownIcon) { return '' }\r\n\r\n      if (typeof props.dropdownIcon === 'string') {\r\n        return props.dropdownIcon\r\n      }\r\n\r\n      return showDropdownContent.value ? props.dropdownIcon.close : props.dropdownIcon.open\r\n    })\r\n\r\n    // Options\r\n\r\n    const filteredOptions = computed((): any[] => {\r\n      if (!props.options) { return [] }\r\n\r\n      if (props.hideSelected) {\r\n        return (props.options).filter((option) => !checkIsOptionSelected(option))\r\n      }\r\n\r\n      return props.options\r\n    })\r\n\r\n    const checkIsOptionSelected = (option: any): boolean => {\r\n      if (!valueComputed.value) { return false }\r\n\r\n      if (Array.isArray(valueComputed.value)) {\r\n        return !!valueComputed.value.find((valueItem: any) => compareOptions(valueItem, option))\r\n      }\r\n\r\n      return compareOptions(valueComputed.value, option)\r\n    }\r\n\r\n    const compareOptions = (one: any, two: any) => {\r\n      // identity check works nice for strings and exact matches.\r\n      if (one === two) {\r\n        return true\r\n      }\r\n      if (typeof one === 'string' && typeof two === 'string') {\r\n        return one === two\r\n      }\r\n      if (one === null || two === null) {\r\n        return false\r\n      }\r\n      if (typeof one === 'object' && typeof two === 'object') {\r\n        return getTrackBy(one) === getTrackBy(two)\r\n      }\r\n\r\n      return false\r\n    }\r\n\r\n    const selectedOption = computed(() => {\r\n      if (props.multiple) { return null }\r\n      if (!valueComputed.value) { return null }\r\n      if (!props.options) { return null }\r\n\r\n      return props.options.find((option: any) => compareOptions(option, valueComputed.value))\r\n    })\r\n\r\n    const { exceedsMaxSelections, addOption } = useMaxSelections(valueComputed, ref(props.maxSelections), context.emit)\r\n\r\n    const selectOption = (option: any): void => {\r\n      if (hoveredOption.value === null) {\r\n        hideAndFocus()\r\n        return\r\n      }\r\n\r\n      if (showSearchInput.value) {\r\n        searchInput.value = ''\r\n      }\r\n\r\n      if (props.multiple) {\r\n        const isSelected = checkIsOptionSelected(option)\r\n\r\n        if (isSelected) {\r\n          // Unselect\r\n          valueComputed.value = valueComputed.value.filter((optionSelected: any) => !compareOptions(option, optionSelected))\r\n        } else {\r\n          if (exceedsMaxSelections()) { return }\r\n          addOption(option)\r\n        }\r\n      } else {\r\n        valueComputed.value = typeof option === 'string' ? option : { ...option }\r\n        hideAndFocus()\r\n      }\r\n    }\r\n\r\n    const selectOrAddOption = () => {\r\n      if (hoveredOption.value !== null) {\r\n        selectHoveredOption()\r\n        return\r\n      }\r\n\r\n      if (allowCreateCheck()) {\r\n        addNewOption()\r\n      }\r\n    }\r\n\r\n    const allowCreateCheck = (): boolean => {\r\n      return !!(props.allowCreate && searchInput.value !== '')\r\n    }\r\n\r\n    const addNewOption = (): void => {\r\n      if (props.multiple) {\r\n        if (exceedsMaxSelections()) { return }\r\n\r\n        const hasAddedOption: boolean = valueComputed.value.some((value: any) => value === searchInput.value)\r\n\r\n        // Do not change valueComputed if option already exist and allow create is `unique`\r\n        if (!(props.allowCreate === 'unique' && hasAddedOption)) {\r\n          valueComputed.value = [...valueComputed.value, searchInput.value]\r\n        }\r\n      } else {\r\n        valueComputed.value = searchInput.value\r\n      }\r\n\r\n      searchInput.value = ''\r\n    }\r\n\r\n    // Hovered options\r\n\r\n    const hoveredOption = ref(null as any)\r\n\r\n    const selectHoveredOption = () => {\r\n      if (!showDropdownContent.value) {\r\n        // We can not select options if they are hidden\r\n        showDropdown()\r\n        return\r\n      }\r\n\r\n      selectOption(hoveredOption.value)\r\n    }\r\n\r\n    const hoverPreviousOption = () => {\r\n      optionList.value?.hoverPreviousOption()\r\n    }\r\n\r\n    const hoverNextOption = () => {\r\n      optionList.value?.hoverNextOption()\r\n    }\r\n\r\n    // Dropdown content\r\n\r\n    const showDropdownContent = ref(false)\r\n\r\n    const showDropdownContentComputed = computed({\r\n      get: () => {\r\n        return showDropdownContent.value\r\n      },\r\n      set: (show: boolean) => {\r\n        show\r\n          ? showDropdown()\r\n          : hideDropdown()\r\n      },\r\n    })\r\n\r\n    const closeOnContentClick = computed(() => {\r\n      return !(props.multiple || props.searchable || props.allowCreate)\r\n    })\r\n\r\n    const showDropdown = () => {\r\n      showDropdownContent.value = true\r\n      scrollToSelected()\r\n      focusSearchOrOptions()\r\n    }\r\n\r\n    const hideDropdown = () => {\r\n      showDropdownContent.value = false\r\n      validate()\r\n    }\r\n\r\n    const toggleDropdown = () => {\r\n      if (showDropdownContent.value) {\r\n        hideAndFocus()\r\n      } else {\r\n        showDropdown()\r\n      }\r\n    }\r\n\r\n    // Focus and keyboard navigation\r\n\r\n    const isFocusedComputed = computed(() => {\r\n      // If we show dropdown content that means select is focused\r\n      return isFocused.value || showDropdownContent.value\r\n    })\r\n\r\n    const onSelectClick = () => {\r\n      if (props.disabled) {\r\n        return\r\n      }\r\n\r\n      toggleDropdown()\r\n    }\r\n\r\n    const focusSelect = () => {\r\n      select.value?.focus()\r\n    }\r\n\r\n    const hideAndFocus = (): void => {\r\n      hideDropdown()\r\n      focusSelect()\r\n    }\r\n\r\n    const focusSearchBar = () => {\r\n      searchBar.value?.focus()\r\n    }\r\n\r\n    const focusOptionList = () => {\r\n      optionList.value?.focus()\r\n    }\r\n\r\n    const focusSearchOrOptions = () => {\r\n      nextTick(() => {\r\n        if (showSearchInput.value) {\r\n          focusSearchBar()\r\n        } else { focusOptionList() }\r\n      })\r\n    }\r\n\r\n    /** @public */\r\n    const focus = (): void => {\r\n      if (props.disabled) {\r\n        return\r\n      }\r\n      isFocused.value = true\r\n    }\r\n\r\n    /** @public */\r\n    const blur = (): void => {\r\n      isFocused.value = false\r\n      validate()\r\n    }\r\n\r\n    /** @public */\r\n    const reset = (): void => {\r\n      if (props.multiple) {\r\n        valueComputed.value = Array.isArray(props.clearValue) ? props.clearValue : []\r\n      } else {\r\n        valueComputed.value = props.clearValue\r\n      }\r\n\r\n      searchInput.value = ''\r\n      context.emit('clear')\r\n    }\r\n\r\n    const tabIndexComputed = computed(() => {\r\n      return props.disabled ? -1 : props.tabindex\r\n    })\r\n\r\n    const scrollToSelected = (): void => {\r\n      const selected = valueComputed.value\r\n      const nothingSelected = !selected.length && typeof selected !== 'object'\r\n\r\n      if (nothingSelected) {\r\n        return\r\n      }\r\n\r\n      const scrollTo = Array.isArray(selected) ? selected[selected.length - 1] : selected\r\n      hoveredOption.value = scrollTo\r\n      nextTick(() => optionList.value?.scrollToOption(scrollTo))\r\n    }\r\n\r\n    // Hinted search\r\n\r\n    let hintedSearchQuery = ''\r\n    let hintedSearchQueryTimeoutIndex!: any\r\n    const navigationKeys = ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'Enter', ' ']\r\n\r\n    // Hinted search - hover option if you typing it's value on select without search-bar\r\n    const onHintedSearch = (event: KeyboardEvent) => {\r\n      if (navigationKeys.some(key => key === event.key)) {\r\n        return\r\n      }\r\n\r\n      const isLetter: boolean = event.key.length === 1\r\n      const isDeleteKey: boolean = event.key === 'Backspace' || event.key === 'Delete'\r\n\r\n      clearTimeout(hintedSearchQueryTimeoutIndex)\r\n\r\n      if (isDeleteKey) {\r\n        // Remove last letter from query\r\n        hintedSearchQuery = hintedSearchQuery ? hintedSearchQuery.slice(0, -1) : ''\r\n      } else if (isLetter) {\r\n        // Add every new letter to the query\r\n        hintedSearchQuery += event.key\r\n      }\r\n\r\n      if (showSearchInput.value) {\r\n        searchInput.value = hintedSearchQuery\r\n        return\r\n      }\r\n\r\n      // Search for an option that matches the query\r\n      if (hintedSearchQuery) {\r\n        const appropriateOption = props.options.find(option => getText(option).toLowerCase().startsWith(hintedSearchQuery.toLowerCase()))\r\n        if (appropriateOption) {\r\n          hoveredOption.value = appropriateOption\r\n        }\r\n      }\r\n\r\n      hintedSearchQueryTimeoutIndex = setTimeout(() => { hintedSearchQuery = '' }, 1000)\r\n    }\r\n\r\n    return {\r\n      select,\r\n      optionList,\r\n      focusOptionList,\r\n      focus,\r\n      blur,\r\n      reset,\r\n      onSelectClick,\r\n      hideAndFocus,\r\n      searchBar,\r\n      focusSearchBar,\r\n      searchInput,\r\n      showSearchInput,\r\n      hoveredOption,\r\n      tabIndexComputed,\r\n      valueComputed,\r\n      valueComputedString,\r\n      showClearIcon,\r\n      toggleIcon,\r\n      showDropdownContent,\r\n      computedErrorMessages,\r\n      computedError,\r\n      filteredOptions,\r\n      checkIsOptionSelected,\r\n      closeOnContentClick,\r\n      selectOption,\r\n      selectOrAddOption,\r\n      selectHoveredOption,\r\n      hoverPreviousOption,\r\n      hoverNextOption,\r\n      showDropdownContentComputed,\r\n      showDropdown,\r\n      hideDropdown,\r\n      toggleDropdown,\r\n      isFocusedComputed,\r\n      colorComputed,\r\n      onHintedSearch,\r\n      getText,\r\n      getTrackBy,\r\n    }\r\n  },\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"../../styles/resources/resources\";\r\n@import 'variables';\r\n\r\n.va-select {\r\n  cursor: var(--va-select-cursor);\r\n\r\n  .va-input {\r\n    cursor: var(--va-select-cursor);\r\n  }\r\n\r\n  .va-input__append {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-content: center;\r\n  }\r\n\r\n  &__dropdown {\r\n    .va-dropdown__anchor {\r\n      display: block;\r\n    }\r\n\r\n    .va-dropdown__content {\r\n      overflow: hidden;\r\n      border-bottom-right-radius: var(--va-select-dropdown-border-radius);\r\n      border-bottom-left-radius: var(--va-select-dropdown-border-radius);\r\n      border-top-right-radius: 0;\r\n      border-top-left-radius: 0;\r\n      box-shadow: var(--va-select-box-shadow);\r\n      padding: 0;\r\n    }\r\n\r\n    .va-select__dropdown__content {\r\n      background: var(--va-select-dropdown-background);\r\n      overflow-y: auto;\r\n\r\n      @include va-scroll(var(--va-select-scroll-color));\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { PropType, computed } from 'vue'\r\nimport { getColor } from '../services/color-config/color-config'\r\n\r\n/**\r\n * You could add these props to any component by destructuring them inside props option.\r\n * @example\r\n * props: { ...useColorProps, componentsOwnProp, etc. }\r\n * It's better to add props at the beginning, to make sure that Component own props will be used instead in case of collision\r\n */\r\nexport const useColorProps = {\r\n  color: {\r\n    type: String as PropType<string>,\r\n    default: '',\r\n  },\r\n}\r\n\r\nexport function useColor (props: any) {\r\n  const hasColorTheme = true\r\n  const theme = { getColor }\r\n\r\n  const colorComputed = computed(() => {\r\n    return theme.getColor(props.color)\r\n  })\r\n\r\n  const computeColor = (prop: string, defaultColor?: string) => {\r\n    return theme.getColor(prop, defaultColor)\r\n  }\r\n\r\n  return {\r\n    hasColorTheme,\r\n    theme,\r\n    colorComputed,\r\n    computeColor,\r\n  }\r\n}\r\n","<template>\r\n  <va-input-wrapper\r\n    :success=\"$props.success\"\r\n    :messages=\"$props.messages\"\r\n    :error=\"$props.error\"\r\n    :error-messages=\"computedErrorMessages\"\r\n    :style=\"{ width: $props.width }\"\r\n  >\r\n    <va-dropdown\r\n      ref=\"dropdown\"\r\n      v-model=\"showDropdownContentComputed\"\r\n      :position=\"$props.position\"\r\n      :disabled=\"$props.disabled\"\r\n      :max-height=\"$props.maxHeight\"\r\n      :fixed=\"$props.fixed\"\r\n      :close-on-content-click=\"closeOnContentClick\"\r\n      trigger=\"none\"\r\n      class=\"va-select__dropdown\"\r\n      keep-anchor-width\r\n      boundary-body\r\n      :stateful=false\r\n    >\r\n      <template #anchor>\r\n        <div\r\n          class=\"va-select\"\r\n          ref=\"select\"\r\n          :tabindex=\"tabIndexComputed\"\r\n          @focus=\"focus\"\r\n          @blur=\"blur\"\r\n          @keydown.enter.stop.prevent=\"onSelectClick()\"\r\n          @keydown.space.stop.prevent=\"onSelectClick()\"\r\n          @click.prevent=\"onSelectClick()\"\r\n        >\r\n          <!-- We show messages outside of dropdown to draw dropdown content under the input -->\r\n          <va-input\r\n            :model-value=\"valueComputedString\"\r\n            :success=\"$props.success\"\r\n            :error=\"computedError\"\r\n            :clearable=\"showClearIcon\"\r\n            :clearableIcon=\"$props.clearableIcon\"\r\n            :color=\"$props.color\"\r\n            :label=\"$props.label\"\r\n            :placeholder=\"$props.placeholder\"\r\n            :loading=\"$props.loading\"\r\n            :disabled=\"$props.disabled\"\r\n            :outline=\"$props.outline\"\r\n            :bordered=\"$props.bordered\"\r\n            :focused=\"isFocusedComputed\"\r\n            :tabindex=\"-1\"\r\n            readonly\r\n            @cleared=\"reset\"\r\n          >\r\n            <template\r\n              v-if=\"$slots.prepend\"\r\n              #prepend\r\n            >\r\n              <slot name=\"prepend\" />\r\n            </template>\r\n\r\n            <template\r\n              v-if=\"$slots.append\"\r\n              #append\r\n            >\r\n              <slot name=\"append\" />\r\n            </template>\r\n\r\n            <template\r\n              v-if=\"$slots.prependInner\"\r\n              #prependInner\r\n            >\r\n              <slot name=\"prependInner\" />\r\n            </template>\r\n\r\n            <template #appendInner>\r\n              <div class=\"va-input__append\">\r\n                <slot\r\n                  v-if=\"$slots.appendInner\"\r\n                  name=\"appendInner\"\r\n                />\r\n                <va-icon\r\n                  :color=\"colorComputed\"\r\n                  :name=\"toggleIcon\"\r\n                />\r\n              </div>\r\n            </template>\r\n\r\n            <template v-if=\"$slots.content\" #content=\"{ value, focus }\">\r\n              <slot name=\"content\" v-bind=\"{ valueString: value, focus, value: valueComputed }\" />\r\n            </template>\r\n          </va-input>\r\n        </div>\r\n      </template>\r\n\r\n      <!-- Stop propagation for enter keyup event, to prevent VaDropdown closing -->\r\n      <va-dropdown-content\r\n        @keyup.enter.stop\r\n        @keydown.esc.prevent=\"hideAndFocus\"\r\n        @keydown.tab=\"hideDropdown\"\r\n      >\r\n        <va-input\r\n          v-if=\"showSearchInput\"\r\n          :id=\"$props.id\"\r\n          ref=\"searchBar\"\r\n          v-model=\"searchInput\"\r\n          class=\"va-select__input\"\r\n          placeholder=\"Search\"\r\n          removable\r\n          :name=\"$props.name\"\r\n          :tabindex=\"tabindex + 1\"\r\n          :bordered=\"true\"\r\n          @keydown.up.stop.prevent=\"hoverPreviousOption()\"\r\n          @keydown.left.stop.prevent=\"hoverPreviousOption()\"\r\n          @keydown.down.stop.prevent=\"hoverNextOption()\"\r\n          @keydown.right.stop.prevent=\"hoverNextOption()\"\r\n          @keydown.enter.prevent=\"selectOrAddOption()\"\r\n          @focus=\"hoveredOption = null\"\r\n        />\r\n        <div class=\"va-select__dropdown__content\">\r\n          <va-select-option-list\r\n            ref=\"optionList\"\r\n            v-model:hoveredOption=\"hoveredOption\"\r\n            :style=\"{ maxHeight: $props.maxHeight }\"\r\n            :options=\"filteredOptions\"\r\n            :selected-value=\"valueComputed\"\r\n            :get-selected-state=\"checkIsOptionSelected\"\r\n            :get-text=\"getText\"\r\n            :get-track-by=\"getTrackBy\"\r\n            :search=\"searchInput\"\r\n            :no-options-text=\"$props.noOptionsText\"\r\n            :color=\"$props.color\"\r\n            :tabindex=\"tabindex + 1\"\r\n            @select-option=\"selectOption\"\r\n            @no-previous-option-to-hover=\"focusSearchBar()\"\r\n            @keydown.enter.stop.prevent=\"selectHoveredOption()\"\r\n            @keydown.space.stop.prevent=\"selectHoveredOption()\"\r\n            @keydown=\"onHintedSearch\"\r\n          />\r\n        </div>\r\n      </va-dropdown-content>\r\n    </va-dropdown>\r\n  </va-input-wrapper>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType, ref, computed, watch, nextTick } from 'vue'\r\n\r\nimport { useSelectableList, useSelectableListProps } from '../../composables/useSelectableList'\r\nimport { useFormComponent, useFormComponentProps } from '../../composables/useFormComponent'\r\nimport { useLoadingProps } from '../../composables/useLoading'\r\nimport { useColor } from '../../composables/useColor'\r\nimport { useMaxSelections, useMaxSelectionsProps } from '../../composables/useMaxSelections'\r\n\r\nimport { warn } from '../../services/utils'\r\nimport VaDropdown, { VaDropdownContent } from '../va-dropdown'\r\nimport VaIcon from '../va-icon'\r\nimport VaInput, { VaInputWrapper } from '../va-input'\r\n\r\nimport VaSelectOptionList from './VaSelectOptionList'\r\n\r\ntype DropdownIcon = {\r\n  open: string,\r\n  close: string\r\n}\r\n\r\nexport default defineComponent({\r\n  name: 'VaSelect',\r\n  components: {\r\n    VaSelectOptionList,\r\n    VaIcon,\r\n    VaDropdown,\r\n    VaDropdownContent,\r\n    VaInput,\r\n    VaInputWrapper,\r\n  },\r\n  emits: ['update-search', 'update:modelValue', 'clear'],\r\n  props: {\r\n    ...useSelectableListProps,\r\n    ...useFormComponentProps,\r\n    ...useLoadingProps,\r\n    ...useMaxSelectionsProps,\r\n\r\n    modelValue: {\r\n      type: [String, Number, Object, Array] as PropType<string | number | Record<string, any> | any[]>,\r\n      default: '',\r\n    },\r\n\r\n    // Dropdown position\r\n    position: {\r\n      type: String as PropType<string>,\r\n      default: 'bottom',\r\n      validator: (position: string) => ['top', 'bottom'].includes(position),\r\n    },\r\n\r\n    allowCreate: {\r\n      type: [Boolean, String] as PropType<boolean | string>,\r\n      default: false,\r\n      validator: (mode: string | boolean) => {\r\n        return [true, false, 'unique'].includes(mode)\r\n      },\r\n    },\r\n\r\n    color: { type: String as PropType<string>, default: 'primary' },\r\n    multiple: { type: Boolean as PropType<boolean>, default: false },\r\n    searchable: { type: Boolean as PropType<boolean>, default: false },\r\n    disabled: { type: Boolean as PropType<boolean>, default: false },\r\n    readonly: { type: Boolean as PropType<boolean>, default: false }, // Probably unused prop! THIS WAS UNUSED! USE\r\n    separator: { type: String as PropType<string>, default: ', ' },\r\n    width: { type: String as PropType<string>, default: '100%' },\r\n    maxHeight: { type: String as PropType<string>, default: '128px' },\r\n    clearValue: { type: String as PropType<string>, default: '' },\r\n    noOptionsText: { type: String as PropType<string>, default: 'Items not found' },\r\n    fixed: { type: Boolean as PropType<boolean>, default: true },\r\n    clearable: { type: Boolean as PropType<boolean>, default: false },\r\n    clearableIcon: { type: String as PropType<string>, default: 'highlight_off' },\r\n    hideSelected: { type: Boolean as PropType<boolean>, default: false },\r\n    tabindex: { type: Number as PropType<number>, default: 0 },\r\n    dropdownIcon: {\r\n      type: [String, Object] as PropType<string | DropdownIcon>,\r\n      default: (): DropdownIcon => ({\r\n        open: 'expand_more',\r\n        close: 'expand_less',\r\n      }),\r\n      validator: (value: any) => {\r\n        if (typeof value === 'string') { return true }\r\n\r\n        const isOpenIconString = typeof value.open === 'string'\r\n        const isCloseIconString = typeof value.close === 'string'\r\n\r\n        return isOpenIconString && isCloseIconString\r\n      },\r\n    },\r\n\r\n    // Input style\r\n    outline: { type: Boolean as PropType<boolean>, default: false },\r\n    bordered: { type: Boolean as PropType<boolean>, default: false },\r\n    label: { type: String as PropType<string>, default: '' },\r\n    placeholder: { type: String as PropType<string>, default: '' },\r\n  },\r\n\r\n  setup (props, context) {\r\n    // DOM element or component instance will be assigned to these refs after initial render (template refs and reactive refs are unified in Composition API)\r\n    const select = ref(null as any)\r\n    const optionList = ref(null as any)\r\n    const searchBar = ref(null as any)\r\n\r\n    const { getOptionByValue, getValue, getText, getTrackBy } = useSelectableList(props)\r\n    const { validate, isFocused, computedErrorMessages, computedError } = useFormComponent(props, context)\r\n    const { colorComputed } = useColor(props)\r\n\r\n    const searchInput = ref('')\r\n    const showSearchInput = computed(() => {\r\n      return props.searchable || props.allowCreate\r\n    })\r\n\r\n    watch(() => searchInput.value, (value) => {\r\n      context.emit('update-search', value)\r\n      hoveredOption.value = null\r\n    })\r\n\r\n    // Select value\r\n\r\n    const valueComputed = computed({\r\n      get () {\r\n        const value = getOptionByValue(props.modelValue)\r\n\r\n        if (props.multiple) {\r\n          if (!value) {\r\n            return []\r\n          }\r\n\r\n          if (!Array.isArray(value)) {\r\n            return [value]\r\n          }\r\n\r\n          return value\r\n        }\r\n\r\n        if (Array.isArray(value)) {\r\n          warn('Model value should be a string for a single Select.')\r\n\r\n          if (value.length) {\r\n            return value[value.length - 1]\r\n          }\r\n        }\r\n\r\n        return value\r\n      },\r\n\r\n      set (value: any) {\r\n        context.emit('update:modelValue', getValue(value))\r\n      },\r\n    })\r\n\r\n    const valueComputedString = computed((): string => {\r\n      if (!valueComputed.value) { return props.clearValue }\r\n      if (typeof valueComputed.value === 'string') { return valueComputed.value }\r\n      if (Array.isArray(valueComputed.value)) {\r\n        return valueComputed.value.map((value) => getText(value)).join(props.separator) || props.clearValue\r\n      }\r\n\r\n      return getText(valueComputed.value)\r\n    })\r\n\r\n    // Icons\r\n\r\n    const showClearIcon = computed((): boolean => {\r\n      if (!props.clearable) { return false }\r\n      if (props.disabled) { return false }\r\n      if (props.multiple) { return !!valueComputed.value.length }\r\n\r\n      return valueComputed.value !== props.clearValue\r\n    })\r\n\r\n    const toggleIcon = computed((): string => {\r\n      if (!props.dropdownIcon) { return '' }\r\n\r\n      if (typeof props.dropdownIcon === 'string') {\r\n        return props.dropdownIcon\r\n      }\r\n\r\n      return showDropdownContent.value ? props.dropdownIcon.close : props.dropdownIcon.open\r\n    })\r\n\r\n    // Options\r\n\r\n    const filteredOptions = computed((): any[] => {\r\n      if (!props.options) { return [] }\r\n\r\n      if (props.hideSelected) {\r\n        return (props.options).filter((option) => !checkIsOptionSelected(option))\r\n      }\r\n\r\n      return props.options\r\n    })\r\n\r\n    const checkIsOptionSelected = (option: any): boolean => {\r\n      if (!valueComputed.value) { return false }\r\n\r\n      if (Array.isArray(valueComputed.value)) {\r\n        return !!valueComputed.value.find((valueItem: any) => compareOptions(valueItem, option))\r\n      }\r\n\r\n      return compareOptions(valueComputed.value, option)\r\n    }\r\n\r\n    const compareOptions = (one: any, two: any) => {\r\n      // identity check works nice for strings and exact matches.\r\n      if (one === two) {\r\n        return true\r\n      }\r\n      if (typeof one === 'string' && typeof two === 'string') {\r\n        return one === two\r\n      }\r\n      if (one === null || two === null) {\r\n        return false\r\n      }\r\n      if (typeof one === 'object' && typeof two === 'object') {\r\n        return getTrackBy(one) === getTrackBy(two)\r\n      }\r\n\r\n      return false\r\n    }\r\n\r\n    const selectedOption = computed(() => {\r\n      if (props.multiple) { return null }\r\n      if (!valueComputed.value) { return null }\r\n      if (!props.options) { return null }\r\n\r\n      return props.options.find((option: any) => compareOptions(option, valueComputed.value))\r\n    })\r\n\r\n    const { exceedsMaxSelections, addOption } = useMaxSelections(valueComputed, ref(props.maxSelections), context.emit)\r\n\r\n    const selectOption = (option: any): void => {\r\n      if (hoveredOption.value === null) {\r\n        hideAndFocus()\r\n        return\r\n      }\r\n\r\n      if (showSearchInput.value) {\r\n        searchInput.value = ''\r\n      }\r\n\r\n      if (props.multiple) {\r\n        const isSelected = checkIsOptionSelected(option)\r\n\r\n        if (isSelected) {\r\n          // Unselect\r\n          valueComputed.value = valueComputed.value.filter((optionSelected: any) => !compareOptions(option, optionSelected))\r\n        } else {\r\n          if (exceedsMaxSelections()) { return }\r\n          addOption(option)\r\n        }\r\n      } else {\r\n        valueComputed.value = typeof option === 'string' ? option : { ...option }\r\n        hideAndFocus()\r\n      }\r\n    }\r\n\r\n    const selectOrAddOption = () => {\r\n      if (hoveredOption.value !== null) {\r\n        selectHoveredOption()\r\n        return\r\n      }\r\n\r\n      if (allowCreateCheck()) {\r\n        addNewOption()\r\n      }\r\n    }\r\n\r\n    const allowCreateCheck = (): boolean => {\r\n      return !!(props.allowCreate && searchInput.value !== '')\r\n    }\r\n\r\n    const addNewOption = (): void => {\r\n      if (props.multiple) {\r\n        if (exceedsMaxSelections()) { return }\r\n\r\n        const hasAddedOption: boolean = valueComputed.value.some((value: any) => value === searchInput.value)\r\n\r\n        // Do not change valueComputed if option already exist and allow create is `unique`\r\n        if (!(props.allowCreate === 'unique' && hasAddedOption)) {\r\n          valueComputed.value = [...valueComputed.value, searchInput.value]\r\n        }\r\n      } else {\r\n        valueComputed.value = searchInput.value\r\n      }\r\n\r\n      searchInput.value = ''\r\n    }\r\n\r\n    // Hovered options\r\n\r\n    const hoveredOption = ref(null as any)\r\n\r\n    const selectHoveredOption = () => {\r\n      if (!showDropdownContent.value) {\r\n        // We can not select options if they are hidden\r\n        showDropdown()\r\n        return\r\n      }\r\n\r\n      selectOption(hoveredOption.value)\r\n    }\r\n\r\n    const hoverPreviousOption = () => {\r\n      optionList.value?.hoverPreviousOption()\r\n    }\r\n\r\n    const hoverNextOption = () => {\r\n      optionList.value?.hoverNextOption()\r\n    }\r\n\r\n    // Dropdown content\r\n\r\n    const showDropdownContent = ref(false)\r\n\r\n    const showDropdownContentComputed = computed({\r\n      get: () => {\r\n        return showDropdownContent.value\r\n      },\r\n      set: (show: boolean) => {\r\n        show\r\n          ? showDropdown()\r\n          : hideDropdown()\r\n      },\r\n    })\r\n\r\n    const closeOnContentClick = computed(() => {\r\n      return !(props.multiple || props.searchable || props.allowCreate)\r\n    })\r\n\r\n    const showDropdown = () => {\r\n      showDropdownContent.value = true\r\n      scrollToSelected()\r\n      focusSearchOrOptions()\r\n    }\r\n\r\n    const hideDropdown = () => {\r\n      showDropdownContent.value = false\r\n      validate()\r\n    }\r\n\r\n    const toggleDropdown = () => {\r\n      if (showDropdownContent.value) {\r\n        hideAndFocus()\r\n      } else {\r\n        showDropdown()\r\n      }\r\n    }\r\n\r\n    // Focus and keyboard navigation\r\n\r\n    const isFocusedComputed = computed(() => {\r\n      // If we show dropdown content that means select is focused\r\n      return isFocused.value || showDropdownContent.value\r\n    })\r\n\r\n    const onSelectClick = () => {\r\n      if (props.disabled) {\r\n        return\r\n      }\r\n\r\n      toggleDropdown()\r\n    }\r\n\r\n    const focusSelect = () => {\r\n      select.value?.focus()\r\n    }\r\n\r\n    const hideAndFocus = (): void => {\r\n      hideDropdown()\r\n      focusSelect()\r\n    }\r\n\r\n    const focusSearchBar = () => {\r\n      searchBar.value?.focus()\r\n    }\r\n\r\n    const focusOptionList = () => {\r\n      optionList.value?.focus()\r\n    }\r\n\r\n    const focusSearchOrOptions = () => {\r\n      nextTick(() => {\r\n        if (showSearchInput.value) {\r\n          focusSearchBar()\r\n        } else { focusOptionList() }\r\n      })\r\n    }\r\n\r\n    /** @public */\r\n    const focus = (): void => {\r\n      if (props.disabled) {\r\n        return\r\n      }\r\n      isFocused.value = true\r\n    }\r\n\r\n    /** @public */\r\n    const blur = (): void => {\r\n      isFocused.value = false\r\n      validate()\r\n    }\r\n\r\n    /** @public */\r\n    const reset = (): void => {\r\n      if (props.multiple) {\r\n        valueComputed.value = Array.isArray(props.clearValue) ? props.clearValue : []\r\n      } else {\r\n        valueComputed.value = props.clearValue\r\n      }\r\n\r\n      searchInput.value = ''\r\n      context.emit('clear')\r\n    }\r\n\r\n    const tabIndexComputed = computed(() => {\r\n      return props.disabled ? -1 : props.tabindex\r\n    })\r\n\r\n    const scrollToSelected = (): void => {\r\n      const selected = valueComputed.value\r\n      const nothingSelected = !selected.length && typeof selected !== 'object'\r\n\r\n      if (nothingSelected) {\r\n        return\r\n      }\r\n\r\n      const scrollTo = Array.isArray(selected) ? selected[selected.length - 1] : selected\r\n      hoveredOption.value = scrollTo\r\n      nextTick(() => optionList.value?.scrollToOption(scrollTo))\r\n    }\r\n\r\n    // Hinted search\r\n\r\n    let hintedSearchQuery = ''\r\n    let hintedSearchQueryTimeoutIndex!: any\r\n    const navigationKeys = ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'Enter', ' ']\r\n\r\n    // Hinted search - hover option if you typing it's value on select without search-bar\r\n    const onHintedSearch = (event: KeyboardEvent) => {\r\n      if (navigationKeys.some(key => key === event.key)) {\r\n        return\r\n      }\r\n\r\n      const isLetter: boolean = event.key.length === 1\r\n      const isDeleteKey: boolean = event.key === 'Backspace' || event.key === 'Delete'\r\n\r\n      clearTimeout(hintedSearchQueryTimeoutIndex)\r\n\r\n      if (isDeleteKey) {\r\n        // Remove last letter from query\r\n        hintedSearchQuery = hintedSearchQuery ? hintedSearchQuery.slice(0, -1) : ''\r\n      } else if (isLetter) {\r\n        // Add every new letter to the query\r\n        hintedSearchQuery += event.key\r\n      }\r\n\r\n      if (showSearchInput.value) {\r\n        searchInput.value = hintedSearchQuery\r\n        return\r\n      }\r\n\r\n      // Search for an option that matches the query\r\n      if (hintedSearchQuery) {\r\n        const appropriateOption = props.options.find(option => getText(option).toLowerCase().startsWith(hintedSearchQuery.toLowerCase()))\r\n        if (appropriateOption) {\r\n          hoveredOption.value = appropriateOption\r\n        }\r\n      }\r\n\r\n      hintedSearchQueryTimeoutIndex = setTimeout(() => { hintedSearchQuery = '' }, 1000)\r\n    }\r\n\r\n    return {\r\n      select,\r\n      optionList,\r\n      focusOptionList,\r\n      focus,\r\n      blur,\r\n      reset,\r\n      onSelectClick,\r\n      hideAndFocus,\r\n      searchBar,\r\n      focusSearchBar,\r\n      searchInput,\r\n      showSearchInput,\r\n      hoveredOption,\r\n      tabIndexComputed,\r\n      valueComputed,\r\n      valueComputedString,\r\n      showClearIcon,\r\n      toggleIcon,\r\n      showDropdownContent,\r\n      computedErrorMessages,\r\n      computedError,\r\n      filteredOptions,\r\n      checkIsOptionSelected,\r\n      closeOnContentClick,\r\n      selectOption,\r\n      selectOrAddOption,\r\n      selectHoveredOption,\r\n      hoverPreviousOption,\r\n      hoverNextOption,\r\n      showDropdownContentComputed,\r\n      showDropdown,\r\n      hideDropdown,\r\n      toggleDropdown,\r\n      isFocusedComputed,\r\n      colorComputed,\r\n      onHintedSearch,\r\n      getText,\r\n      getTrackBy,\r\n    }\r\n  },\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"../../styles/resources/resources\";\r\n@import 'variables';\r\n\r\n.va-select {\r\n  cursor: var(--va-select-cursor);\r\n\r\n  .va-input {\r\n    cursor: var(--va-select-cursor);\r\n  }\r\n\r\n  .va-input__append {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-content: center;\r\n  }\r\n\r\n  &__dropdown {\r\n    .va-dropdown__anchor {\r\n      display: block;\r\n    }\r\n\r\n    .va-dropdown__content {\r\n      overflow: hidden;\r\n      border-bottom-right-radius: var(--va-select-dropdown-border-radius);\r\n      border-bottom-left-radius: var(--va-select-dropdown-border-radius);\r\n      border-top-right-radius: 0;\r\n      border-top-left-radius: 0;\r\n      box-shadow: var(--va-select-box-shadow);\r\n      padding: 0;\r\n    }\r\n\r\n    .va-select__dropdown__content {\r\n      background: var(--va-select-dropdown-background);\r\n      overflow-y: auto;\r\n\r\n      @include va-scroll(var(--va-select-scroll-color));\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import withConfigTransport from '../../services/config-transport/withConfigTransport'\r\nimport VaSelect from './VaSelect.vue'\r\nimport VaSelectOptionListBase from './VaSelectOptionList/VaSelectOptionList.vue'\r\n\r\nexport const VaSelectOptionList = withConfigTransport(VaSelectOptionListBase)\r\n\r\nexport default withConfigTransport(VaSelect)\r\n"],"names":["useSelectableListProps","options","type","Array","default","textBy","String","Function","valueBy","trackBy","disabledBy","freeGlobal","global","Object","freeSelf","self","_Symbol","Symbol","require$$0","objectProto","prototype","hasOwnProperty","nativeObjectToString","toString","symToStringTag","toStringTag","undefined","_getRawTag","getRawTag","value","isOwn","call","tag","unmasked","e","result","require$$1","objectToString","_baseGetTag","baseGetTag","isArray_1","isArray","isObjectLike_1","isObjectLike","require$$2","isString_1","isString","isObject","isFunction_1","isFunction","_arrayPush","arrayPush","array","values","index","length","offset","baseIsArguments","propertyIsEnumerable","isArguments","arguments","spreadableSymbol","isConcatSpreadable","isFlattenable","baseFlatten","depth","predicate","isStrict","flatten_1","flatten","useFormComponentProps","rules","disabled","Boolean","readonly","success","messages","error","errorMessages","errorCount","Number","id","name","modelValue","validator","Error","prepareValidations","callArguments","map","message","useLoadingProps","loading","useMaxSelectionsProps","maxSelections","SelectOptionListPropsMixin","Vue","with","SelectOptionListProps","constructor","this","prop","VaSelectOptionList","mixins","ColorMixin","created","watch","$props","hoveredOption","newOption","scrollToOption","beforeUpdate","itemRefs","setItemRef","option","el","hoveredOptionComputed","$emit","filteredOptions","search","filter","optionText","getText","toUpperCase","includes","selectOption","getOptionClass","getSelectedState","getOptionStyle","color","colorComputed","backgroundColor","isHovered","getHoverColor","getTrackBy","updateHoveredOption","hoverPreviousOption","hoveredOptionIndex","findIndex","hoverNextOption","hoverFirstOption","optionElement","scrollIntoView","behavior","block","inline","focus","$refs","Options","components","VaIcon","emits","class","_createElementBlock","ref","tabindex","_ctx","onKeydown","key","style","onClick","onMouseover","_createBlock","size","icon","_createElementVNode","_createVNode","_hoisted_3","defineComponent","withConfigTransport","VaDropdown","VaDropdownContent","VaInput","VaInputWrapper","props","position","allowCreate","mode","multiple","searchable","separator","width","maxHeight","clearValue","noOptionsText","fixed","clearable","clearableIcon","hideSelected","dropdownIcon","open","close","isOpenIconString","isCloseIconString","outline","bordered","label","placeholder","setup","context","select","optionList","searchBar","getOptionByValue","getValue","useSelectableList","getProp","isSelectableListComponent","find","getDisabled","validate","isFocused","computedErrorMessages","computedError","useFormComponent","hadFocus","internalErrorMessages","internalError","isFormComponent","formProvider","inject","FormServiceKey","onMounted","onChildMounted","onUnmounted","onChildUnmounted","forEach","validateResult","push","shouldValidateOnBlur","computed","get","set","errorMessage","ValidateMixin_onBlur","reset","resetValidation","hasError","useColor","theme","getColor","hasColorTheme","computeColor","defaultColor","searchInput","showSearchInput","emit","valueComputed","warn","valueComputedString","join","showClearIcon","toggleIcon","showDropdownContent","checkIsOptionSelected","valueItem","compareOptions","one","two","exceedsMaxSelections","addOption","useMaxSelections","selections","optionToAdd","newSelectedOptions","optionSelected","hideAndFocus","allowCreateCheck","addNewOption","hasAddedOption","some","selectHoveredOption","showDropdown","showDropdownContentComputed","show","hideDropdown","closeOnContentClick","scrollToSelected","focusSearchOrOptions","toggleDropdown","isFocusedComputed","focusSearchBar","focusOptionList","nextTick","tabIndexComputed","selected","scrollTo","hintedSearchQueryTimeoutIndex","hintedSearchQuery","navigationKeys","blur","onSelectClick","selectOrAddOption","onHintedSearch","event","isLetter","isDeleteKey","clearTimeout","slice","appropriateOption","toLowerCase","startsWith","setTimeout","trigger","stateful","anchor","onFocus","onBlur","_createCommentVNode","focused","onCleared","appendInner","_hoisted_2","_renderSlot","onKeyup","removable","onSelectOption","onNoPreviousOptionToHover","VaSelectOptionListBase","VaSelect"],"mappings":"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"}