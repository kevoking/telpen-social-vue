import{w as e}from"./withConfigTransport.js";import{computed as t,ref as a,watch as o,defineComponent as n,toRefs as l,pushScopeId as r,popScopeId as u,resolveComponent as i,openBlock as s,createElementBlock as p,createVNode as d,withCtx as v,renderSlot as m,normalizeProps as c,guardReactiveProps as f,mergeProps as j,createSlots as x,renderList as y}from"vue";import{u as V}from"./cStatefulMixin.js";import{i as _,s as C,e as P,a as g,b as D,f as S}from"./VaDatePicker.js";import k,{VaDropdownContent as h}from"./index24.js";import b from"./index30.js";import w from"./index27.js";import{s as B}from"./style-inject.es.js";import"lodash-es";import"./VaConfig.js";import"./color-config.js";import"colortranslator";import"./index8.js";import"tslib";import"./vue-class-component.esm-bundler.js";import"./ColorMixin.js";import"./RouterLinkMixin.js";import"./SizeMixin.js";import"./LoadingMixin.js";import"./index37.js";import"./VaIcon.js";import"asva-executors";import"@popperjs/core";import"./StatefulMixin.js";import"./index55.js";import"./consts.js";import"cleave.js";const I={label:{type:String,required:!1},color:{type:String,default:"primary"},placeholder:{type:String,default:""},clearable:{type:Boolean,default:!1},tabindex:{type:Number,default:0},outline:{Boolean:Boolean,default:!1},bordered:{Boolean:Boolean,default:!1},readonly:{Boolean:Boolean,default:!0}};var $=n({name:"VaDateInput",components:{vaDropdown:k,VaDropdownContent:h,VaDatePicker:C,VaInput:b,VaIcon:w},props:{...P(C),...I,resetOnClose:{type:Boolean,default:!0},isOpen:{type:Boolean},format:{type:Function}},emits:["update:modelValue","hover:day","hover:month","update:year","update:month","update:view","click:month","click:day","update:is-open","update:text"],setup(e,{emit:n}){const{isOpen:r,resetOnClose:u}=l(e),{valueComputed:i}=V(e,n),{syncProp:s}=function useSyncProp(e,o,n,l){if(void 0===l)return{syncProp:t({set(e){n(`update:${o}`,e)},get:()=>e.value})};const r=a(l);return{syncProp:t({set(e){r.value=e,n(`update:${o}`,e)},get:()=>void 0===(null==e?void 0:e.value)?r.value:e.value})}}(r,"is-open",n,!1),p=t((()=>!u.value)),{valueComputed:d,reset:v}=((e,n)=>{const l=a(e.value),r=t({get:()=>l.value,set:t=>{if(n.value&&(l.value=t,e.value=t),!t)return e.value=t,void(l.value=t);_(t)?null!==t.end&&(e.value=t):e.value=t,l.value=t}});return o(e,(e=>{e&&(l.value=e)})),{valueComputed:r,reset:()=>{l.value&&_(l.value)&&(l.value=e.value)}}})(i,p);o(s,(e=>{e||p.value||v()}));const dateOrNothing=e=>e?e.toDateString():"...",m=t({get:()=>{if(e.format)return e.format(d.value);if(!d.value)return"";if(g(d.value))return d.value.map((e=>e.toDateString())).join(", ");if(D(d.value))return d.value.toDateString();if(_(d.value))return dateOrNothing(d.value.start)+" ~ "+dateOrNothing(d.value.end);throw new Error("VaDatePicker: Invalid model value. Value should be Date, Date[] or { start: Date, end: Date | null }")},set(e){}});o(m,(e=>n("update:text",e)));return{valueText:m,valueComputed:d,isOpenSync:s,onClear:()=>{d.value=void 0},inputProps:S(e,I),datePickerProps:S(e,P(C))}}});r("data-v-139365e2");const O={class:"va-date-input"};u();B(".va-date-input[data-v-139365e2]{--va-date-picker-cell-size:28px;display:flex}.va-date-input__icon[data-v-139365e2],.va-date-input__input[data-v-139365e2]{cursor:pointer}"),$.render=function render(e,t,a,o,n,l){const r=i("va-icon"),u=i("va-input"),V=i("va-date-picker"),_=i("va-dropdown-content"),C=i("va-dropdown");return s(),p("div",O,[d(C,{modelValue:e.isOpenSync,"onUpdate:modelValue":t[2]||(t[2]=t=>e.isOpenSync=t),offset:[0,10],"close-on-content-click":!1},{anchor:v((()=>[m(e.$slots,"input",c(f({valueText:e.valueText,inputProps:e.inputProps,color:e.color})),(()=>[d(u,j({modelValue:e.valueText,"onUpdate:modelValue":t[0]||(t[0]=t=>e.valueText=t)},e.inputProps,{class:"va-date-input__input",onCleared:e.onClear}),x({appendInner:v((t=>[m(e.$slots,"appendInner",c(f(t)),(()=>[d(r,{name:"calendar_today",class:"va-date-picker__icon",size:"small",color:e.color},null,8,["color"])]))])),_:2},[y(e.$slots,((t,a)=>({name:a,fn:v((t=>[m(e.$slots,a,c(f(t)))]))})))]),1040,["modelValue","onCleared"])]))])),default:v((()=>[d(_,null,{default:v((()=>[d(V,j(e.datePickerProps,{modelValue:e.valueComputed,"onUpdate:modelValue":t[1]||(t[1]=t=>e.valueComputed=t)}),x({_:2},[y(e.$slots,((t,a)=>({name:a,fn:v((t=>[m(e.$slots,a,c(f(t)))]))})))]),1040,["modelValue"])])),_:3})])),_:3},8,["modelValue"])])},$.__scopeId="data-v-139365e2",$.__file="src/components/va-date-input/VaDateInput.vue";const M=e($);export{M as VaDateInput};
//# sourceMappingURL=index22.js.map
