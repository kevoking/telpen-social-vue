import{w as a}from"./withConfigTransport.js";import{detect as r}from"detect-browser";import t from"element-resize-detector";import{openBlock as e,createElementBlock as o,createElementVNode as i,renderSlot as s}from"vue";import{s as l}from"./style-inject.es.js";import"lodash-es";import"./VaConfig.js";const c=r();var n={name:"VaScrollbar",props:{speed:{type:Number,default:20}},methods:{calcSize(){this.isDown=this.isUp=!1,this.maxHeight=parseFloat(this.wrapper.offsetHeight,10),this.contentHeight=parseFloat(this.content.offsetHeight,10),this.trackHeight=parseFloat(this.track.offsetHeight,10),this.maxHeight/this.contentHeight*this.trackHeight<10?this.thumb.style.height="10px":this.thumb.style.height=this.maxHeight/this.contentHeight*this.trackHeight+"px",this.maxHeight/this.contentHeight<1?this.thumb.classList.add("active"):this.thumb.classList.remove("active")},calcThumb(){const a=""===this.content.style.marginTop?0:parseInt(this.content.style.marginTop,10);this.thumb.style.top=-a/this.contentHeight*this.trackHeight+"px"},onContentResize(){const a=this.contentHeight;this.calcSize(),this.calcThumb(),this.content.style.transition="margin-top .3s linear",this.thumb.style.transition="top .3s linear";const handler=a=>{"margin-top"===a.propertyName&&(this.content.style.transition="",this.calcSize(),this.calcThumb(),this.content.removeEventListener("transitionend",handler),this.thumb.style.transition="")};this.content.addEventListener("transitionend",handler),this.setVertical(this.contentHeight-a)},startDrag(a){this.isDragging=!0,this.prevTouch=a.touches[0]},onDrag(a){if(this.isDragging){a.preventDefault();const r=a.touches[0],t=this.prevTouch.clientY-r.clientY;this.setVertical(t),this.prevTouch=r}},stopDrag(){this.isDragging=!1},scroll(a){let r=.01*a.deltaY*this.speed;"firefox"===c.name&&(r*=10),this.setVertical(r),a.preventDefault()},setVertical(a){if(this.isDown&&a>0||this.isUp&&a<0||this.contentHeight<=this.maxHeight)return;const r=""===this.content.style.marginTop?0:parseFloat(this.content.style.marginTop,10);let t=0;this.maxHeight-(r-a)>this.contentHeight&&a>0?(t=this.maxHeight-this.contentHeight,this.isDown=!0):(this.isDown=!1,r-a>0?(this.isUp=!0,t=0):(t=r-a,this.isUp=!1)),this.content.style.marginTop=t+"px",this.calcThumb()}},mounted(){this.track=this.$refs.track,this.thumb=this.$refs.thumb,this.content=this.$refs.scrollbarContent,this.wrapper=this.$refs.scrollbarWrapper,this.calcSize(),this.calcThumb(),t.listenTo(this.content,(()=>{this.calcSize(),this.calcThumb()}))},beforeUnmount(){t.removeAllListeners(this.content)},data:()=>({wrapper:void 0,maxHeight:void 0,thumb:void 0,track:void 0,trackHeight:void 0,content:void 0,contentHeight:void 0,isDown:!1,isUp:!0,prevTouch:{},isDragging:!1})};const h={class:"va-scrollbar",ref:"vuesticScrollbar"},v={class:"scrollbar-wrapper",ref:"scrollbarWrapper"},b={class:"track",ref:"track"},p={class:"thumb",ref:"thumb"};l(':root{--va-gray-light:#acb5be;--va-light-gray:#eee;--va-light-gray2:#eff4f5;--va-light-gray3:#f5f8f9;--va-lighter-gray:#ddd;--va-charcoal:#555;--va-darkest-gray:#333;--va-almost-black:#161616;--va-hover-black:#222;--va-vue-green:#4ae387;--va-vue-light-green:#dbf9e8;--va-light-green:#c8f9c5;--va-lighter-green:#d6ffd3;--va-light-blue:#dcf1ff;--va-light-yellow:#fff1c8;--va-light-pink:#ffcece;--va-vue-darkest-blue:#34495e;--va-vue-turquoise:#dbf9e7;--va-white:#fff;--va-theme-danger:#e34b4a;--va-theme-warning:#ffc200;--va-theme-red:#e34a4a;--va-theme-orange:#f7cc36;--va-theme-blue:#4ab2e3;--va-theme-blue-dark:#2c82e0;--va-theme-violet:#db76df;--va-theme-pale:#d9d9d9;--va-primary:var(--va-vue-green);--va-danger:var(--va-theme-red);--va-warning:var(--va-theme-orange);--va-info:var(--va-theme-blue);--va-success:var(--va-vue-green);--va-secondary:#babfc2;--va-dark-gray:#282828;--va-gray:#adb3b9;--va-default-gray:#8396a5;--va-dark-blue:#0e4ac4;--va-text-gray:#b4b4b4;--va-markdown-code:#d7234e;--va-prism-background:#f4f8fa;--va-separator-color:#e6e9ec;--va-border:0;--va-font-family:"Source Sans Pro",sans-serif;--va-letter-spacing:0.0375rem;--va-background-color:#fff;--va-swing-transition:0.3s cubic-bezier(0.25,0.8,0.5,1);--va-block-border-radius:0.375rem;--va-block-border:thin solid rgba(52,56,85,0.25);--va-block-box-shadow:0 2px 3px 0 rgba(52,56,85,0.25);--va-control-box-shadow:none;--va-control-border:0;--va-transition:0.2s cubic-bezier(0.4,0,0.6,1);--va-outline-border-width:0.125rem;--va-outline-box-shadow:none;--va-square-border-radius:0.25rem;--va-form-padding:1.25rem;--va-form-border-radius:0.125rem;--va-text-selected:#b3d4fc;--va-text-highlighted:#fff3d1;--va-link-color:var(--va-primary);--va-link-color-secondary:var(--va-secondary);--va-link-color-hover:var(--va-primary);--va-link-color-active:var(--va-primary);--va-link-color-visited:var(--va-primary);--va-muted:#7f828b;--va-li-background:var(--va-theme-blue-dark);--va-text-block:var(--va-light-gray3);--va-stripe-border-size:0.25rem;--va-box-shadow:0 0.25rem 0.5rem 0 rgba(59,63,73,0.15);--va-scrollbar-background:transparent;--va-scrollbar-transition:all 0.3s linear;--va-scrollbar-position:relative;--va-scrollbar-wrapper-border-radius:0.375rem;--va-scrollbar-wrapper-box-shadow:0 2px 3px 0 rgba(52,56,85,0.25);--va-scrollbar-wrapper-position:relative;--va-scrollbar-wrapper-overflow:hidden;--va-scrollbar-wrapper-max-height:100%;--va-scrollbar-track-width:5px;--va-scrollbar-track-position:absolute;--va-scrollbar-track-right:0;--va-scrollbar-track-top:0;--va-scrollbar-track-height:100%;--va-scrollbar-thumb-transition:height 0.3s linear,opacity 0.6s linear;--va-scrollbar-thumb-position:absolute;--va-scrollbar-thumb-width:100%;--va-scrollbar-thumb-background-color:#4ae387;--va-scrollbar-thumb-opacity:0}.va-scrollbar{background:var(--va-scrollbar-background);position:var(--va-scrollbar-position);transition:var(--va-scrollbar-transition)}.va-scrollbar .scrollbar-wrapper{border-radius:var(--va-scrollbar-wrapper-border-radius);box-shadow:var(--va-scrollbar-wrapper-box-shadow);max-height:var(--va-scrollbar-wrapper-max-height);overflow:var(--va-scrollbar-wrapper-overflow);position:var(--va-scrollbar-wrapper-position)}.va-scrollbar .scrollbar-wrapper .track{height:var(--va-scrollbar-wrapper-track-height);position:var(--va-scrollbar-wrapper-track-position);right:var(--va-scrollbar-wrapper-track-right);top:var(--va-scrollbar-wrapper-track-top);width:var(--va-scrollbar-wrapper-track-width)}.va-scrollbar .scrollbar-wrapper .track .thumb{background-color:var(--va-scrollbar-thumb-background-color);opacity:var(--va-scrollbar-thumb-opacity);position:var(--va-scrollbar-thumb-position);transition:var(--va-scrollbar-thumb-transition);width:var(--va-scrollbar-thumb-width)}.va-scrollbar .scrollbar-wrapper .track .thumb.active{opacity:.3}.va-scrollbar:hover .thumb.active{opacity:1!important}'),n.render=function render(a,r,t,l,c,n){return e(),o("div",h,[i("div",v,[i("div",{class:"scrollbar-content",ref:"scrollbarContent",onWheel:r[0]||(r[0]=(...a)=>n.scroll&&n.scroll(...a)),onTouchstart:r[1]||(r[1]=(...a)=>n.startDrag&&n.startDrag(...a)),onTouchmove:r[2]||(r[2]=(...a)=>n.onDrag&&n.onDrag(...a)),onTouchend:r[3]||(r[3]=(...a)=>n.stopDrag&&n.stopDrag(...a)),onTransitionend:r[4]||(r[4]=(...a)=>n.onContentResize&&n.onContentResize(...a))},[s(a.$slots,"default")],544),i("div",b,[i("div",p,null,512)],512)],512)],512)},n.__file="src/components/va-scrollbar/VaScrollbar.vue";var g=a(n);export{g as default};
//# sourceMappingURL=index40.js.map
