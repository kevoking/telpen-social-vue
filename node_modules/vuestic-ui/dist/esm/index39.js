import{w as e}from"./withConfigTransport.js";import{__decorate as a}from"tslib";import{V as r,m as t,O as o,p as i}from"./vue-class-component.esm-bundler.js";import{f as n}from"./color-config.js";import{C as s}from"./ColorMixin.js";import{S as l}from"./StatefulMixin.js";import{S as v}from"./SizeMixin.js";import{watch as d,resolveComponent as c,openBlock as u,createElementBlock as m,normalizeClass as h,withKeys as p,renderSlot as g,createVNode as f,createElementVNode as b,Fragment as y,renderList as x,createBlock as k,withCtx as C,normalizeStyle as w,toDisplayString as _,createCommentVNode as $}from"vue";import I from"./index27.js";import{s as V}from"./style-inject.es.js";import"lodash-es";import"./VaConfig.js";import"colortranslator";import"./VaIcon.js";var E;!function(e){e[e.EMPTY=0]="EMPTY",e[e.HALF=.5]="HALF",e[e.FULL=1]="FULL"}(E||(E={}));const H=r.with(class RatingItemProps{constructor(){this.modelValue=i({type:Number,default:0}),this.filledIconName=i({type:String,default:"star"}),this.halfIconName=i({type:String,default:"star_half"}),this.emptyIconName=i({type:String,default:"star_empty"}),this.halves=i({type:Boolean,default:!1}),this.hover=i({type:Boolean,default:!1}),this.tabindex=i({type:Number}),this.size=i({type:[String,Number],default:"medium"}),this.emptyIconColor=i({type:String}),this.color=i({type:String,default:"primary"})}});let z=class VaRatingItem extends(t(s,H)){constructor(){super(...arguments),this.isHovered=!1,this.isFocused=!1,this.shouldEmitClick=!1,this.hoveredValue=this.modelValue}created(){d((()=>this.$props.modelValue),(e=>{this.hoveredValue=e}))}get computedIconName(){return this.halves&&this.valueProxy===E.HALF?this.halfIconName:this.valueProxy===E.EMPTY?this.emptyIconName:this.filledIconName}get computedColor(){return this.valueProxy===E.EMPTY&&this.emptyIconColor||this.colorComputed}set valueProxy(e){this.hoveredValue=e,this.shouldEmitClick?(this.shouldEmitClick=!1,this.$emit("click",e)):this.isHovered&&this.$emit("hover",e)}get valueProxy(){return this.isHovered?this.hoveredValue:this.modelValue}onClick(e){this.shouldEmitClick=!0,this.processCursorInput(this.$el.clientWidth,e.offsetX)}processCursorInput(e,a){this.valueProxy=this.halves&&a/e<=E.HALF?E.HALF:E.FULL}onEnter(){this.shouldEmitClick=!0,this.valueProxy=E.FULL}onHover(e){this.hover&&(this.isHovered=!0,this.processCursorInput(this.$el.clientWidth,e.offsetX))}onFocus(){this.isFocused=!0}onBlur(){this.isFocused=!1}removeHover(){this.valueProxy=this.modelValue,this.isHovered=!1}};z=a([o({name:"VaRatingItem",components:{VaIcon:I},emits:["click","hover"]})],z);var L=z;const P=["tabindex"];V(':root{--va-gray-light:#acb5be;--va-light-gray:#eee;--va-light-gray2:#eff4f5;--va-light-gray3:#f5f8f9;--va-lighter-gray:#ddd;--va-charcoal:#555;--va-darkest-gray:#333;--va-almost-black:#161616;--va-hover-black:#222;--va-vue-green:#4ae387;--va-vue-light-green:#dbf9e8;--va-light-green:#c8f9c5;--va-lighter-green:#d6ffd3;--va-light-blue:#dcf1ff;--va-light-yellow:#fff1c8;--va-light-pink:#ffcece;--va-vue-darkest-blue:#34495e;--va-vue-turquoise:#dbf9e7;--va-white:#fff;--va-theme-danger:#e34b4a;--va-theme-warning:#ffc200;--va-theme-red:#e34a4a;--va-theme-orange:#f7cc36;--va-theme-blue:#4ab2e3;--va-theme-blue-dark:#2c82e0;--va-theme-violet:#db76df;--va-theme-pale:#d9d9d9;--va-primary:var(--va-vue-green);--va-danger:var(--va-theme-red);--va-warning:var(--va-theme-orange);--va-info:var(--va-theme-blue);--va-success:var(--va-vue-green);--va-secondary:#babfc2;--va-dark-gray:#282828;--va-gray:#adb3b9;--va-default-gray:#8396a5;--va-dark-blue:#0e4ac4;--va-text-gray:#b4b4b4;--va-markdown-code:#d7234e;--va-prism-background:#f4f8fa;--va-separator-color:#e6e9ec;--va-border:0;--va-font-family:"Source Sans Pro",sans-serif;--va-letter-spacing:0.0375rem;--va-background-color:#fff;--va-swing-transition:0.3s cubic-bezier(0.25,0.8,0.5,1);--va-block-border-radius:0.375rem;--va-block-border:thin solid rgba(52,56,85,0.25);--va-block-box-shadow:0 2px 3px 0 rgba(52,56,85,0.25);--va-control-box-shadow:none;--va-control-border:0;--va-transition:0.2s cubic-bezier(0.4,0,0.6,1);--va-outline-border-width:0.125rem;--va-outline-box-shadow:none;--va-square-border-radius:0.25rem;--va-form-padding:1.25rem;--va-form-border-radius:0.125rem;--va-text-selected:#b3d4fc;--va-text-highlighted:#fff3d1;--va-link-color:var(--va-primary);--va-link-color-secondary:var(--va-secondary);--va-link-color-hover:var(--va-primary);--va-link-color-active:var(--va-primary);--va-link-color-visited:var(--va-primary);--va-muted:#7f828b;--va-li-background:var(--va-theme-blue-dark);--va-text-block:var(--va-light-gray3);--va-stripe-border-size:0.25rem;--va-box-shadow:0 0.25rem 0.5rem 0 rgba(59,63,73,0.15)}.va-rating-item{display:inline-block}.va-rating-item__isFocused{transform:scale(1.1)}.va-rating-item__wrapper{background-color:transparent;border-style:none;font-size:100%;overflow:visible;padding:0;text-transform:none}'),L.render=function render$1(e,a,r,t,o,i){const n=c("va-icon");return u(),m("div",{onMousemove:a[0]||(a[0]=(...a)=>e.onHover&&e.onHover(...a)),onMouseleave:a[1]||(a[1]=a=>e.removeHover()),onFocus:a[2]||(a[2]=a=>e.onFocus()),onBlur:a[3]||(a[3]=a=>e.onBlur()),tabindex:e.$props.tabindex,class:h(["va-rating-item",{"va-rating-item__isFocused":e.isFocused}]),onKeyup:a[4]||(a[4]=p(((...a)=>e.onEnter&&e.onEnter(...a)),["enter"]))},[g(e.$slots,"default",{props:{value:e.valueProxy,onClick:e.onClick}},(()=>[f(n,{class:"va-rating-item__wrapper",tabindex:"-1",name:e.computedIconName,size:e.$props.size,tag:"button",color:e.computedColor,onClick:e.onClick},null,8,["name","size","color","onClick"])]))],42,P)},L.__file="src/components/va-rating/VaRatingItem/VaRatingItem.vue";var F=e(L);const S=r.with(class RatingProps{constructor(){this.modelValue=i({type:Number,default:0}),this.icon=i({type:String,default:"star"}),this.halfIcon=i({type:String,default:"star_half"}),this.emptyIcon=i({type:String,default:"star_outline"}),this.readonly=i({type:Boolean,default:!1}),this.disabled=i({type:Boolean,default:!1}),this.numbers=i({type:Boolean,default:!1}),this.halves=i({type:Boolean,default:!1}),this.max=i({type:Number,default:5}),this.clearable=i({type:Boolean,default:!1}),this.hover=i({type:Boolean,default:!1}),this.texts=i({type:Array,default:()=>[]}),this.textColor=i({type:String}),this.unselectedColor=i({type:String}),this.color=i({type:String,default:"primary"})}});let M=class VaRating extends(t(s,v,l,S)){constructor(){super(...arguments),this.isHovered=!1,this.forceEmit=!1,this.hoveredValue=E.EMPTY}mounted(){this.hoveredValue=this.valueComputed}get valueProxy(){return this.isHovered?this.hoveredValue:this.valueComputed}set valueProxy(e){this.hoveredValue=e,this.forceEmit&&(this.valueComputed=e,this.forceEmit=!1)}get focusColor(){return this.$props.unselectedColor?this.computeColor(this.$props.unselectedColor):n(this.colorComputed)}get classList(){return{"va-rating--disabled":this.$props.disabled,"va-rating--readonly":this.$props.readonly}}get interactionsEnabled(){return!(this.$props.disabled||this.$props.readonly)}get hoverEnabled(){return this.$props.hover&&this.interactionsEnabled}get tabIndex(){return this.interactionsEnabled?0:void 0}getItemValue(e){const a=e-this.valueProxy;switch(!0){case a<=0:return E.FULL;case a===E.HALF&&this.$props.halves:return E.HALF;default:return E.EMPTY}}onHover(e,a){this.valueProxy=a===E.FULL?e:e-E.HALF}onMouseEnter(){this.isHovered=this.hoverEnabled&&!0}onMouseLeave(){this.isHovered=!1}onArrow(e,a){const r=(this.valueProxy||E.EMPTY)+(this.$props.halves?E.HALF:E.FULL)*a;r<0||r>this.$props.max||(this.forceEmit=!0,this.valueProxy=r)}onItemSelected(e,a){if(!this.interactionsEnabled)return;const r=this.$props.halves&&a===E.HALF?e-E.HALF:e,t=this.$props.clearable&&this.valueComputed===r?E.EMPTY:r;this.forceEmit=!0,this.valueProxy=t}};M=a([o({name:"VaRating",components:{VaRatingItem:F}})],M);var A=M;const j=["onClick"];V(':root{--va-gray-light:#acb5be;--va-light-gray:#eee;--va-light-gray2:#eff4f5;--va-light-gray3:#f5f8f9;--va-lighter-gray:#ddd;--va-charcoal:#555;--va-darkest-gray:#333;--va-almost-black:#161616;--va-hover-black:#222;--va-vue-green:#4ae387;--va-vue-light-green:#dbf9e8;--va-light-green:#c8f9c5;--va-lighter-green:#d6ffd3;--va-light-blue:#dcf1ff;--va-light-yellow:#fff1c8;--va-light-pink:#ffcece;--va-vue-darkest-blue:#34495e;--va-vue-turquoise:#dbf9e7;--va-white:#fff;--va-theme-danger:#e34b4a;--va-theme-warning:#ffc200;--va-theme-red:#e34a4a;--va-theme-orange:#f7cc36;--va-theme-blue:#4ab2e3;--va-theme-blue-dark:#2c82e0;--va-theme-violet:#db76df;--va-theme-pale:#d9d9d9;--va-primary:var(--va-vue-green);--va-danger:var(--va-theme-red);--va-warning:var(--va-theme-orange);--va-info:var(--va-theme-blue);--va-success:var(--va-vue-green);--va-secondary:#babfc2;--va-dark-gray:#282828;--va-gray:#adb3b9;--va-default-gray:#8396a5;--va-dark-blue:#0e4ac4;--va-text-gray:#b4b4b4;--va-markdown-code:#d7234e;--va-prism-background:#f4f8fa;--va-separator-color:#e6e9ec;--va-border:0;--va-font-family:"Source Sans Pro",sans-serif;--va-letter-spacing:0.0375rem;--va-background-color:#fff;--va-swing-transition:0.3s cubic-bezier(0.25,0.8,0.5,1);--va-block-border-radius:0.375rem;--va-block-border:thin solid rgba(52,56,85,0.25);--va-block-box-shadow:0 2px 3px 0 rgba(52,56,85,0.25);--va-control-box-shadow:none;--va-control-border:0;--va-transition:0.2s cubic-bezier(0.4,0,0.6,1);--va-outline-border-width:0.125rem;--va-outline-box-shadow:none;--va-square-border-radius:0.25rem;--va-form-padding:1.25rem;--va-form-border-radius:0.125rem;--va-text-selected:#b3d4fc;--va-text-highlighted:#fff3d1;--va-link-color:var(--va-primary);--va-link-color-secondary:var(--va-secondary);--va-link-color-hover:var(--va-primary);--va-link-color-active:var(--va-primary);--va-link-color-visited:var(--va-primary);--va-muted:#7f828b;--va-li-background:var(--va-theme-blue-dark);--va-text-block:var(--va-light-gray3);--va-stripe-border-size:0.25rem;--va-box-shadow:0 0.25rem 0.5rem 0 rgba(59,63,73,0.15);--va-rating-display:flex;--va-rating-number-item-font-size:inherit;--va-rating-number-item-margin:0.1em;--va-rating-number-item-font-weight:700;--va-rating-number-item-cursor:pointer;--va-rating-item-wrapper-display:flex;--va-rating-item-wrapper-cursor:pointer;--va-rating-item-display:flex}.va-rating{display:var(--va-rating-display)}.va-rating__number-item{align-items:center;background-color:transparent;border-style:none;cursor:pointer;display:flex;font-size:100%;font-size:var(--va-rating-number-item-font-size);font-weight:var(--va-rating-number-item-font-weight);justify-content:center;margin:var(--va-rating-number-item-margin);overflow:visible;padding:0;text-transform:none}.va-rating--disabled .va-rating__number-item{cursor:default;opacity:.4;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.va-rating--readonly .va-rating__number-item{cursor:default}.va-rating__item-wrapper{cursor:var(--va-rating-item-wrapper-cursor);display:var(--va-rating-item-wrapper-display)}.va-rating--disabled .va-rating__item-wrapper,.va-rating--readonly .va-rating__item-wrapper{cursor:default}.va-rating-item{align-items:center;display:var(--va-rating-item-display);display:flex;justify-content:center}.va-rating--disabled .va-rating-item{cursor:default;opacity:.4;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.va-rating--disabled .va-rating-item__wrapper,.va-rating--readonly .va-rating-item .va-rating-item__wrapper{cursor:auto!important}.va-rating__text-wrapper{padding-left:10px}'),A.render=function render(e,a,r,t,o,i){const n=c("va-rating-item");return u(),m("div",{class:h(["va-rating",e.classList])},[b("div",{onKeyup:[a[0]||(a[0]=p((a=>e.onArrow(a,-1)),["left"])),a[1]||(a[1]=p((a=>e.onArrow(a,1)),["right"]))],onMouseenter:a[2]||(a[2]=(...a)=>e.onMouseEnter&&e.onMouseEnter(...a)),onMouseleave:a[3]||(a[3]=(...a)=>e.onMouseLeave&&e.onMouseLeave(...a)),class:"va-rating__item-wrapper"},[e.$props.numbers?(u(!0),m(y,{key:0},x(e.$props.max,(a=>(u(),k(n,{key:a,class:"va-rating__number-item",halves:e.$props.halves,hover:e.hoverEnabled,size:e.$props.size,color:e.$props.color,"empty-icon-color":e.$props.unselectedColor,tabindex:e.tabIndex,modelValue:e.getItemValue(a),onHover:r=>e.onHover(a,r),onClick:r=>e.onItemSelected(a,r)},{default:C((({props:r})=>[b("button",{onClick:r.onClick,class:"va-rating__number-item",tabindex:"-1",style:w({background:.5===r.value?`linear-gradient(90deg, ${e.colorComputed} 50%, ${e.focusColor} 50%`:r.value?e.colorComputed:e.focusColor,color:r.value?"#fff":e.colorComputed,width:e.sizeComputed,height:e.sizeComputed,fontSize:e.fontSizeComputed,borderRadius:.125*e.SizeMixin_fontSize+"rem"})},_(a),13,j)])),_:2},1032,["halves","hover","size","color","empty-icon-color","tabindex","modelValue","onHover","onClick"])))),128)):(u(!0),m(y,{key:1},x(e.$props.max,(a=>(u(),k(n,{key:a,halves:e.$props.halves,hover:e.hoverEnabled,"filled-icon-name":e.$props.icon,"half-icon-name":e.$props.halfIcon,"empty-icon-name":e.$props.emptyIcon,size:e.$props.size,color:e.$props.color,"empty-icon-color":e.$props.unselectedColor,tabindex:e.tabIndex,modelValue:e.getItemValue(a),onHover:r=>e.onHover(a,r),onClick:r=>e.onItemSelected(a,r)},null,8,["halves","hover","filled-icon-name","half-icon-name","empty-icon-name","size","color","empty-icon-color","tabindex","modelValue","onHover","onClick"])))),128))],32),e.$props.texts.length===e.$props.max?(u(),m("span",{key:0,class:"va-rating__text-wrapper",style:w({color:e.computeColor(e.$props.textColor)})},_(e.$props.texts[Math.round(e.valueProxy)-1]),5)):$("v-if",!0)],2)},A.__file="src/components/va-rating/VaRating.vue";var N=e(A);export{F as VaRatingItem,N as default};
//# sourceMappingURL=index39.js.map
