{"version":3,"file":"index6.js","sources":["../../src/components/va-backtop/VaBacktop.vue","../../src/components/va-backtop/VaBacktop.vue?vue&type=template&id=17846d70&lang.js","../../src/components/va-backtop/index.ts"],"sourcesContent":["<template>\r\n  <div\r\n    v-if=\"visible\"\r\n    class=\"va-backtop\"\r\n    :style=\"computedStyle\"\r\n    @click=\"scrollToTop()\"\r\n  >\r\n    <slot>\r\n      <va-button\r\n        icon=\"expand_less\"\r\n        :color=\"color\"\r\n      />\r\n    </slot>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Options, mixins, prop, Vue } from 'vue-class-component'\r\n\r\nimport VaButton from '../va-button'\r\n\r\nclass Props {\r\n  target = prop<Element | string | undefined>({\r\n    type: [Object, String],\r\n    default: () => window,\r\n  })\r\n\r\n  visibilityHeight = prop<number>({ type: Number, default: 300 })\r\n  speed = prop<number>({ type: Number, default: 50 })\r\n  verticalOffset = prop<string>({ type: String, default: '1rem' })\r\n  horizontalOffset = prop<string>({ type: String, default: '1rem' })\r\n  color = prop<string>({ type: String, default: '' })\r\n  horizontalPosition = prop<string>({\r\n    type: String,\r\n    default: 'right',\r\n    validator: (value: string) => {\r\n      return ['right', 'left'].includes(value)\r\n    },\r\n  })\r\n\r\n  verticalPosition = prop<string>({\r\n    type: String,\r\n    default: 'bottom',\r\n    validator: (value: string) => {\r\n      return ['bottom', 'top'].includes(value)\r\n    },\r\n  })\r\n}\r\n\r\nconst PropsMixin = Vue.with(Props)\r\n\r\n@Options({\r\n  name: 'VaBacktop',\r\n  components: { VaButton },\r\n})\r\nexport default class VaBacktop extends mixins(\r\n  PropsMixin,\r\n) {\r\n  visible = false\r\n  scrolled = false\r\n  interval = 0\r\n\r\n  get computedStyle () {\r\n    return {\r\n      [this.verticalPosition]: this.verticalOffset,\r\n      [this.horizontalPosition]: this.horizontalOffset,\r\n    }\r\n  }\r\n\r\n  get targetElement (): Element {\r\n    return typeof this.target === 'string'\r\n      ? document.querySelector(this.target)\r\n      : (this.target || this.$el.parentElement)\r\n  }\r\n\r\n  handleScroll (): void {\r\n    this.visible = this.targetElement.scrollTop > this.visibilityHeight\r\n  }\r\n\r\n  scrollToTop (): void {\r\n    if (this.scrolled) {\r\n      return\r\n    }\r\n    this.scrolled = true\r\n    this.interval = window.setInterval(() => {\r\n      const next = Math.floor(this.targetElement.scrollTop - this.speed)\r\n      if (this.targetElement.scrollTop === 0) {\r\n        clearInterval(this.interval)\r\n        this.scrolled = false\r\n      } else {\r\n        this.targetElement.scrollTo(0, next)\r\n      }\r\n    }, 15)\r\n  }\r\n\r\n  mounted () {\r\n    this.targetElement.addEventListener('scroll', this.handleScroll)\r\n  }\r\n\r\n  beforeUnmount () {\r\n    this.targetElement.removeEventListener('scroll', this.handleScroll)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../../styles/resources/resources';\r\n@import 'variables';\r\n\r\n.va-backtop {\r\n  position: var(--va-backtop-position);\r\n  top: var(--va-backtop-top);\r\n  left: var(--va-backtop-left);\r\n  right: var(--va-backtop-right);\r\n  bottom: var(--va-backtop-bottom);\r\n  cursor: var(--va-backtop-cursor);\r\n  z-index: var(--va-backtop-z-index);\r\n}\r\n</style>\r\n","<template>\r\n  <div\r\n    v-if=\"visible\"\r\n    class=\"va-backtop\"\r\n    :style=\"computedStyle\"\r\n    @click=\"scrollToTop()\"\r\n  >\r\n    <slot>\r\n      <va-button\r\n        icon=\"expand_less\"\r\n        :color=\"color\"\r\n      />\r\n    </slot>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Options, mixins, prop, Vue } from 'vue-class-component'\r\n\r\nimport VaButton from '../va-button'\r\n\r\nclass Props {\r\n  target = prop<Element | string | undefined>({\r\n    type: [Object, String],\r\n    default: () => window,\r\n  })\r\n\r\n  visibilityHeight = prop<number>({ type: Number, default: 300 })\r\n  speed = prop<number>({ type: Number, default: 50 })\r\n  verticalOffset = prop<string>({ type: String, default: '1rem' })\r\n  horizontalOffset = prop<string>({ type: String, default: '1rem' })\r\n  color = prop<string>({ type: String, default: '' })\r\n  horizontalPosition = prop<string>({\r\n    type: String,\r\n    default: 'right',\r\n    validator: (value: string) => {\r\n      return ['right', 'left'].includes(value)\r\n    },\r\n  })\r\n\r\n  verticalPosition = prop<string>({\r\n    type: String,\r\n    default: 'bottom',\r\n    validator: (value: string) => {\r\n      return ['bottom', 'top'].includes(value)\r\n    },\r\n  })\r\n}\r\n\r\nconst PropsMixin = Vue.with(Props)\r\n\r\n@Options({\r\n  name: 'VaBacktop',\r\n  components: { VaButton },\r\n})\r\nexport default class VaBacktop extends mixins(\r\n  PropsMixin,\r\n) {\r\n  visible = false\r\n  scrolled = false\r\n  interval = 0\r\n\r\n  get computedStyle () {\r\n    return {\r\n      [this.verticalPosition]: this.verticalOffset,\r\n      [this.horizontalPosition]: this.horizontalOffset,\r\n    }\r\n  }\r\n\r\n  get targetElement (): Element {\r\n    return typeof this.target === 'string'\r\n      ? document.querySelector(this.target)\r\n      : (this.target || this.$el.parentElement)\r\n  }\r\n\r\n  handleScroll (): void {\r\n    this.visible = this.targetElement.scrollTop > this.visibilityHeight\r\n  }\r\n\r\n  scrollToTop (): void {\r\n    if (this.scrolled) {\r\n      return\r\n    }\r\n    this.scrolled = true\r\n    this.interval = window.setInterval(() => {\r\n      const next = Math.floor(this.targetElement.scrollTop - this.speed)\r\n      if (this.targetElement.scrollTop === 0) {\r\n        clearInterval(this.interval)\r\n        this.scrolled = false\r\n      } else {\r\n        this.targetElement.scrollTo(0, next)\r\n      }\r\n    }, 15)\r\n  }\r\n\r\n  mounted () {\r\n    this.targetElement.addEventListener('scroll', this.handleScroll)\r\n  }\r\n\r\n  beforeUnmount () {\r\n    this.targetElement.removeEventListener('scroll', this.handleScroll)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../../styles/resources/resources';\r\n@import 'variables';\r\n\r\n.va-backtop {\r\n  position: var(--va-backtop-position);\r\n  top: var(--va-backtop-top);\r\n  left: var(--va-backtop-left);\r\n  right: var(--va-backtop-right);\r\n  bottom: var(--va-backtop-bottom);\r\n  cursor: var(--va-backtop-cursor);\r\n  z-index: var(--va-backtop-z-index);\r\n}\r\n</style>\r\n","import withConfigTransport from '../../services/config-transport/withConfigTransport'\r\nimport VaBacktop from './VaBacktop.vue'\r\n\r\nexport default withConfigTransport(VaBacktop)\r\n"],"names":["PropsMixin","Vue","with","Props","constructor","this","prop","type","Object","String","default","window","Number","validator","value","includes","VaBacktop","mixins","computedStyle","verticalPosition","verticalOffset","horizontalPosition","horizontalOffset","targetElement","target","document","querySelector","$el","parentElement","handleScroll","visible","scrollTop","visibilityHeight","scrollToTop","scrolled","interval","setInterval","next","Math","floor","speed","clearInterval","scrollTo","mounted","addEventListener","beforeUnmount","removeEventListener","Options","name","components","VaButton","_ctx","_createElementBlock","class","style","onClick","_renderSlot","_createVNode","icon","color","withConfigTransport"],"mappings":"2nBAiDA,MAAMA,EAAaC,EAAIC,KA5BvB,MAAMC,MAANC,cACEC,YAASC,EAAmC,CAC1CC,KAAM,CAACC,OAAQC,QACfC,QAAS,IAAMC,SAGjBN,sBAAmBC,EAAa,CAAEC,KAAMK,OAAQF,QAAS,MACzDL,WAAQC,EAAa,CAAEC,KAAMK,OAAQF,QAAS,KAC9CL,oBAAiBC,EAAa,CAAEC,KAAME,OAAQC,QAAS,SACvDL,sBAAmBC,EAAa,CAAEC,KAAME,OAAQC,QAAS,SACzDL,WAAQC,EAAa,CAAEC,KAAME,OAAQC,QAAS,KAC9CL,wBAAqBC,EAAa,CAChCC,KAAME,OACNC,QAAS,QACTG,UAAYC,GACH,CAAC,QAAS,QAAQC,SAASD,KAItCT,sBAAmBC,EAAa,CAC9BC,KAAME,OACNC,QAAS,SACTG,UAAYC,GACH,CAAC,SAAU,OAAOC,SAASD,QAWxC,IAAqBE,EAArB,MAAqBA,kBAAkBC,EACrCjB,IADFI,kCAGEC,cAAU,EACVA,eAAW,EACXA,cAAW,EAEXa,oBACE,MAAO,CACL,CAACb,KAAKc,kBAAmBd,KAAKe,eAC9B,CAACf,KAAKgB,oBAAqBhB,KAAKiB,kBAIpCC,oBACE,MAA8B,iBAAhBlB,KAAKmB,OACfC,SAASC,cAAcrB,KAAKmB,QAC3BnB,KAAKmB,QAAUnB,KAAKsB,IAAIC,cAG/BC,eACExB,KAAKyB,QAAUzB,KAAKkB,cAAcQ,UAAY1B,KAAK2B,iBAGrDC,cACM5B,KAAK6B,WAGT7B,KAAK6B,UAAW,EAChB7B,KAAK8B,SAAWxB,OAAOyB,aAAY,KACjC,MAAMC,EAAOC,KAAKC,MAAMlC,KAAKkB,cAAcQ,UAAY1B,KAAKmC,OACvB,IAAjCnC,KAAKkB,cAAcQ,WACrBU,cAAcpC,KAAK8B,UACnB9B,KAAK6B,UAAW,GAEhB7B,KAAKkB,cAAcmB,SAAS,EAAGL,KAEhC,KAGLM,UACEtC,KAAKkB,cAAcqB,iBAAiB,SAAUvC,KAAKwB,cAGrDgB,gBACExC,KAAKkB,cAAcuB,oBAAoB,SAAUzC,KAAKwB,gBA7CrCb,KAJpB+B,EAAQ,CACPC,KAAM,YACNC,WAAY,CAAEC,SAAAA,MAEKlC,SAAAA,s/ECrDXmC,EAAO,aADfC,eAEEC,MAAM,aACLC,QAAOH,iBACPI,uBAAOJ,mBAERK,yBAAA,KACEC,KACEC,KAAK,cACJC,MAAOR,oGCPhB,MAAeS,EAAoB5C"}