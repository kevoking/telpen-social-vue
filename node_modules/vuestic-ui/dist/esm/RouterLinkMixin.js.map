{"version":3,"file":"RouterLinkMixin.js","sources":["../../src/mixins/RouterLinkMixin/RouterLinkMixin.ts"],"sourcesContent":["import { Options, Vue, prop, mixins } from 'vue-class-component'\r\n\r\nclass RouterLinkProps {\r\n  tag = prop<string>({ type: String, default: 'router-link' })\r\n  to = prop<string | Record<string, unknown>>({ type: [String, Object] })\r\n  replace = prop<boolean>({ type: Boolean })\r\n  append = prop<boolean>({ type: Boolean })\r\n  exact = prop<boolean>({ type: Boolean })\r\n  activeClass = prop<string>({ type: String })\r\n  exactActiveClass = prop<string>({ type: String })\r\n  href = prop<string>({ type: String })\r\n  target = prop<string>({ type: String })\r\n}\r\n\r\nconst RouterLinkPropsMixin = Vue.with(RouterLinkProps)\r\n\r\n@Options({})\r\nexport class RouterLinkMixin extends mixins(\r\n  RouterLinkPropsMixin,\r\n) {\r\n  hasRouterLinkMixin!: boolean\r\n\r\n  get tagComputed () {\r\n    const isNuxt = !!Object.getOwnPropertyDescriptor(this, '$nuxt')\r\n    if (this.tag === 'a' || (this.href && !this.to) || this.target) {\r\n      return 'a'\r\n    }\r\n    if (this.tag === 'nuxt-link' || (isNuxt && this.hasRouterLinkParams)) {\r\n      return 'nuxt-link'\r\n    }\r\n    if (this.tag === 'router-link' || this.hasRouterLinkParams) {\r\n      return 'router-link'\r\n    }\r\n    return this.tag\r\n  }\r\n\r\n  get hasRouterLinkParams () {\r\n    return Boolean(\r\n      this.to ||\r\n      this.append ||\r\n      this.replace ||\r\n      this.exact ||\r\n      this.activeClass ||\r\n      this.href ||\r\n      this.exactActiveClass,\r\n    )\r\n  }\r\n\r\n  get isActiveRouterLink () {\r\n    if (!(this as any).$router || !this.to) {\r\n      return false\r\n    }\r\n\r\n    const resolve = (this as any).$router.resolve(\r\n      this.to,\r\n    )\r\n\r\n    const to = resolve.href\r\n    const currentHref = (this as any).$router.currentRoute.value.path\r\n\r\n    return to.replace('#', '') === currentHref.replace('#', '')\r\n  }\r\n\r\n  get hrefComputed () {\r\n    // to resolve href on server for SEO optimization\r\n    // https://github.com/nuxt/nuxt.js/issues/8204\r\n    // @ts-ignore\r\n    return this.href || (this.to ? (this as any).$router?.resolve(this.to, (this as any).$route).href : null)\r\n  }\r\n\r\n  created () {\r\n    this.hasRouterLinkMixin = true\r\n  }\r\n}\r\n"],"names":["RouterLinkPropsMixin","Vue","with","RouterLinkProps","constructor","this","prop","type","String","default","Object","Boolean","RouterLinkMixin","mixins","tagComputed","isNuxt","getOwnPropertyDescriptor","tag","href","to","target","hasRouterLinkParams","append","replace","exact","activeClass","exactActiveClass","isActiveRouterLink","$router","resolve","currentHref","currentRoute","value","path","hrefComputed","$route","created","hasRouterLinkMixin","Options"],"mappings":"iHAcA,MAAMA,EAAuBC,EAAIC,KAZjC,MAAMC,gBAANC,cACEC,SAAMC,EAAa,CAAEC,KAAMC,OAAQC,QAAS,gBAC5CJ,QAAKC,EAAuC,CAAEC,KAAM,CAACC,OAAQE,UAC7DL,aAAUC,EAAc,CAAEC,KAAMI,UAChCN,YAASC,EAAc,CAAEC,KAAMI,UAC/BN,WAAQC,EAAc,CAAEC,KAAMI,UAC9BN,iBAAcC,EAAa,CAAEC,KAAMC,SACnCH,sBAAmBC,EAAa,CAAEC,KAAMC,SACxCH,UAAOC,EAAa,CAAEC,KAAMC,SAC5BH,YAASC,EAAa,CAAEC,KAAMC,gBAMnBI,EAAb,MAAaA,wBAAwBC,EACnCb,IAIAc,kBACE,MAAMC,IAAWL,OAAOM,yBAAyBX,KAAM,SACvD,MAAiB,MAAbA,KAAKY,KAAgBZ,KAAKa,OAASb,KAAKc,IAAOd,KAAKe,OAC/C,IAEQ,cAAbf,KAAKY,KAAwBF,GAAUV,KAAKgB,oBACvC,YAEQ,gBAAbhB,KAAKY,KAAyBZ,KAAKgB,oBAC9B,cAEFhB,KAAKY,IAGdI,0BACE,OAAOV,QACLN,KAAKc,IACLd,KAAKiB,QACLjB,KAAKkB,SACLlB,KAAKmB,OACLnB,KAAKoB,aACLpB,KAAKa,MACLb,KAAKqB,kBAITC,yBACE,IAAMtB,KAAauB,UAAYvB,KAAKc,GAClC,OAAO,EAGT,MAIMA,EAJWd,KAAauB,QAAQC,QACpCxB,KAAKc,IAGYD,KACbY,EAAezB,KAAauB,QAAQG,aAAaC,MAAMC,KAE7D,OAAOd,EAAGI,QAAQ,IAAK,MAAQO,EAAYP,QAAQ,IAAK,IAG1DW,yBAIE,OAAO7B,KAAKa,OAASb,KAAKc,aAAMd,KAAauB,8BAASC,QAAQxB,KAAKc,GAAKd,KAAa8B,QAAQjB,KAAO,MAGtGkB,UACE/B,KAAKgC,oBAAqB,IAtDjBzB,KADZ0B,EAAQ,KACI1B"}