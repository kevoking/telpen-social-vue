import{b as e,e as t,w as s}from"./withConfigTransport.js";import{__decorate as o}from"tslib";import{V as l,m as i,p as a,O as r}from"./vue-class-component.esm-bundler.js";import{F as n,V as p}from"./index55.js";import{S as u}from"./StatefulMixin.js";import d from"./index38.js";import c from"./index14.js";import m from"./index44.js";import{resolveComponent as h,openBlock as f,createBlock as b,withCtx as y,createElementVNode as g,createElementBlock as V,Fragment as x,renderList as v,renderSlot as $}from"vue";import{s as j}from"./style-inject.es.js";import"lodash-es";import"./VaConfig.js";import"./consts.js";import"./ColorMixin.js";import"./color-config.js";import"colortranslator";import"./SelectableMixin.js";import"./LoadingMixin.js";import"./index27.js";import"./VaIcon.js";import"./SizeMixin.js";import"./useKeyboardOnlyFocus.js";import"./index37.js";const S=l.with(class SelectableListProps{constructor(){this.options=a({type:Array,default:()=>[]}),this.textBy=a({type:[String,Function],default:"text"}),this.valueBy=a({type:[String,Function]}),this.trackBy=a({type:[String,Function],default:"value"}),this.disabledBy=a({type:[String,Function],default:"disabled"})}});class SelectableListMixin extends(i(n,S)){created(){this.isSelectableListComponent=!0}getValue(t){return this.valueBy?"string"==typeof t?t:e(t,this.valueBy):t}getOptionByValue(e){return this.valueBy&&this.options.find((t=>e===this.getValue(t)))||e}getText(t){return"string"==typeof t?t:e(t,this.textBy)}getDisabled(t){return"string"!=typeof t&&e(t,this.disabledBy)}getTrackBy(t){return"string"==typeof t?t:e(t,this.trackBy)}}const B=l.with(class OptionListProps{constructor(){this.type=a({type:String,default:"checkbox",validator:e=>["radio","checkbox","switch"].includes(e)}),this.disabled=a({type:Boolean,default:!1}),this.readonly=a({type:Boolean,default:!1}),this.defaultValue=a({type:[String,Number,Object,Array]}),this.name=a({type:String,default:t}),this.color=a({type:String,default:"primary"}),this.leftLabel=a({type:Boolean,default:!1}),this.modelValue=a({type:[String,Number,Object,Array]})}});let L=class VaOptionList extends(i(SelectableListMixin,u,B)){get isRadio(){return"radio"===this.$props.type}get selectedValue(){const e=this.isRadio?null:[];return this.valueComputed||this.$props.defaultValue||e}set selectedValue(e){this.$props.readonly||(this.isRadio?this.valueComputed=this.getValue(e):this.valueComputed=Array.isArray(e)?e.map((e=>this.getValue(e))):[this.getValue(e)])}getKey(e){return this.getTrackBy(e)}isDisabled(e){return this.$props.disabled||this.getDisabled(e)}reset(){this.valueComputed=void 0}focus(){const e=this.$refs.input,t=Array.isArray(e)&&e.find((e=>!e.disabled));t&&"function"==typeof t.focus&&t.focus()}mounted(){this.isSelectableListComponent=!0,!this.valueComputed&&this.$props.defaultValue&&(this.selectedValue=this.$props.defaultValue)}};L=o([r({name:"VaOptionList",components:{VaRadio:d,VaCheckbox:c,VaSwitch:m,VaInputWrapper:p}})],L);var k=L;const C=["id"];j(":root{--va-option-list-line-height:1.5}.va-option-list__list{line-height:var(--va-option-list-line-height)}"),k.render=function render(e,t,s,o,l,i){const a=h("va-radio"),r=h("va-checkbox"),n=h("va-switch"),p=h("va-input-wrapper");return f(),b(p,{error:e.computedError,"error-messages":e.computedErrorMessages,"error-count":e.$props.errorCount},{default:y((()=>[g("ul",{class:"va-option-list__list",id:e.$props.id},[(f(!0),V(x,null,v(e.$props.options,((s,o)=>(f(),V("li",{key:e.getKey(s)},[$(e.$slots,"default",{props:{option:s,isDisabled:e.isDisabled,name:e.$props.name,color:e.$props.color,leftLabel:e.$props.leftLabel,getText:e.getText,selectedValue:e.selectedValue,index:o}},(()=>["radio"===e.$props.type?(f(),b(a,{key:0,ref:"input",option:e.getValue(s),disabled:e.isDisabled(s),name:e.$props.name,color:e.$props.color,"left-label":e.$props.leftLabel,label:e.getText(s),modelValue:e.selectedValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedValue=t),tabindex:o},null,8,["option","disabled","name","color","left-label","label","modelValue","tabindex"])):"checkbox"===e.$props.type?(f(),b(r,{key:1,ref:"input",modelValue:e.selectedValue,"onUpdate:modelValue":t[1]||(t[1]=t=>e.selectedValue=t),label:e.getText(s),disabled:e.isDisabled(s),"left-label":e.$props.leftLabel,"array-value":e.getValue(s),color:e.$props.color,name:e.$props.name},null,8,["modelValue","label","disabled","left-label","array-value","color","name"])):(f(),b(n,{key:2,ref:"input",modelValue:e.selectedValue,"onUpdate:modelValue":t[2]||(t[2]=t=>e.selectedValue=t),label:e.getText(s),disabled:e.isDisabled(s),"left-label":e.$props.leftLabel,"array-value":e.getValue(s),color:e.$props.color,name:e.$props.name},null,8,["modelValue","label","disabled","left-label","array-value","color","name"]))]))])))),128))],8,C)])),_:3},8,["error","error-messages","error-count"])},k.__file="src/components/va-option-list/VaOptionList.vue";var O=s(k);export{O as default};
//# sourceMappingURL=index49.js.map
