import{w as e}from"./withConfigTransport.js";import{__decorate as a}from"tslib";import{h as o,Transition as t,watch as i,resolveComponent as r,mergeProps as l,withCtx as s,openBlock as n,createBlock as d,createCommentVNode as m,createTextVNode as v,toDisplayString as c,createVNode as p,renderSlot as h}from"vue";import{V as u,O as f,m as g,p as x}from"./vue-class-component.esm-bundler.js";import{noop as y}from"lodash-es";import{C as _}from"./ColorMixin.js";import{S as b}from"./StatefulMixin.js";import $ from"./index8.js";import k from"./index27.js";import{ssrRenderAttrs as w,ssrRenderComponent as C,ssrRenderStyle as z,ssrRenderClass as T,ssrInterpolate as S,ssrRenderSlot as E}from"@vue/server-renderer";import{s as M}from"./style-inject.es.js";import"./VaConfig.js";import"./color-config.js";import"colortranslator";import"./RouterLinkMixin.js";import"./SizeMixin.js";import"./LoadingMixin.js";import"./index37.js";import"./VaIcon.js";const ownerDocument=e=>e&&e.ownerDocument||document,listen=({node:e,eventName:a,handler:o,options:t})=>(e.addEventListener(a,o,t),()=>{e.removeEventListener(a,o,t)}),O="production"!==process.env.NODE_ENV;class ClickOutsideMixin extends u{constructor(){super(...arguments),this.preventMouseRootTrigger=!0}handleMouse(e,a){if(!this.preventMouseRootTrigger){const{onClickOutside:o}=a;o(e)}}handleMouseCapture(e,a){var o;(o=e,document.documentElement.clientWidth<o.clientX||document.documentElement.clientHeight<o.clientY)||(this.preventMouseRootTrigger=((e,a)=>{if(O&&!a)throw new Error("ClickOutside captured a click event but does not have a target to compare it to.");let o;if(e.composedPath)o=e.composedPath().indexOf(a)>-1;else{const r=ownerDocument(a);o=!(r.documentElement&&r.documentElement.contains(e.target))||(t=a,i=e.target,t.contains?t.contains(i):!(!t.compareDocumentPosition||t!==i&&!(16&t.compareDocumentPosition(i))))}var t,i,r;return!(a&&(r=e,!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey))&&(e=>0===e.button)(e)&&!o)})(e,a))}registerClickOutsideEvents(e,a){const{trigger:o,disabled:t}=a;if(t||!e)return y;const i=ownerDocument(e),r=listen({node:i,eventName:o,handler:a=>this.handleMouseCapture(a,e),options:!0}),l=listen({node:i,eventName:o,handler:e=>this.handleMouse(e,a)});let s=[];return"ontouchstart"in i.documentElement&&(s=[].slice.call(i.body.children).map((e=>listen({node:e,eventName:"mousemove",handler:y})))),()=>{r(),l(),s.forEach((e=>e())),this.preventMouseRootTrigger=!0}}}const j=u.with(class ModalProps{constructor(){this.modelValue=x({type:Boolean,default:!1}),this.title=x({type:String,default:""}),this.message=x({type:String,default:""}),this.okText=x({type:String,default:"OK"}),this.cancelText=x({type:String,default:"Cancel"}),this.hideDefaultActions=x({type:Boolean,default:!1}),this.fullscreen=x({type:Boolean,default:!1}),this.mobileFullscreen=x({type:Boolean,default:!0}),this.noDismiss=x({type:Boolean,default:!1}),this.noOutsideDismiss=x({type:Boolean,default:!1}),this.noEscDismiss=x({type:Boolean,default:!1}),this.maxWidth=x({type:String,default:""}),this.maxHeight=x({type:String,default:""}),this.size=x({type:String,default:"medium",validator:e=>["medium","small","large"].includes(e)}),this.fixedLayout=x({type:Boolean,default:!1}),this.withoutTransitions=x({type:Boolean,default:!1}),this.overlay=x({type:Boolean,default:!0}),this.overlayOpacity=x({type:[Number,String],default:void 0}),this.zIndex=x({type:[Number,String],default:void 0})}});class ModalElementProps{constructor(){this.isTransition=x({type:Boolean,default:!0})}}let B=class ModalElement extends(u.with(ModalElementProps)){render(){const e=this.$slots.default?this.$slots.default(this.$attrs):null;return this.$props.isTransition?o(t,{...this.$attrs},this.$slots):e}};B=a([f({name:"ModalElement"})],B);let D=class VaModal extends(g(_,b,ClickOutsideMixin,j)){constructor(){super(...arguments),this.clearClickOutsideEvents=y}created(){i((()=>this.valueComputed),(e=>{if(e){window.addEventListener("keyup",this.listenKeyUp);const e={onClickOutside:()=>{this.$emit("click-outside"),this.cancel()},disabled:this.$props.noOutsideDismiss||this.$props.noDismiss||!1,trigger:"mousedown"};this.$nextTick((()=>{const a=this.$refs.modal;this.clearClickOutsideEvents=this.registerClickOutsideEvents(a,e)}))}else this.clearClickOutsideEvents(),window.removeEventListener("keyup",this.listenKeyUp)}))}get computedClass(){return{"va-modal--fullscreen":this.$props.fullscreen,"va-modal--mobile-fullscreen":this.$props.mobileFullscreen,"va-modal--fixed-layout":this.$props.fixedLayout,[`va-modal--size-${this.$props.size}`]:"medium"!==this.$props.size}}get computedOverlayStyles(){return!!document.querySelectorAll(".va-modal__overlay").length?{}:{"background-color":`rgba(0, 0, 0, ${this.$props.overlayOpacity||.6})`,"z-index":null!=this.$props.zIndex?parseInt(this.$props.zIndex)-10:void 0}}get computedModalContainerStyle(){return{"z-index":this.$props.zIndex}}get hasContentSlot(){return this.$slots.default}get hasHeaderSlot(){return this.$slots.header}get hasFooterSlot(){return this.$slots.footer}show(){this.valueComputed=!0}hide(){this.valueComputed=!1}toggle(){this.valueComputed=!this.valueComputed}cancel(){this.hide(),this.$emit("cancel")}ok(){this.hide(),this.$emit("ok")}listenKeyUp(e){"Escape"!==e.code||this.$props.noEscDismiss||this.$props.noDismiss||this.cancel()}onBeforeEnterTransition(e){this.$emit("before-open",e)}onAfterEnterTransition(e){this.$emit("open",e)}onBeforeLeaveTransition(e){this.$emit("before-close",e)}onAfterLeaveTransition(e){this.$emit("close",e)}};D=a([f({name:"VaModal",components:{VaButton:$,VaIcon:k,ModalElement:B},emits:["update:modelValue","cancel","ok","before-open","open","before-close","close","click-outside"]})],D);var H=D;M(':root{--va-gray-light:#acb5be;--va-light-gray:#eee;--va-light-gray2:#eff4f5;--va-light-gray3:#f5f8f9;--va-lighter-gray:#ddd;--va-charcoal:#555;--va-darkest-gray:#333;--va-almost-black:#161616;--va-hover-black:#222;--va-vue-green:#4ae387;--va-vue-light-green:#dbf9e8;--va-light-green:#c8f9c5;--va-lighter-green:#d6ffd3;--va-light-blue:#dcf1ff;--va-light-yellow:#fff1c8;--va-light-pink:#ffcece;--va-vue-darkest-blue:#34495e;--va-vue-turquoise:#dbf9e7;--va-white:#fff;--va-theme-danger:#e34b4a;--va-theme-warning:#ffc200;--va-theme-red:#e34a4a;--va-theme-orange:#f7cc36;--va-theme-blue:#4ab2e3;--va-theme-blue-dark:#2c82e0;--va-theme-violet:#db76df;--va-theme-pale:#d9d9d9;--va-primary:var(--va-vue-green);--va-danger:var(--va-theme-red);--va-warning:var(--va-theme-orange);--va-info:var(--va-theme-blue);--va-success:var(--va-vue-green);--va-secondary:#babfc2;--va-dark-gray:#282828;--va-gray:#adb3b9;--va-default-gray:#8396a5;--va-dark-blue:#0e4ac4;--va-text-gray:#b4b4b4;--va-markdown-code:#d7234e;--va-prism-background:#f4f8fa;--va-separator-color:#e6e9ec;--va-border:0;--va-font-family:"Source Sans Pro",sans-serif;--va-letter-spacing:0.0375rem;--va-background-color:#fff;--va-swing-transition:0.3s cubic-bezier(0.25,0.8,0.5,1);--va-block-border-radius:0.375rem;--va-block-border:thin solid rgba(52,56,85,0.25);--va-block-box-shadow:0 2px 3px 0 rgba(52,56,85,0.25);--va-control-box-shadow:none;--va-control-border:0;--va-transition:0.2s cubic-bezier(0.4,0,0.6,1);--va-outline-border-width:0.125rem;--va-outline-box-shadow:none;--va-square-border-radius:0.25rem;--va-form-padding:1.25rem;--va-form-border-radius:0.125rem;--va-text-selected:#b3d4fc;--va-text-highlighted:#fff3d1;--va-link-color:var(--va-primary);--va-link-color-secondary:var(--va-secondary);--va-link-color-hover:var(--va-primary);--va-link-color-active:var(--va-primary);--va-link-color-visited:var(--va-primary);--va-muted:#7f828b;--va-li-background:var(--va-theme-blue-dark);--va-text-block:var(--va-light-gray3);--va-stripe-border-size:0.25rem;--va-box-shadow:0 0.25rem 0.5rem 0 rgba(59,63,73,0.15);--va-modal-title-margin-bottom:1.5rem;--va-modal-container-position:fixed;--va-modal-container-top:0;--va-modal-container-left:0;--va-modal-container-z-index:1050;--va-modal-container-display:flex;--va-modal-container-width:100%;--va-modal-container-height:100%;--va-modal-container-align-items:center;--va-modal-container-justify-content:center;--va-modal-container-overflow:hidden;--va-modal-container-outline:0;--va-modal-dialog-background:#fff;--va-modal-dialog-min-height:3.125rem;--va-modal-dialog-height:fit-content;--va-modal-dialog-border-radius:0.375rem;--va-modal-dialog-margin:1rem;--va-modal-dialog-box-shadow:0 4px 70px -18px #707070;--va-modal-dialog-max-width:768px;--va-modal-dialog-max-height:calc(100vh - 2rem);--va-modal-dialog-position:relative;--va-modal-overlay-position:fixed;--va-modal-overlay-top:0;--va-modal-overlay-left:0;--va-modal-overlay-z-index:calc(var(--va-modal-container-z-index) - 1);--va-modal-overlay-width:100vw;--va-modal-overlay-height:100vh}.va-modal__title{font-size:.625rem;font-weight:700;letter-spacing:.6px;line-height:1.2;margin-bottom:1.5rem;text-transform:uppercase}.va-modal__container{align-items:var(--va-modal-container-align-items);display:var(--va-modal-container-display);height:var(--va-modal-container-height);justify-content:var(--va-modal-container-justify-content);left:var(--va-modal-container-left);outline:var(--va-modal-container-outline);overflow:var(--va-modal-container-overflow);position:var(--va-modal-container-position);top:var(--va-modal-container-top);width:var(--va-modal-container-width);z-index:var(--va-modal-container-z-index)}.va-modal__container--transition-enter-from,.va-modal__container--transition-leave-to{opacity:0;transform:translateY(-30%)}.va-modal__container--transition-enter-active,.va-modal__container--transition-leave-active{transition:opacity .15s cubic-bezier(1,.5,.8,1),transform .3s ease}.va-modal__dialog{background:var(--va-modal-dialog-background);border-radius:var(--va-modal-dialog-border-radius,var(--va-block-border-radius));box-shadow:var(--va-modal-dialog-box-shadow,var(--va-block-box-shadow));height:var(--va-modal-dialog-height);margin:var(--va-modal-dialog-margin);max-height:var(--va-modal-dialog-max-height);max-width:var(--va-modal-dialog-max-width);min-height:var(--va-modal-dialog-min-height);overflow:auto;position:var(--va-modal-dialog-position)}.va-modal__overlay{height:var(--va-modal-overlay-height);left:var(--va-modal-overlay-left);position:var(--va-modal-overlay-position);top:var(--va-modal-overlay-top);width:var(--va-modal-overlay-width);z-index:var(--va-modal-overlay-z-index)}.va-modal__overlay--transition-enter-from,.va-modal__overlay--transition-leave-to{opacity:0}.va-modal__overlay--transition-enter-active,.va-modal__overlay--transition-leave-active{transition:opacity .2s cubic-bezier(1,.5,.8,1)}.va-modal--fullscreen{border-radius:0;margin:0;min-height:100vh!important;min-width:100vw!important}@media (max-width:576px){.va-modal--mobile-fullscreen{border-radius:0;margin:0!important;min-height:100vh!important;min-width:100vw!important;position:fixed}}.va-modal--size-small{max-width:576px}@media (max-width:576px){.va-modal--size-small{max-width:100vw!important}}.va-modal--size-small .va-modal__inner{max-width:576px}@media (max-width:576px){.va-modal--size-small .va-modal__inner{max-width:100vw!important}}.va-modal--size-large,.va-modal--size-large .va-modal__inner{max-width:992px}.va-modal--fixed-layout .va-modal__inner{max-height:calc(100vh - 2rem);overflow:hidden;padding:1.25rem 0 1.5rem}.va-modal--fixed-layout .va-modal__inner .va-modal__footer,.va-modal--fixed-layout .va-modal__inner .va-modal__header,.va-modal--fixed-layout .va-modal__inner .va-modal__title{padding:0 1.875rem 0 1.5rem}.va-modal--fixed-layout .va-modal__inner .va-modal__message{overflow:auto;padding:0 1.875rem 0 1.5rem}.va-modal--fixed-layout .va-modal__dialog{overflow:hidden}.va-modal__message{margin-bottom:1.5rem}.va-modal__inner{display:flex;flex-flow:column;margin:auto;max-width:768px;overflow:visible;padding:1.25rem 1.875rem 1.5rem 1.5rem;position:relative}.va-modal__inner>div:last-of-type{margin-bottom:0!important}.va-modal__close{color:#babfc2;cursor:pointer;font-size:1.5rem!important;font-style:normal!important;position:absolute;right:1rem;top:1rem;z-index:1}.va-modal__footer{display:flex;flex-wrap:wrap;justify-content:center;margin-top:auto;min-height:-webkit-fit-content;min-height:-moz-fit-content;min-height:fit-content}.va-modal__footer:last-of-type{margin-bottom:0!important}'),H.ssrRender=function ssrRender(e,a,o,t,i,u,f,g){const x=r("modal-element"),y=r("va-icon"),_=r("va-button");a(`<div${w(l({class:"va-modal"},t))}>`),a(C(x,{name:"va-modal__overlay--transition",isTransition:!e.$props.withoutTransitions,appear:""},{default:s(((a,o,t,i)=>{if(!o)return[e.valueComputed&&e.$props.overlay?(n(),d("div",{key:0,class:"va-modal__overlay",style:e.computedOverlayStyles},null,4)):m("v-if",!0)];e.valueComputed&&e.$props.overlay?o(`<div class="va-modal__overlay" style="${z(e.computedOverlayStyles)}"${i}></div>`):o("\x3c!----\x3e")})),_:1},o)),a(C(x,{name:"va-modal__container--transition",isTransition:!e.$props.withoutTransitions,appear:""},{default:s(((a,o,t,i)=>{if(!o)return[e.valueComputed?(n(),d("div",{key:0,class:"va-modal__container",style:e.computedModalContainerStyle},[p("div",{class:["va-modal__dialog",e.computedClass],style:{maxWidth:e.$props.maxWidth,maxHeight:e.$props.maxHeight},ref:"modal"},[e.$props.fullscreen?(n(),d(y,{key:0,onClick:a=>e.cancel(),name:"close",class:"va-modal__close"},null,8,["onClick"])):m("v-if",!0),p("div",{class:"va-modal__inner",style:{maxWidth:e.$props.maxWidth,maxHeight:e.$props.maxHeight}},[e.title?(n(),d("div",{key:0,class:"va-modal__title",style:{color:e.theme.getColor("primary")}},c(e.$props.title),5)):m("v-if",!0),e.hasHeaderSlot?(n(),d("div",{key:1,class:"va-modal__header"},[h(e.$slots,"header")])):m("v-if",!0),e.$props.message?(n(),d("div",{key:2,class:"va-modal__message"},c(e.$props.message),1)):m("v-if",!0),e.hasContentSlot?(n(),d("div",{key:3,class:"va-modal__message"},[h(e.$slots,"default")])):m("v-if",!0),!e.$props.cancelText&&!e.$props.okText||e.$props.hideDefaultActions?m("v-if",!0):(n(),d("div",{key:4,class:"va-modal__footer"},[e.$props.cancelText?(n(),d(_,{key:0,color:"gray",class:"mr-2",flat:"",onClick:e.cancel},{default:s((()=>[v(c(e.$props.cancelText),1)])),_:1},8,["onClick"])):m("v-if",!0),p(_,{onClick:e.ok},{default:s((()=>[v(c(e.$props.okText),1)])),_:1},8,["onClick"])])),e.hasFooterSlot?(n(),d("div",{key:5,class:"va-modal__footer"},[h(e.$slots,"footer")])):m("v-if",!0)],4)],6)],4)):m("v-if",!0)];e.valueComputed?(o(`<div class="va-modal__container" style="${z(e.computedModalContainerStyle)}"${i}><div class="${T([e.computedClass,"va-modal__dialog"])}" style="${z({maxWidth:e.$props.maxWidth,maxHeight:e.$props.maxHeight})}"${i}>`),e.$props.fullscreen?o(C(y,{name:"close",class:"va-modal__close"},null,t,i)):o("\x3c!----\x3e"),o(`<div class="va-modal__inner" style="${z({maxWidth:e.$props.maxWidth,maxHeight:e.$props.maxHeight})}"${i}>`),e.title?o(`<div class="va-modal__title" style="${z({color:e.theme.getColor("primary")})}"${i}>${S(e.$props.title)}</div>`):o("\x3c!----\x3e"),e.hasHeaderSlot?(o(`<div class="va-modal__header"${i}>`),E(e.$slots,"header",{},null,o,t,i),o("</div>")):o("\x3c!----\x3e"),e.$props.message?o(`<div class="va-modal__message"${i}>${S(e.$props.message)}</div>`):o("\x3c!----\x3e"),e.hasContentSlot?(o(`<div class="va-modal__message"${i}>`),E(e.$slots,"default",{},null,o,t,i),o("</div>")):o("\x3c!----\x3e"),!e.$props.cancelText&&!e.$props.okText||e.$props.hideDefaultActions?o("\x3c!----\x3e"):(o(`<div class="va-modal__footer"${i}>`),e.$props.cancelText?o(C(_,{color:"gray",class:"mr-2",flat:""},{default:s(((a,o,t,i)=>{if(!o)return[v(c(e.$props.cancelText),1)];o(`${S(e.$props.cancelText)}`)})),_:1},t,i)):o("\x3c!----\x3e"),o(C(_,null,{default:s(((a,o,t,i)=>{if(!o)return[v(c(e.$props.okText),1)];o(`${S(e.$props.okText)}`)})),_:1},t,i)),o("</div>")),e.hasFooterSlot?(o(`<div class="va-modal__footer"${i}>`),E(e.$slots,"footer",{},null,o,t,i),o("</div>")):o("\x3c!----\x3e"),o("</div></div></div>")):o("\x3c!----\x3e")})),_:3},o)),a("</div>")},H.__file="src/components/va-modal/VaModal.vue";var V=e(H);export{V as default};
//# sourceMappingURL=index32.js.map
