import{w as e}from"./withConfigTransport.js";import{computed as a,ref as t,watch as o,defineComponent as l,toRefs as n,resolveComponent as r,mergeProps as u,withCtx as s,createSlots as i,renderSlot as p,createVNode as d,renderList as v}from"vue";import{u as m}from"./cStatefulMixin.js";import{i as c,s as f,e as V,a as _,b as x,f as y}from"./VaDatePicker.js";import j,{VaDropdownContent as P}from"./index24.js";import C from"./index30.js";import $ from"./index27.js";import{ssrRenderAttrs as k,ssrRenderComponent as g,ssrRenderSlot as D}from"@vue/server-renderer";import{s as S}from"./style-inject.es.js";import"lodash-es";import"./VaConfig.js";import"./color-config.js";import"colortranslator";import"./index8.js";import"tslib";import"./vue-class-component.esm-bundler.js";import"./ColorMixin.js";import"./RouterLinkMixin.js";import"./SizeMixin.js";import"./LoadingMixin.js";import"./index37.js";import"./VaIcon.js";import"asva-executors";import"@popperjs/core";import"./StatefulMixin.js";import"./index55.js";import"./consts.js";import"cleave.js";const I={label:{type:String,required:!1},color:{type:String,default:"primary"},placeholder:{type:String,default:""},clearable:{type:Boolean,default:!1},tabindex:{type:Number,default:0},outline:{Boolean:Boolean,default:!1},bordered:{Boolean:Boolean,default:!1},readonly:{Boolean:Boolean,default:!0}};var h=l({name:"VaDateInput",components:{vaDropdown:j,VaDropdownContent:P,VaDatePicker:f,VaInput:C,VaIcon:$},props:{...V(f),...I,resetOnClose:{type:Boolean,default:!0},isOpen:{type:Boolean},format:{type:Function}},emits:["update:modelValue","hover:day","hover:month","update:year","update:month","update:view","click:month","click:day","update:is-open","update:text"],setup(e,{emit:l}){const{isOpen:r,resetOnClose:u}=n(e),{valueComputed:s}=m(e,l),{syncProp:i}=function useSyncProp(e,o,l,n){if(void 0===n)return{syncProp:a({set(e){l(`update:${o}`,e)},get:()=>e.value})};const r=t(n);return{syncProp:a({set(e){r.value=e,l(`update:${o}`,e)},get:()=>void 0===(null==e?void 0:e.value)?r.value:e.value})}}(r,"is-open",l,!1),p=a((()=>!u.value)),{valueComputed:d,reset:v}=((e,l)=>{const n=t(e.value),r=a({get:()=>n.value,set:a=>{if(l.value&&(n.value=a,e.value=a),!a)return e.value=a,void(n.value=a);c(a)?null!==a.end&&(e.value=a):e.value=a,n.value=a}});return o(e,(e=>{e&&(n.value=e)})),{valueComputed:r,reset:()=>{n.value&&c(n.value)&&(n.value=e.value)}}})(s,p);o(i,(e=>{e||p.value||v()}));const dateOrNothing=e=>e?e.toDateString():"...",j=a({get:()=>{if(e.format)return e.format(d.value);if(!d.value)return"";if(_(d.value))return d.value.map((e=>e.toDateString())).join(", ");if(x(d.value))return d.value.toDateString();if(c(d.value))return dateOrNothing(d.value.start)+" ~ "+dateOrNothing(d.value.end);throw new Error("VaDatePicker: Invalid model value. Value should be Date, Date[] or { start: Date, end: Date | null }")},set(e){}});o(j,(e=>l("update:text",e)));return{valueText:j,valueComputed:d,isOpenSync:i,onClear:()=>{d.value=void 0},inputProps:y(e,I),datePickerProps:y(e,V(f))}}});S(".va-date-input[data-v-139365e2]{--va-date-picker-cell-size:28px;display:flex}.va-date-input__icon[data-v-139365e2],.va-date-input__input[data-v-139365e2]{cursor:pointer}"),h.ssrRender=function ssrRender(e,a,t,o,l,n,m,c){const f=r("va-dropdown"),V=r("va-input"),_=r("va-icon"),x=r("va-dropdown-content"),y=r("va-date-picker");a(`<div${k(u({class:"va-date-input"},o))} data-v-139365e2>`),a(g(f,{modelValue:e.isOpenSync,"onUpdate:modelValue":a=>e.isOpenSync=a,offset:[0,10],"close-on-content-click":!1},{anchor:s(((a,t,o,l)=>{if(!t)return[p(e.$slots,"input",{valueText:e.valueText,inputProps:e.inputProps,color:e.color},(()=>[d(V,u({modelValue:e.valueText,"onUpdate:modelValue":a=>e.valueText=a},e.inputProps,{class:"va-date-input__input",onCleared:e.onClear}),i({appendInner:s((a=>[p(e.$slots,"appendInner",a,(()=>[d(_,{name:"calendar_today",class:"va-date-picker__icon",size:"small",color:e.color},null,8,["color"])]))])),_:2},[v(e.$slots,((a,t)=>({name:t,fn:s((a=>[p(e.$slots,t,a)]))})))]),1040,["modelValue","onUpdate:modelValue","onCleared"])]))];D(e.$slots,"input",{valueText:e.valueText,inputProps:e.inputProps,color:e.color},(()=>{t(g(V,u({modelValue:e.valueText,"onUpdate:modelValue":a=>e.valueText=a},e.inputProps,{class:"va-date-input__input"}),i({appendInner:s(((a,t,o,l)=>{if(!t)return[p(e.$slots,"appendInner",a,(()=>[d(_,{name:"calendar_today",class:"va-date-picker__icon",size:"small",color:e.color},null,8,["color"])]))];D(e.$slots,"appendInner",a,(()=>{t(g(_,{name:"calendar_today",class:"va-date-picker__icon",size:"small",color:e.color},null,o,l))}),t,o,"data-v-139365e2-s"+l)})),_:2},[v(e.$slots,((a,t)=>({name:t,fn:s(((a,o,l,n)=>{if(!o)return[p(e.$slots,e.name,a)];D(e.$slots,t,a,null,o,l,"data-v-139365e2-s"+n)}))})))]),o,l))}),t,o,"data-v-139365e2-s"+l)})),default:s(((a,t,o,l)=>{if(!t)return[d(x,null,{default:s((()=>[d(y,u(e.datePickerProps,{modelValue:e.valueComputed,"onUpdate:modelValue":a=>e.valueComputed=a}),i({_:2},[v(e.$slots,((a,t)=>({name:t,fn:s((a=>[p(e.$slots,t,a)]))})))]),1040,["modelValue","onUpdate:modelValue"])])),_:3})];t(g(x,null,{default:s(((a,t,o,l)=>{if(!t)return[d(y,u(e.datePickerProps,{modelValue:e.valueComputed,"onUpdate:modelValue":a=>e.valueComputed=a}),i({_:2},[v(e.$slots,((a,t)=>({name:t,fn:s((a=>[p(e.$slots,t,a)]))})))]),1040,["modelValue","onUpdate:modelValue"])];t(g(y,u(e.datePickerProps,{modelValue:e.valueComputed,"onUpdate:modelValue":a=>e.valueComputed=a}),i({_:2},[v(e.$slots,((a,t)=>({name:t,fn:s(((a,o,l,n)=>{if(!o)return[p(e.$slots,e.name,a)];D(e.$slots,t,a,null,o,l,"data-v-139365e2-s"+n)}))})))]),o,l))})),_:3},o,l))})),_:3},t)),a("</div>")},h.__scopeId="data-v-139365e2",h.__file="src/components/va-date-input/VaDateInput.vue";const T=e(h);export{T as VaDateInput};
//# sourceMappingURL=index22.js.map
