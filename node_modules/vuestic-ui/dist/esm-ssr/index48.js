import{w as e}from"./withConfigTransport.js";import{__decorate as t}from"tslib";import{inject as s,provide as r,createVNode as o,resolveDynamicComponent as n,mergeProps as i,withCtx as a,renderSlot as d}from"vue";import{V as l,m,s as h,O as f,p as u}from"./vue-class-component.esm-bundler.js";import{F as c}from"./consts.js";import{ssrRenderVNode as p,ssrRenderSlot as v}from"@vue/server-renderer";import{s as F}from"./style-inject.es.js";import"lodash-es";import"./VaConfig.js";const E=l.with(class FormProps{constructor(){this.autofocus=u({type:Boolean,default:!1}),this.tag=u({type:String,default:"div"})}});let j=class VaForm extends(m(E)){constructor(){super(...arguments),this.nestedFormElements=[],this.parentFormProvider=h((()=>({...s(c,void 0)}))),this.formProvider=h((()=>{const e={onChildMounted:e=>this.childMountedHandler(e),onChildUnmounted:e=>this.childUnmountedHandler(e)};return r(c,e),e}))}childMountedHandler(e){this.nestedFormElements.push(e)}childUnmountedHandler(e){this.nestedFormElements=this.nestedFormElements.filter((t=>t!==e))}mounted(){Object.keys(this.parentFormProvider).length&&this.parentFormProvider.onChildMounted(this),this.autofocus&&this.$nextTick((()=>{this.focus()}))}unmounted(){Object.keys(this.parentFormProvider).length&&this.parentFormProvider.onChildUnmounted(this)}reset(){this.nestedFormElements.filter((({reset:e})=>e)).forEach((e=>{e.reset()}))}resetValidation(){this.nestedFormElements.filter((({resetValidation:e})=>e)).forEach((e=>{e.resetValidation()}))}focus(){const e=this.nestedFormElements.find((({focus:e})=>e));e&&e.focus()}focusInvalid(){const e=this.nestedFormElements.filter((({hasError:e})=>e)).find((e=>e.hasError()));if(e)e.focus();else{this.nestedFormElements.filter((({nestedFormElements:e})=>e)).forEach((e=>e.focusInvalid()))}}validate(){let e=!0;return this.nestedFormElements.filter((({validate:e})=>e)).forEach((t=>{t.validate()||(e=!1)})),this.$emit("validation",e),e}};j=t([f({name:"VaForm",emits:["validation"]})],j);var V=j;F(""),V.ssrRender=function ssrRender(e,t,s,r,l,m,h,f){p(t,o(n(e.tag),i({class:"va-form"},r),{default:a(((t,s,r,o)=>{if(!s)return[d(e.$slots,"default")];v(e.$slots,"default",{},null,s,r,o)})),_:3}),s)},V.__file="src/components/va-form/VaForm.vue";var g=e(V);export{g as default};
//# sourceMappingURL=index48.js.map
