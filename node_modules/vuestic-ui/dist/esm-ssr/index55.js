import{__decorate as e}from"tslib";import{flatten as r,isFunction as a,isString as t}from"lodash-es";import{inject as s,mergeProps as o,resolveComponent as i}from"vue";import{V as n,m as v,s as l,O as d,p as u}from"./vue-class-component.esm-bundler.js";import{F as c}from"./consts.js";import{w as m}from"./withConfigTransport.js";import{C as p}from"./ColorMixin.js";import{ssrRenderAttrs as h,ssrRenderList as g,ssrInterpolate as f,ssrRenderSlot as b,ssrRenderComponent as y}from"@vue/server-renderer";import{s as w}from"./style-inject.es.js";const prepareValidations=(e=[],r=null)=>(t(e)&&(e=[e]),e.map((e=>a(e)?e(r):e)));const k=n.with(class Props$1{constructor(){this.rules=u({type:Array,default:()=>[]}),this.disabled=u({type:Boolean,default:!1}),this.readonly=u({type:Boolean,default:!1}),this.success=u({type:Boolean,default:!1}),this.messages=u({type:Array,default:()=>[]}),this.error=u({type:Boolean,default:!1}),this.errorMessages=u({type:[Array,String]}),this.errorCount=u({type:Number,default:1}),this.id=u({type:[String,Number],default:void 0}),this.name=u({type:[String,Number],default:void 0}),this.modelValue=u({validator:()=>{throw new Error("ValidateMixin: `modelValue` prop should be defined in component.")}})}});let x=class FormComponentMixin extends(v(k)){constructor(){super(...arguments),this.hadFocus=!1,this.isFocused=!1,this.internalErrorMessages=[],this.internalError=!1,this.isFormComponent=!0,this.formProvider=l((()=>({...s(c,void 0)})))}mounted(){Object.keys(this.formProvider).length&&this.formProvider.onChildMounted(this)}unmounted(){Object.keys(this.formProvider).length&&this.formProvider.onChildUnmounted(this)}validate(){return this.computedError=!1,this.computedErrorMessages=[],this.rules&&this.rules.length>0&&prepareValidations(r(this.rules),this.modelValue).forEach((e=>{t(e)?(this.computedErrorMessages.push(e),this.computedError=!0):!1===e&&(this.computedError=!0)})),!this.computedError}focus(){throw new Error("focus method should be implemented in component")}reset(){throw new Error("reset method should be implemented in component")}resetValidation(){this.computedErrorMessages=[],this.computedError=!1}hasError(){return this.computedError}ValidateMixin_onBlur(){this.isFocused=!1,this.computedError=!1,this.validate()}get shouldValidateOnBlur(){return this.hadFocus}get computedError(){return this.error||this.internalError}set computedError(e){this.internalError=e}get computedErrorMessages(){return this.errorMessages?prepareValidations(this.errorMessages):this.internalErrorMessages}set computedErrorMessages(e){this.internalErrorMessages=e}};x=e([d({})],x);const _=n.with(class MessagesListProps{constructor(){this.value=u({type:[String,Number,Object,Array],default:""}),this.limit=u({type:Number,default:1}),this.color=u({type:String,default:"gray"})}});let E=class VaMessageList extends(v(p,_)){get messages(){return this.value?Array.isArray(this.value)?this.value.slice(0,this.limit):[this.value]:[]}get computedStyle(){return{color:this.colorComputed}}};E=e([d({name:"VaMessageList"})],E);var M=E;w(':root{--va-gray-light:#acb5be;--va-light-gray:#eee;--va-light-gray2:#eff4f5;--va-light-gray3:#f5f8f9;--va-lighter-gray:#ddd;--va-charcoal:#555;--va-darkest-gray:#333;--va-almost-black:#161616;--va-hover-black:#222;--va-vue-green:#4ae387;--va-vue-light-green:#dbf9e8;--va-light-green:#c8f9c5;--va-lighter-green:#d6ffd3;--va-light-blue:#dcf1ff;--va-light-yellow:#fff1c8;--va-light-pink:#ffcece;--va-vue-darkest-blue:#34495e;--va-vue-turquoise:#dbf9e7;--va-white:#fff;--va-theme-danger:#e34b4a;--va-theme-warning:#ffc200;--va-theme-red:#e34a4a;--va-theme-orange:#f7cc36;--va-theme-blue:#4ab2e3;--va-theme-blue-dark:#2c82e0;--va-theme-violet:#db76df;--va-theme-pale:#d9d9d9;--va-primary:var(--va-vue-green);--va-danger:var(--va-theme-red);--va-warning:var(--va-theme-orange);--va-info:var(--va-theme-blue);--va-success:var(--va-vue-green);--va-secondary:#babfc2;--va-dark-gray:#282828;--va-gray:#adb3b9;--va-default-gray:#8396a5;--va-dark-blue:#0e4ac4;--va-text-gray:#b4b4b4;--va-markdown-code:#d7234e;--va-prism-background:#f4f8fa;--va-separator-color:#e6e9ec;--va-border:0;--va-font-family:"Source Sans Pro",sans-serif;--va-letter-spacing:0.0375rem;--va-background-color:#fff;--va-swing-transition:0.3s cubic-bezier(0.25,0.8,0.5,1);--va-block-border-radius:0.375rem;--va-block-border:thin solid rgba(52,56,85,0.25);--va-block-box-shadow:0 2px 3px 0 rgba(52,56,85,0.25);--va-control-box-shadow:none;--va-control-border:0;--va-transition:0.2s cubic-bezier(0.4,0,0.6,1);--va-outline-border-width:0.125rem;--va-outline-box-shadow:none;--va-square-border-radius:0.25rem;--va-form-padding:1.25rem;--va-form-border-radius:0.125rem;--va-text-selected:#b3d4fc;--va-text-highlighted:#fff3d1;--va-link-color:var(--va-primary);--va-link-color-secondary:var(--va-secondary);--va-link-color-hover:var(--va-primary);--va-link-color-active:var(--va-primary);--va-link-color-visited:var(--va-primary);--va-muted:#7f828b;--va-li-background:var(--va-theme-blue-dark);--va-text-block:var(--va-light-gray3);--va-stripe-border-size:0.25rem;--va-box-shadow:0 0.25rem 0.5rem 0 rgba(59,63,73,0.15)}.va-message-list__message{font-size:.8rem;vertical-align:middle}'),M.ssrRender=function ssrRender$1(e,r,a,t,s,i,n,v){e.messages.length?(r(`<div${h(o({class:"va-message-list",style:e.computedStyle},t))}>\x3c!--[--\x3e`),g(e.messages,((e,a)=>{r(`<div class="va-message-list__message">${f(e)}</div>`)})),r("\x3c!--]--\x3e</div>")):r("\x3c!----\x3e")},M.__file="src/components/va-input/VaMessageList/VaMessageList.vue";var V=m(M);class Props{constructor(){this.disabled=u({type:Boolean,default:!1}),this.error=u({type:Boolean,default:!1}),this.success=u({type:Boolean,default:!1}),this.messages=u({type:Array,default:()=>[]}),this.errorMessages=u({type:Array,default:()=>[]}),this.errorCount=u({type:Number,default:1})}}let C=class VaInputWrapper extends(n.with(Props)){get messagesComputed(){return this.error?this.errorMessages:this.messages}get messagesColor(){return this.error?"danger":this.success?"success":void 0}get errorLimit(){return this.error?this.errorCount:99}};C=e([d({name:"VaInputWrapper",components:{VaMessageList:V}})],C);var P=C;w(':root{--va-gray-light:#acb5be;--va-light-gray:#eee;--va-light-gray2:#eff4f5;--va-light-gray3:#f5f8f9;--va-lighter-gray:#ddd;--va-charcoal:#555;--va-darkest-gray:#333;--va-almost-black:#161616;--va-hover-black:#222;--va-vue-green:#4ae387;--va-vue-light-green:#dbf9e8;--va-light-green:#c8f9c5;--va-lighter-green:#d6ffd3;--va-light-blue:#dcf1ff;--va-light-yellow:#fff1c8;--va-light-pink:#ffcece;--va-vue-darkest-blue:#34495e;--va-vue-turquoise:#dbf9e7;--va-white:#fff;--va-theme-danger:#e34b4a;--va-theme-warning:#ffc200;--va-theme-red:#e34a4a;--va-theme-orange:#f7cc36;--va-theme-blue:#4ab2e3;--va-theme-blue-dark:#2c82e0;--va-theme-violet:#db76df;--va-theme-pale:#d9d9d9;--va-primary:var(--va-vue-green);--va-danger:var(--va-theme-red);--va-warning:var(--va-theme-orange);--va-info:var(--va-theme-blue);--va-success:var(--va-vue-green);--va-secondary:#babfc2;--va-dark-gray:#282828;--va-gray:#adb3b9;--va-default-gray:#8396a5;--va-dark-blue:#0e4ac4;--va-text-gray:#b4b4b4;--va-markdown-code:#d7234e;--va-prism-background:#f4f8fa;--va-separator-color:#e6e9ec;--va-border:0;--va-font-family:"Source Sans Pro",sans-serif;--va-letter-spacing:0.0375rem;--va-background-color:#fff;--va-swing-transition:0.3s cubic-bezier(0.25,0.8,0.5,1);--va-block-border-radius:0.375rem;--va-block-border:thin solid rgba(52,56,85,0.25);--va-block-box-shadow:0 2px 3px 0 rgba(52,56,85,0.25);--va-control-box-shadow:none;--va-control-border:0;--va-transition:0.2s cubic-bezier(0.4,0,0.6,1);--va-outline-border-width:0.125rem;--va-outline-box-shadow:none;--va-square-border-radius:0.25rem;--va-form-padding:1.25rem;--va-form-border-radius:0.125rem;--va-text-selected:#b3d4fc;--va-text-highlighted:#fff3d1;--va-link-color:var(--va-primary);--va-link-color-secondary:var(--va-secondary);--va-link-color-hover:var(--va-primary);--va-link-color-active:var(--va-primary);--va-link-color-visited:var(--va-primary);--va-muted:#7f828b;--va-li-background:var(--va-theme-blue-dark);--va-text-block:var(--va-light-gray3);--va-stripe-border-size:0.25rem;--va-box-shadow:0 0.25rem 0.5rem 0 rgba(59,63,73,0.15)}.va-input-wrapper{align-items:center;display:flex;flex:1 1 auto;font-size:1rem;text-align:left}.va-input-wrapper__content{display:flex;flex-direction:column;width:100%}.va-input-wrapper__append-inner,.va-input-wrapper__prepend-inner{align-items:center;display:inline-flex}.va-input-wrapper__prepend-inner{margin-right:.5rem}.va-input-wrapper__append-inner{margin-left:.5rem}.va-input-wrapper__message-list-wrapper{padding:0 .5rem;width:100%}'),P.ssrRender=function ssrRender(e,r,a,t,s,n,v,l){const d=i("va-message-list");r(`<div${h(o({class:"va-input-wrapper"},t))}>`),e.$slots.prepend?(r('<div class="va-input-wrapper__prepend-inner">'),b(e.$slots,"prepend",{},null,r,a),r("</div>")):r("\x3c!----\x3e"),r('<div class="va-input-wrapper__content">'),b(e.$slots,"default",{},null,r,a),r('<div class="va-input-wrapper__message-list-wrapper">'),r(y(d,{color:e.messagesColor,value:e.messagesComputed,limit:e.errorLimit},null,a)),r("</div></div>"),e.$slots.append?(r('<div class="va-input-wrapper__append-inner">'),b(e.$slots,"append",{},null,r,a),r("</div>")):r("\x3c!----\x3e"),r("</div>")},P.__file="src/components/va-input/VaInputWrapper/VaInputWrapper.vue";var S=m(P);export{x as F,S as V,V as a};
//# sourceMappingURL=index55.js.map
