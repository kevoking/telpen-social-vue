import{cloneDeep as e,merge as o,isObject as n,upperFirst as t,camelCase as r,isArray as s}from"lodash-es";import{ref as a,computed as i,h as l}from"vue";import{u as c}from"./VaConfig.js";const f=[{name:"{icon}",class:"material-icons",resolve:({icon:e})=>({content:e})}],u=[{name:"arrow_back_ios",to:"arrow_back_ios"},{name:"arrow_forward_ios",to:"arrow_forward_ios"},{name:"first_page",to:"first_page"},{name:"last_page",to:"last_page"},{name:"chevron_right",to:"chevron_right"},{name:"chevron_left",to:"chevron_left"},{name:"expand_more",to:"expand_more"},{name:"expand_less",to:"expand_less"},{name:"arrow_drop_down",to:"arrow_drop_down"},{name:"arrow_drop_up",to:"arrow_drop_up"},{name:"calendar_today",to:"calendar_today"},{name:"delete_outline",to:"delete_outline"},{name:"clear",to:"clear"},{name:"check",to:"check"},{name:"warning",to:"warning"},{name:"highlight_off",to:"highlight_off"},{name:"close",to:"close"},{name:"done",to:"done"},{name:"cancel",to:"cancel"},{name:"loop",to:"loop"}],createIconsConfig=e=>(e.aliases=e.aliases||[],e.fonts=e.fonts||[],[...e.aliases,...u,...e.fonts,...f]),m=a({colors:{primary:"#154EC1",secondary:"#767C88",success:"#3D9209",info:"#1E9CE3",danger:"#E42222",warning:"#FFD43A",background:"#F5F9FB",divider:"#E1E9F8",gray:"#babfc2",dark:"#262824"},icons:createIconsConfig({}),components:{VaIcon:{sizesConfig:{defaultSize:24,sizes:{small:16,medium:24,large:32}}},VaRating:{sizesConfig:{defaultSize:24,sizes:{small:16,medium:24,large:32}}}}});function setGlobalConfig(o){const n="function"==typeof o?o(m.value):o;m.value=e(n)}function mergeGlobalConfig(n){const t="function"==typeof n?n(m.value):n;m.value=o(e(m.value),t)}function getGlobalConfig(){return m.value}function useGlobalConfig(){return{setGlobalConfig:setGlobalConfig,getGlobalConfig:getGlobalConfig,mergeGlobalConfig:mergeGlobalConfig,globalConfig:m}}const sleep=(e=0)=>new Promise((o=>setTimeout(o,e))),normalizeValue=(e,o=0,n=100)=>e<=o?o:e>=n?n:e,warn=(...e)=>(console.warn(...e),!1),hasOwnProperty=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),getNestedValue=(e,o)=>{if(0===o.length)return e;const t=e[o[0]];return n(t)?getNestedValue(t,o.slice(1)):1===o.length?t:void 0},getProp=(e,o)=>{if("string"!=typeof e)return o&&e?"string"==typeof o?((e,o)=>o in e?e[o]:(o=o.replace(/^\./,""),getNestedValue(e,o.split("."))))(e,o):"function"==typeof o?o(e):e:e},getRandomString=(e=4)=>Math.random().toString(36).substring(2,e+2),generateUniqueId=()=>`${getRandomString(8)}-${getRandomString(4)}-${getRandomString(4)}`,createConfigValueGetter=(e,o,n="")=>(t,r)=>{const s=((e,o,n)=>e.reverse().find((e=>{const t=e[o];return t&&hasOwnProperty(t,n)})))(e?[e,...o]:o,n,t);return s?s[n][t]:"function"==typeof r?r():r};function normalizeProps(e){switch(!0){case s(e):return e.reduce(((e,o)=>({...e,[o]:null})),{});case n(e):return e;default:return{}}}function mergeProps(e,o,n="props"){const{mixins:t,extends:r}=o;r&&mergeProps(e,r,n),t&&t.forEach((o=>mergeProps(e,o,n)));const s=normalizeProps(o[n]);for(const o in s)e[o]=s[o]}function resolveProps(e,o="props"){var n,t;const r=null!==(n=e.mixins)&&void 0!==n?n:[],s={};mergeProps(s,null!==(t=e.extends)&&void 0!==t?t:[],o);for(let e=0;e<r.length;e++)mergeProps(s,r[e],o);return Object.assign(s,normalizeProps(e[o])),s}const formatEmitString=e=>{const[o,n]=e.split(":");return n?[t(o),r(n)].join(":"):t(r(o))},withConfigTransport=e=>{const o=function getComponentOptions(e){switch(!0){case Boolean(e.options):return e.options;case Boolean(e.__vccOpts)||Boolean(e.__b):return{...e.__b,...e.__vccOpts};default:return e}}(e),n=resolveProps(o),s=Object.keys(resolveProps(o,"emits")),a={...n},f={...o.methods},u=Object.keys(a),m=t(r(e.name));return{name:`WithConfigTransport${m||"Component"}`,props:u,emits:s,methods:Object.keys(f).reduce(((e,o)=>({...e,[o]:function(...e){return this.$refs.innerRef[o](...e)}})),{}),setup(e,o){const n=c(),{getGlobalConfig:t}=useGlobalConfig();return{computedProps:i((()=>{const o=t().components,r=createConfigValueGetter(o||{},n.value,m),getValue=(o,n)=>o in e&&void 0!==e[o]?e[o]:r(o,n);return Object.entries(a).reduce(((e,[o,n])=>({...e,[o]:getValue(o,n.default)})),{})})),proxiedEmits:s.reduce(((e,n)=>({...e,[`on${formatEmitString(n)}`]:(...e)=>o.emit(n,...e)})),{})}},render(){return l(e,{...this.computedProps,...this.proxiedEmits,ref:"innerRef"},{...this.$slots})}}};export{f as V,u as a,getProp as b,createIconsConfig as c,warn as d,generateUniqueId as e,sleep as f,getGlobalConfig as g,hasOwnProperty as h,mergeGlobalConfig as m,normalizeValue as n,setGlobalConfig as s,useGlobalConfig as u,withConfigTransport as w};
//# sourceMappingURL=withConfigTransport.js.map
