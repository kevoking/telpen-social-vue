import{b as e,e as t,w as l}from"./withConfigTransport.js";import{__decorate as a}from"tslib";import{V as o,m as s,p as i,O as r}from"./vue-class-component.esm-bundler.js";import{F as p,V as n}from"./index55.js";import{S as d}from"./StatefulMixin.js";import u from"./index38.js";import c from"./index14.js";import m from"./index44.js";import{resolveComponent as b,mergeProps as f,withCtx as V,createVNode as h,openBlock as y,createBlock as g,Fragment as x,renderList as $,renderSlot as v}from"vue";import{ssrRenderComponent as j,ssrRenderAttr as L,ssrRenderList as S,ssrRenderSlot as B}from"@vue/server-renderer";import{s as k}from"./style-inject.es.js";import"lodash-es";import"./VaConfig.js";import"./consts.js";import"./ColorMixin.js";import"./color-config.js";import"colortranslator";import"./SelectableMixin.js";import"./LoadingMixin.js";import"./index27.js";import"./VaIcon.js";import"./SizeMixin.js";import"./useKeyboardOnlyFocus.js";import"./index37.js";const T=o.with(class SelectableListProps{constructor(){this.options=i({type:Array,default:()=>[]}),this.textBy=i({type:[String,Function],default:"text"}),this.valueBy=i({type:[String,Function]}),this.trackBy=i({type:[String,Function],default:"value"}),this.disabledBy=i({type:[String,Function],default:"disabled"})}});class SelectableListMixin extends(s(p,T)){created(){this.isSelectableListComponent=!0}getValue(t){return this.valueBy?"string"==typeof t?t:e(t,this.valueBy):t}getOptionByValue(e){return this.valueBy&&this.options.find((t=>e===this.getValue(t)))||e}getText(t){return"string"==typeof t?t:e(t,this.textBy)}getDisabled(t){return"string"!=typeof t&&e(t,this.disabledBy)}getTrackBy(t){return"string"==typeof t?t:e(t,this.trackBy)}}const D=o.with(class OptionListProps{constructor(){this.type=i({type:String,default:"checkbox",validator:e=>["radio","checkbox","switch"].includes(e)}),this.disabled=i({type:Boolean,default:!1}),this.readonly=i({type:Boolean,default:!1}),this.defaultValue=i({type:[String,Number,Object,Array]}),this.name=i({type:String,default:t}),this.color=i({type:String,default:"primary"}),this.leftLabel=i({type:Boolean,default:!1}),this.modelValue=i({type:[String,Number,Object,Array]})}});let C=class VaOptionList extends(s(SelectableListMixin,d,D)){get isRadio(){return"radio"===this.$props.type}get selectedValue(){const e=this.isRadio?null:[];return this.valueComputed||this.$props.defaultValue||e}set selectedValue(e){this.$props.readonly||(this.isRadio?this.valueComputed=this.getValue(e):this.valueComputed=Array.isArray(e)?e.map((e=>this.getValue(e))):[this.getValue(e)])}getKey(e){return this.getTrackBy(e)}isDisabled(e){return this.$props.disabled||this.getDisabled(e)}reset(){this.valueComputed=void 0}focus(){const e=this.$refs.input,t=Array.isArray(e)&&e.find((e=>!e.disabled));t&&"function"==typeof t.focus&&t.focus()}mounted(){this.isSelectableListComponent=!0,!this.valueComputed&&this.$props.defaultValue&&(this.selectedValue=this.$props.defaultValue)}};C=a([r({name:"VaOptionList",components:{VaRadio:u,VaCheckbox:c,VaSwitch:m,VaInputWrapper:n}})],C);var O=C;k(":root{--va-option-list-line-height:1.5}.va-option-list__list{line-height:var(--va-option-list-line-height)}"),O.ssrRender=function ssrRender(e,t,l,a,o,s,i,r){const p=b("va-input-wrapper"),n=b("va-radio"),d=b("va-checkbox"),u=b("va-switch");t(j(p,f({error:e.computedError,"error-messages":e.computedErrorMessages,"error-count":e.$props.errorCount},a),{default:V(((t,l,a,o)=>{if(!l)return[h("ul",{class:"va-option-list__list",id:e.$props.id},[(y(!0),g(x,null,$(e.$props.options,((t,l)=>(y(),g("li",{key:e.getKey(t)},[v(e.$slots,"default",{props:{option:t,isDisabled:e.isDisabled,name:e.$props.name,color:e.$props.color,leftLabel:e.$props.leftLabel,getText:e.getText,selectedValue:e.selectedValue,index:l}},(()=>["radio"===e.$props.type?(y(),g(n,{key:0,ref:"input",option:e.getValue(t),disabled:e.isDisabled(t),name:e.$props.name,color:e.$props.color,"left-label":e.$props.leftLabel,label:e.getText(t),modelValue:e.selectedValue,"onUpdate:modelValue":t=>e.selectedValue=t,tabindex:l},null,8,["option","disabled","name","color","left-label","label","modelValue","onUpdate:modelValue","tabindex"])):"checkbox"===e.$props.type?(y(),g(d,{key:1,ref:"input",modelValue:e.selectedValue,"onUpdate:modelValue":t=>e.selectedValue=t,label:e.getText(t),disabled:e.isDisabled(t),"left-label":e.$props.leftLabel,"array-value":e.getValue(t),color:e.$props.color,name:e.$props.name},null,8,["modelValue","onUpdate:modelValue","label","disabled","left-label","array-value","color","name"])):(y(),g(u,{key:2,ref:"input",modelValue:e.selectedValue,"onUpdate:modelValue":t=>e.selectedValue=t,label:e.getText(t),disabled:e.isDisabled(t),"left-label":e.$props.leftLabel,"array-value":e.getValue(t),color:e.$props.color,name:e.$props.name},null,8,["modelValue","onUpdate:modelValue","label","disabled","left-label","array-value","color","name"]))]))])))),128))],8,["id"])];l(`<ul class="va-option-list__list"${L("id",e.$props.id)}${o}>\x3c!--[--\x3e`),S(e.$props.options,((t,s)=>{l(`<li${o}>`),B(e.$slots,"default",{props:{option:t,isDisabled:e.isDisabled,name:e.$props.name,color:e.$props.color,leftLabel:e.$props.leftLabel,getText:e.getText,selectedValue:e.selectedValue,index:s}},(()=>{"radio"===e.$props.type?l(j(n,{ref:"input",option:e.getValue(t),disabled:e.isDisabled(t),name:e.$props.name,color:e.$props.color,"left-label":e.$props.leftLabel,label:e.getText(t),modelValue:e.selectedValue,"onUpdate:modelValue":t=>e.selectedValue=t,tabindex:s},null,a,o)):"checkbox"===e.$props.type?l(j(d,{ref:"input",modelValue:e.selectedValue,"onUpdate:modelValue":t=>e.selectedValue=t,label:e.getText(t),disabled:e.isDisabled(t),"left-label":e.$props.leftLabel,"array-value":e.getValue(t),color:e.$props.color,name:e.$props.name},null,a,o)):l(j(u,{ref:"input",modelValue:e.selectedValue,"onUpdate:modelValue":t=>e.selectedValue=t,label:e.getText(t),disabled:e.isDisabled(t),"left-label":e.$props.leftLabel,"array-value":e.getValue(t),color:e.$props.color,name:e.$props.name},null,a,o))}),l,a,o),l("</li>")})),l("\x3c!--]--\x3e</ul>")})),_:3},l))},O.__file="src/components/va-option-list/VaOptionList.vue";var U=l(O);export{U as default};
//# sourceMappingURL=index49.js.map
