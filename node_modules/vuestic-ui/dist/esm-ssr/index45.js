import{w as t}from"./withConfigTransport.js";import{__decorate as a,__metadata as e}from"tslib";import{ref as i,provide as s,watch as r,resolveComponent as n,mergeProps as o,inject as v,createVNode as l,resolveDynamicComponent as c,withCtx as b,toHandlers as d,withKeys as h,renderSlot as f,openBlock as p,createBlock as u,createCommentVNode as g,toDisplayString as m}from"vue";import{V as x,m as y,s as w,O as _,p as S}from"./vue-class-component.esm-bundler.js";import{R as k}from"./decorators.js";import{C as P}from"./ColorMixin.js";import{S as $}from"./StatefulMixin.js";import C from"./index8.js";import{ssrRenderAttrs as T,ssrRenderComponent as R,ssrRenderClass as O,ssrRenderStyle as z,ssrRenderSlot as W,ssrRenderVNode as j,ssrRenderAttr as F,ssrInterpolate as X}from"@vue/server-renderer";import{s as V}from"./style-inject.es.js";import{u as I}from"./useKeyboardOnlyFocus.js";import{R as A}from"./RouterLinkMixin.js";import L from"./index27.js";import"lodash-es";import"./VaConfig.js";import"./color-config.js";import"colortranslator";import"./SizeMixin.js";import"./LoadingMixin.js";import"./index37.js";import"./VaIcon.js";class TabsService{constructor(t){this.parent=t,this.tabs=[],this.disabled=!1,this.disabled=t.disabled}register(t){const a=this.tabs.push(t);t.id=t.$props.name||a}unregister(t){this.tabs=this.tabs.filter((a=>a.id!==t.id)),this.tabs.forEach(((t,a)=>{t.id=t.$props.name||a}))}tabClick(t){console.log(1),this.parent.selectTab(t)}tabFocus(t){console.log(2),this.parent.moveToTab(t)}tabPressEnter(t){this.parent.selectTab(t)}}const K=x.with(class TabsProps{constructor(){this.modelValue=S({type:[String,Number],default:null}),this.left=S({type:Boolean,default:!0}),this.right=S({type:Boolean,default:!1}),this.center=S({type:Boolean,default:!1}),this.grow=S({type:Boolean,default:!1}),this.disabled=S({type:Boolean,default:!1}),this.hideSlider=S({type:Boolean,default:!1}),this.vertical=S({type:Boolean,default:!1}),this.color=S({type:String,default:"primary"}),this.prevIcon=S({type:String,default:"chevron_left"}),this.nextIcon=S({type:String,default:"chevron_right"})}}),M=Symbol("TabsService");let B=class VaTabs extends(y(P,$,K)){constructor(){super(...arguments),this.sliderHeight=null,this.sliderWidth=null,this.sliderOffsetX=0,this.sliderOffsetY=0,this.showPagination=!1,this.tabsContentOffset=0,this.resizeObserver=null,this.startingXPoint=0,this.animationIncluded=!1,this.context=w((()=>{const t=i(null);return s(M,t),{tabsService:t}}))}created(){this.context.tabsService=new TabsService(this),r((()=>this.$props.modelValue),(()=>{this.updateTabsState()}))}get computedClass(){const{left:t,right:a,center:e,grow:i,disabled:s}=this.$props;return{"va-tabs__container--left":t&&!a&&!e&&!i,"va-tabs__container--right":a,"va-tabs__container--center":e,"va-tabs__container--grow":i,"va-tabs__container--disabled":s}}get computedTabsClass(){return{"va-tabs--vertical":this.$props.vertical}}get tabSelected(){return this.valueComputed}get sliderStyles(){if(this.$props.hideSlider)return{};const t=this.animationIncluded?"var(--va-tabs-slider-wrapper-transition)":"";return this.$props.vertical?{"background-color":this.colorComputed,height:`${this.sliderHeight}px`,transform:`translateY(-${this.sliderOffsetY}px) translateX(${this.sliderOffsetX}px)`,transition:t}:{"background-color":this.colorComputed,width:`${this.sliderWidth}px`,transform:`translateY(-${this.sliderOffsetY}px) translateX(${this.sliderOffsetX}px)`,transition:t}}get paginationControlledStyles(){if(this.$props.vertical)return{transform:"translateX(0px)"};const t=this.animationIncluded?"transform ease 0.3s":"";return{transform:`translateX(${this.startingXPoint-this.tabsContentOffset}px)`,transition:t}}get disablePaginationLeft(){return 0===this.tabsContentOffset}get disablePaginationRight(){var t;const a=null===(t=this.context.tabsService)||void 0===t?void 0:t.tabs[this.context.tabsService.tabs.length-1];return((null==a?void 0:a.rightSidePosition)||0)<=this.tabsContentOffset+this.containerRef.clientWidth||((null==a?void 0:a.leftSidePosition)||0)<=this.tabsContentOffset}selectTab(t){t&&(this.valueComputed=t.$props.name||t.id,this.stateful&&this.updateTabsState())}updateTabsState(){var t;this.resetSliderSizes(),null===(t=this.context.tabsService)||void 0===t||t.tabs.forEach((t=>{if(t.updateSidePositions(),this.tabSelected){const a=(t.$props.name||t.id)===this.tabSelected;t.isActive=t.isActiveRouterLink||a,t.isActive&&(this.moveToTab(t),this.updateSlider(t))}})),this.tabsContentOffset+this.containerRef.clientWidth>this.tabsRef.clientWidth&&this.context.tabsService&&this.moveToTab(this.context.tabsService.tabs[0]),this.updateStartingXPoint()}updatePagination(){this.showPagination=!1,this.tabsRef&&this.wrapperRef&&this.tabsRef.clientWidth>this.wrapperRef.clientWidth&&(this.showPagination=!0)}movePaginationLeft(){let t=this.tabsContentOffset-this.containerRef.clientWidth;if(this.context.tabsService)for(let a=0;a<this.context.tabsService.tabs.length-1;a++)if(this.context.tabsService.tabs[a].leftSidePosition>t&&this.context.tabsService.tabs[a].leftSidePosition<this.tabsContentOffset||this.context.tabsService.tabs[a+1].leftSidePosition>=this.tabsContentOffset){t=this.context.tabsService.tabs[a].leftSidePosition;break}this.tabsContentOffset=Math.max(0,t)}movePaginationRight(){var t;const a=this.tabsContentOffset+this.containerRef.clientWidth;let e=a;if(this.context.tabsService)for(let t=0;t<this.context.tabsService.tabs.length&&!(this.context.tabsService.tabs[t].rightSidePosition>a&&(e=this.context.tabsService.tabs[t].leftSidePosition,this.tabsContentOffset<e));t++);const i=null===(t=this.context.tabsService)||void 0===t?void 0:t.tabs[this.context.tabsService.tabs.length-1],s=((null==i?void 0:i.rightSidePosition)||0)-this.containerRef.clientWidth;e=Math.min(s,e),this.tabsContentOffset=Math.max(0,e)}moveToTab(t){this.showPagination&&t.leftSidePosition+this.containerRef.clientWidth<=this.tabsRef.clientWidth?this.tabsContentOffset=t.leftSidePosition:this.showPagination&&t.rightSidePosition>=this.containerRef.clientWidth?this.tabsContentOffset=t.rightSidePosition-this.containerRef.clientWidth:this.tabsContentOffset=0}updateSlider(t){this.$props.vertical?(this.sliderOffsetY=this.containerRef.clientHeight-t.$el.offsetTop-t.$el.clientHeight,this.sliderHeight=t.$el.clientHeight,this.sliderOffsetX=0,this.sliderWidth=null):(this.sliderOffsetX=t.$el.offsetLeft,this.sliderWidth=t.$el.clientWidth,this.sliderOffsetY=0,this.sliderHeight=null)}resetSliderSizes(){this.sliderWidth=0,this.sliderHeight=0}updateStartingXPoint(){var t,a,e,i;this.startingXPoint=0,this.showPagination&&(this.$props.right?this.startingXPoint=(null===(t=this.tabsRef)||void 0===t?void 0:t.clientWidth)-(null===(a=this.containerRef)||void 0===a?void 0:a.clientWidth):this.$props.center&&(this.startingXPoint=Math.floor(((null===(e=this.tabsRef)||void 0===e?void 0:e.clientWidth)-(null===(i=this.containerRef)||void 0===i?void 0:i.clientWidth))/2)))}includeAnimation(){this.animationIncluded||requestAnimationFrame((()=>{this.animationIncluded=!0}))}redrawTabs(){const t=this.showPagination;this.updatePagination(),t===this.showPagination?(this.updateTabsState(),this.includeAnimation()):requestAnimationFrame((()=>{this.updateTabsState(),this.includeAnimation()}))}mounted(){this.redrawTabs(),requestAnimationFrame((()=>{this.resizeObserver=new ResizeObserver(this.redrawTabs),this.resizeObserver.observe(this.wrapperRef),this.resizeObserver.observe(this.tabsRef)}))}beforeUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}};a([k("wrapper"),e("design:type",Element)],B.prototype,"wrapperRef",void 0),a([k("container"),e("design:type",Element)],B.prototype,"containerRef",void 0),a([k("tabs"),e("design:type",Element)],B.prototype,"tabsRef",void 0),B=a([_({name:"VaTabs",components:{VaButton:C}})],B);var H=B;V(':root{--va-gray-light:#acb5be;--va-light-gray:#eee;--va-light-gray2:#eff4f5;--va-light-gray3:#f5f8f9;--va-lighter-gray:#ddd;--va-charcoal:#555;--va-darkest-gray:#333;--va-almost-black:#161616;--va-hover-black:#222;--va-vue-green:#4ae387;--va-vue-light-green:#dbf9e8;--va-light-green:#c8f9c5;--va-lighter-green:#d6ffd3;--va-light-blue:#dcf1ff;--va-light-yellow:#fff1c8;--va-light-pink:#ffcece;--va-vue-darkest-blue:#34495e;--va-vue-turquoise:#dbf9e7;--va-white:#fff;--va-theme-danger:#e34b4a;--va-theme-warning:#ffc200;--va-theme-red:#e34a4a;--va-theme-orange:#f7cc36;--va-theme-blue:#4ab2e3;--va-theme-blue-dark:#2c82e0;--va-theme-violet:#db76df;--va-theme-pale:#d9d9d9;--va-primary:var(--va-vue-green);--va-danger:var(--va-theme-red);--va-warning:var(--va-theme-orange);--va-info:var(--va-theme-blue);--va-success:var(--va-vue-green);--va-secondary:#babfc2;--va-dark-gray:#282828;--va-gray:#adb3b9;--va-default-gray:#8396a5;--va-dark-blue:#0e4ac4;--va-text-gray:#b4b4b4;--va-markdown-code:#d7234e;--va-prism-background:#f4f8fa;--va-separator-color:#e6e9ec;--va-border:0;--va-font-family:"Source Sans Pro",sans-serif;--va-letter-spacing:0.0375rem;--va-background-color:#fff;--va-swing-transition:0.3s cubic-bezier(0.25,0.8,0.5,1);--va-block-border-radius:0.375rem;--va-block-border:thin solid rgba(52,56,85,0.25);--va-block-box-shadow:0 2px 3px 0 rgba(52,56,85,0.25);--va-control-box-shadow:none;--va-control-border:0;--va-transition:0.2s cubic-bezier(0.4,0,0.6,1);--va-outline-border-width:0.125rem;--va-outline-box-shadow:none;--va-square-border-radius:0.25rem;--va-form-padding:1.25rem;--va-form-border-radius:0.125rem;--va-text-selected:#b3d4fc;--va-text-highlighted:#fff3d1;--va-link-color:var(--va-primary);--va-link-color-secondary:var(--va-secondary);--va-link-color-hover:var(--va-primary);--va-link-color-active:var(--va-primary);--va-link-color-visited:var(--va-primary);--va-muted:#7f828b;--va-li-background:var(--va-theme-blue-dark);--va-text-block:var(--va-light-gray3);--va-stripe-border-size:0.25rem;--va-box-shadow:0 0.25rem 0.5rem 0 rgba(59,63,73,0.15);--va-tabs-position:relative;--va-tabs-wrapper-display:flex;--va-tabs-container-overflow:hidden;--va-tabs-container-flex:1 1 auto;--va-tabs-container-display:flex;--va-tabs-container-height:2.5rem;--va-tabs-container-margin:0 3px;--va-tabs-container-white-space:nowrap;--va-tabs-container-position:relative;--va-tabs-slider-width:0.125rem;--va-tabs-slider-height:0.125rem;--va-tabs-slider-wrapper-bottom:0;--va-tabs-slider-wrapper-margin:0!important;--va-tabs-slider-wrapper-position:absolute;--va-tabs-slider-wrapper-z-index:4000;--va-tabs-slider-wrapper-transition:0.3s cubic-bezier(0.25,0.8,0.5,1)}.va-tabs{position:var(--va-tabs-position)}.va-tabs__wrapper{contain:content;display:flex;flex:1 1 auto;overflow:hidden}.va-tabs .va-tabs__pagination{flex:0 0 auto}.va-tabs .va-tabs__container{display:var(--va-tabs-container-display);flex:var(--va-tabs-container-flex);height:var(--va-tabs-container-height);margin:var(--va-tabs-container-margin);overflow:var(--va-tabs-container-overflow);position:var(--va-tabs-container-position);white-space:var(--va-tabs-container-white-space)}.va-tabs .va-tabs__container .va-tabs__tabs{height:100%;position:absolute}.va-tabs .va-tabs__container .va-tabs__tabs-items{display:flex}.va-tabs .va-tabs__container--right{justify-content:flex-end}.va-tabs .va-tabs__container--grow .va-tabs__tabs{display:flex;min-width:100%}.va-tabs .va-tabs__container--grow .va-tab{flex:1 0 auto;max-width:none}.va-tabs .va-tabs__container--center{justify-content:center}.va-tabs .va-tabs__container--disabled{cursor:default;opacity:.4;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.va-tabs--vertical .va-tabs__wrapper{flex:0 0 auto}.va-tabs--vertical .va-tabs__container{height:auto}.va-tabs--vertical .va-tabs__container .va-tabs__tabs-items{flex-direction:column}.va-tabs--vertical .va-tabs__container .va-tabs__tabs{position:relative}.va-tabs--vertical .va-tab{display:flex}.va-tabs--vertical .va-tab__content{flex:0 0 auto}.va-tabs--vertical .va-tabs__content{flex:1 0 auto}.va-tabs .va-tabs__slider-wrapper{bottom:var(--va-tabs-slider-wrapper-bottom);margin:var(--va-tabs-slider-wrapper-margin);position:var(--va-tabs-slider-wrapper-position);z-index:var(--va-tabs-slider-wrapper-z-index)}.va-tabs .va-tabs__slider-wrapper .va-tabs__slider{height:var(--va-tabs-slider-height);width:var(--va-tabs-slider-width)}'),H.ssrRender=function ssrRender$1(t,a,e,i,s,r,v,l){const c=n("va-button");a(`<div${T(o({class:["va-tabs",t.computedTabsClass]},i))}><div class="va-tabs__wrapper">`),t.showPagination?a(R(c,{disabled:t.disablePaginationLeft,class:"va-tabs__pagination",flat:"",size:"medium",icon:t.$props.prevIcon},null,e)):a("\x3c!----\x3e"),a(`<div class="${O([t.computedClass,"va-tabs__container"])}"><div class="va-tabs__tabs" style="${z(t.paginationControlledStyles)}"><div class="va-tabs__slider-wrapper" style="${z(t.sliderStyles)}"><div class="va-tabs__slider"></div></div>`),W(t.$slots,"tabs",{class:"va-tabs__tabs-items"},null,a,e),a("</div></div>"),t.showPagination?a(R(c,{disabled:t.disablePaginationRight,class:"va-tabs__pagination",flat:"",size:"medium",icon:t.$props.nextIcon},null,e)):a("\x3c!----\x3e"),a('</div><div class="va-tabs__content">'),W(t.$slots,"default",{},null,a,e),a("</div></div>")},H.__file="src/components/va-tabs/VaTabs.vue";const q=x.with(class TabProps{constructor(){this.icon=S({type:String,default:null}),this.label=S({type:String,default:null}),this.disabled=S({type:Boolean}),this.name=S({type:[String,Number]}),this.tag=S({type:String,default:"div"})}});let E=class VaTab extends(y(A,q)){constructor(){super(...arguments),this.id=null,this.isActive=!1,this.rightSidePosition=0,this.leftSidePosition=0,this.context=w((()=>{const t=v(M),{hasKeyboardFocus:a,keyboardFocusListeners:e}=I();return{tabsService:t,hasKeyboardFocus:a,keyboardFocusListeners:e}}))}get classComputed(){return{"va-tab--active":this.isActive,"va-tab--disabled":this.$props.disabled,"va-tab--on-keyboard-focus":this.context.hasKeyboardFocus}}get tabIndexComputed(){return this.$props.disabled||this.context.tabsService.disabled?-1:0}onTabClick(){this.context.tabsService.tabClick(this),this.$emit("click")}onTabKeydown(){this.context.tabsService.tabPressEnter(this),this.$emit("keydown-enter")}onFocus(){console.log(this.context.hasKeyboardFocus),this.context.hasKeyboardFocus&&this.context.tabsService.tabFocus(this),this.$emit("focus")}updateSidePositions(){this.rightSidePosition=this.$el.offsetLeft+this.$el.offsetWidth,this.leftSidePosition=this.$el.offsetLeft}beforeMount(){this.context.tabsService.register(this)}beforeUnmount(){this.context.tabsService.unregister(this)}};E=a([_({name:"VaTab",components:{VaIcon:L},emits:["click","keydown-enter","focus"]})],E);var Y=E;V(':root{--va-gray-light:#acb5be;--va-light-gray:#eee;--va-light-gray2:#eff4f5;--va-light-gray3:#f5f8f9;--va-lighter-gray:#ddd;--va-charcoal:#555;--va-darkest-gray:#333;--va-almost-black:#161616;--va-hover-black:#222;--va-vue-green:#4ae387;--va-vue-light-green:#dbf9e8;--va-light-green:#c8f9c5;--va-lighter-green:#d6ffd3;--va-light-blue:#dcf1ff;--va-light-yellow:#fff1c8;--va-light-pink:#ffcece;--va-vue-darkest-blue:#34495e;--va-vue-turquoise:#dbf9e7;--va-white:#fff;--va-theme-danger:#e34b4a;--va-theme-warning:#ffc200;--va-theme-red:#e34a4a;--va-theme-orange:#f7cc36;--va-theme-blue:#4ab2e3;--va-theme-blue-dark:#2c82e0;--va-theme-violet:#db76df;--va-theme-pale:#d9d9d9;--va-primary:var(--va-vue-green);--va-danger:var(--va-theme-red);--va-warning:var(--va-theme-orange);--va-info:var(--va-theme-blue);--va-success:var(--va-vue-green);--va-secondary:#babfc2;--va-dark-gray:#282828;--va-gray:#adb3b9;--va-default-gray:#8396a5;--va-dark-blue:#0e4ac4;--va-text-gray:#b4b4b4;--va-markdown-code:#d7234e;--va-prism-background:#f4f8fa;--va-separator-color:#e6e9ec;--va-border:0;--va-font-family:"Source Sans Pro",sans-serif;--va-letter-spacing:0.0375rem;--va-background-color:#fff;--va-swing-transition:0.3s cubic-bezier(0.25,0.8,0.5,1);--va-block-border-radius:0.375rem;--va-block-border:thin solid rgba(52,56,85,0.25);--va-block-box-shadow:0 2px 3px 0 rgba(52,56,85,0.25);--va-control-box-shadow:none;--va-control-border:0;--va-transition:0.2s cubic-bezier(0.4,0,0.6,1);--va-outline-border-width:0.125rem;--va-outline-box-shadow:none;--va-square-border-radius:0.25rem;--va-form-padding:1.25rem;--va-form-border-radius:0.125rem;--va-text-selected:#b3d4fc;--va-text-highlighted:#fff3d1;--va-link-color:var(--va-primary);--va-link-color-secondary:var(--va-secondary);--va-link-color-hover:var(--va-primary);--va-link-color-active:var(--va-primary);--va-link-color-visited:var(--va-primary);--va-muted:#7f828b;--va-li-background:var(--va-theme-blue-dark);--va-text-block:var(--va-light-gray3);--va-stripe-border-size:0.25rem;--va-box-shadow:0 0.25rem 0.5rem 0 rgba(59,63,73,0.15);--va-tab-align-items:center;--va-tab-display:inline-flex;--va-tab-flex:0 1 auto;--va-tab-font-weight:700;--va-tab-line-height:normal;--va-tab-height:inherit;--va-tab-max-width:264px;--va-tab-text-align:center;--va-tab-vertical-align:middle;--va-tab-color:inherit;--va-tab-content-align-items:center;--va-tab-content-color:inherit;--va-tab-content-display:flex;--va-tab-content-flex:1 1 auto;--va-tab-content-height:100%;--va-tab-content-justify-content:center;--va-tab-content-max-width:inherit;--va-tab-content-text-decoration:none;--va-tab-content-transition:$transition-primary;--va-tab-content-user-select:none;--va-tab-content-white-space:nowrap;--va-tab-content-padding:0.4375rem 0.75rem;--va-tab-content-cursor:pointer;--va-tab-icon-margin-right:0.5rem}.va-tab{align-items:var(--va-tab-align-items);color:var(--va-tab-color);display:var(--va-tab-display);flex:var(--va-tab-flex);font-weight:var(--va-tab-font-weight);height:var(--va-tab-height);line-height:var(--va-tab-line-height);max-width:var(--va-tab-max-width);text-align:var(--va-tab-text-align);vertical-align:var(--va-tab-vertical-align)}.va-tab:not(.va-tab--active){opacity:.7}.va-tab__content{align-items:var(--va-tab-content-align-items);color:var(--va-tab-content-color);cursor:var(--va-tab-content-cursor);display:var(--va-tab-content-display);flex:var(--va-tab-content-flex);height:var(--va-tab-content-height);justify-content:var(--va-tab-content-justify-content);max-width:var(--va-tab-content-max-width);padding:var(--va-tab-content-padding);-webkit-text-decoration:var(--va-tab-content-text-decoration);text-decoration:var(--va-tab-content-text-decoration);transition:var(--va-tab-content-transition);-webkit-user-select:var(--va-tab-content-user-select);-moz-user-select:var(--va-tab-content-user-select);-ms-user-select:var(--va-tab-content-user-select);user-select:var(--va-tab-content-user-select);white-space:var(--va-tab-content-white-space)}.va-tab__icon{margin-right:var(--va-tab-icon-margin-right)}.va-tab.va-tab--disabled{cursor:default;opacity:.4;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.va-tab.va-tab--on-keyboard-focus,.va-tab:hover{opacity:1}'),Y.ssrRender=function ssrRender(t,a,e,i,s,r,v,x){const y=n("va-icon");j(a,l(c(t.tagComputed),o({class:["va-tab",t.classComputed],href:t.hrefComputed,target:t.target,to:t.to,replace:t.replace,exact:t.exact,"active-class":t.activeClass,"exact-active-class":t.exactActiveClass},i),{default:b(((a,e,i,s)=>{if(!e)return[l("div",o({class:"va-tab__content"},d(t.context.keyboardFocusListeners),{tabindex:t.tabIndexComputed,onFocus:a=>t.onFocus(),onClick:a=>t.onTabClick(),onKeydown:h((a=>t.onTabKeydown()),["enter"])}),[f(t.$slots,"default",{},(()=>[t.icon?(p(),u(y,{key:0,class:"va-tab__icon",name:t.icon,size:"small"},null,8,["name"])):g("v-if",!0),l("span",{class:"va-tab__label",textContent:m(t.label)},null,8,["textContent"])]))],16,["tabindex","onFocus","onClick","onKeydown"])];e(`<div class="va-tab__content"${F("tabindex",t.tabIndexComputed)}${s}>`),W(t.$slots,"default",{},(()=>{t.icon?e(R(y,{class:"va-tab__icon",name:t.icon,size:"small"},null,i,s)):e("\x3c!----\x3e"),e(`<span class="va-tab__label"${s}>${X(t.label)}</span>`)}),e,i,s),e("</div>")})),_:3}),e)},Y.__file="src/components/va-tabs/VaTab/VaTab.vue";var N=t(Y),U=t(H);export{N as VaTab,U as default};
//# sourceMappingURL=index45.js.map
