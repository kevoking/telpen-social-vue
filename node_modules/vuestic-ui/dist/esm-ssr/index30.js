import{w as e}from"./withConfigTransport.js";import{__decorate as t}from"tslib";import{V as r,m as n,s as i,p as o,O as s}from"./vue-class-component.esm-bundler.js";import{C as l}from"./ColorMixin.js";import{F as p,V as u}from"./index55.js";export{V as VaInputWrapper,a as VaMessageList}from"./index55.js";import c from"./index27.js";import d from"cleave.js";import{watch as v,resolveComponent as h,mergeProps as m,createSlots as b,withCtx as f,createVNode as _,openBlock as g,createBlock as y,renderSlot as k,createCommentVNode as x,toDisplayString as w,toHandlers as $,withModifiers as C}from"vue";import{S as I}from"./StatefulMixin.js";import{ssrRenderComponent as E,ssrRenderStyle as S,ssrRenderSlot as z,ssrInterpolate as B,ssrRenderAttrs as j}from"@vue/server-renderer";import{s as F}from"./style-inject.es.js";import"lodash-es";import"./VaConfig.js";import"./color-config.js";import"colortranslator";import"./consts.js";import"./VaIcon.js";import"./SizeMixin.js";const M={creditCard:{creditCard:!0},date:{date:!0,datePattern:["d","m","Y"]},time:{time:!0,timePattern:["h","m"],timeFormat:"24"},numeral:{numeral:!0,numeralThousandsGroupStyle:"thousand"}};const R=r.with(class Props$1{constructor(){this.mask=o({type:[String,Object],default:()=>({})}),this.returnRaw={type:Boolean,default:!0},this.clearable=o({type:Boolean,default:!1}),this.clearableIcon=o({type:String,default:"highlight_off"}),this.loading=o({type:Boolean,default:!1}),this.canBeFocused=o({type:Boolean,default:!0}),this.focused=o({type:Boolean,default:void 0}),this.modelValue=o({type:[String,Number],default:""})}});class InputMixin extends(n(p,I,R)){constructor(){super(...arguments),this.inputElement=null,this.eventListeners={},this.isFocused=!1,this.context=i((()=>(v((()=>this.$props.mask),(e=>{this.destroyCleaveInstance(),this.inputElement=new d(this.$refs.input,this.getMask(e)),this.inputElement.setRawValue(this.modelValue)})),{})))}get isFocusedComputed(){return void 0===this.$props.focused?this.isFocused:this.$props.focused}set isFocusedComputed(e){void 0===this.$props.focused&&(this.isFocused=e),this.$emit("update:focused",e)}get computedValue(){return this.inputElement&&this.returnRaw&&this.modelValue===this.inputElement.getRawValue()?this.inputElement.getFormattedValue():this.modelValue}get showIcon(){return this.success||this.computedError||this.canBeCleared||this.loading}get canBeCleared(){return this.hasContent&&this.clearable}get hasContent(){return![null,void 0,""].includes(this.modelValue)}onInput(e){("string"==typeof this.mask||Object.keys(this.mask).length)&&this.inputElement&&(this.inputElement.setRawValue(e.target.value),this.returnRaw)?this.$emit("update:modelValue",this.inputElement.getRawValue()):this.$emit("update:modelValue",e.target.value)}onChange(e){("string"==typeof this.mask||Object.keys(this.mask).length)&&this.inputElement&&(this.inputElement.setRawValue(e.target.value),this.returnRaw)?this.$emit("change",this.inputElement.getRawValue()):this.$emit("change",e.target.value)}onClick(e){this.$emit("click",e)}onPrependClick(e){this.$emit("click-prepend",e)}onPrependInnerClick(e){this.$emit("click-prepend-inner",e)}onAppendClick(e){this.$emit("click-append",e)}onAppendInnerClick(e){this.$emit("click-append-inner",e)}onFocus(e){this.canBeFocused&&(this.isFocusedComputed=!0),this.$emit("focus",e)}onBlur(e){this.isFocusedComputed=!1,this.ValidateMixin_onBlur(),this.$emit("blur",e)}onKeyup(e){this.$emit("keyup",e)}onKeydown(e){this.$emit("keydown",e)}getMask(e){return"string"==typeof e?M[e]?{...M[e]}:{}:{...e}}destroyCleaveInstance(){this.inputElement&&this.inputElement.destroy()}initInput(){this.$refs.input&&(this.inputElement=new d(this.$refs.input,this.getMask(this.mask))),this.setEventListeners()}setEventListeners(){this.eventListeners={input:this.onInput,change:this.onChange,click:this.onClick,focus:this.onFocus,blur:this.onBlur,keyup:this.onKeyup,keydown:this.onKeydown}}mounted(){this.initInput()}beforeUnmount(){this.destroyCleaveInstance()}}const P=r.with(class Props{constructor(){this.type=o({type:String,default:"text"}),this.label=o({type:String,default:""})}});class TextareaMixin extends(n(I,P)){constructor(){super(...arguments),this.context=i((()=>({})))}get isTextarea(){return"textarea"===this.type}adjustHeight(){}}const T=r.with(class InputProps{constructor(){this.color=o({type:String,default:"primary"}),this.placeholder=o({type:String,default:""}),this.clearable=o({type:Boolean,default:!1}),this.tabindex=o({type:Number,default:0}),this.outline=o({type:Boolean,default:!1}),this.bordered=o({type:Boolean,default:!1})}});let A=class VaInput extends(n(l,InputMixin,TextareaMixin,T)){get labelStyle(){return{color:this.colorComputed}}stateClasses(e){const t=[e];return this.isTextarea&&t.push(`${e}_textarea`),this.isFocusedComputed&&t.push(`${e}_focused`),this.label&&t.push(`${e}_labeled`),this.$props.outline?t.push(`${e}_outline`):this.$props.bordered?t.push(`${e}_bordered`):t.push(`${e}_solid`),this.$props.success&&t.push(`${e}_success`),(this.$props.error||this.computedError)&&t.push(`${e}_error`),this.$props.disabled&&t.push(`${e}_disabled`),t}get wrapperClass(){return this.stateClasses("va-input")}get computedBorderColorStyle(){return this.isFocusedComputed?{"border-color":this.colorComputed}:{}}get clearIconColor(){return this.isFocusedComputed?this.colorComputed:this.computedError?"danger":this.success?"success":"grey"}get computedInputAttributes(){return{...this.$attrs,id:this.id,name:this.name,type:this.type,placeholder:this.placeholder,disabled:this.disabled,readonly:this.readonly,tabindex:this.tabindex,style:this.$attrs.inputStyle,class:this.$attrs.inputClass,value:this.computedValue,"aria-label":this.label}}focus(){if(this.$refs.input)this.$refs.input.focus({preventScroll:!0});else if(this.$refs.textarea)this.$refs.textarea.focus();else if(!this.$slots.content)throw new Error("There is no DOM element to focus")}blur(){if(this.$refs.input)this.$refs.input.blur();else if(this.$refs.textarea)this.$refs.textarea.blur();else if(!this.$slots.content)throw new Error("There is no DOM element to blur")}reset(){this.$emit("update:modelValue",""),this.$emit("cleared")}};A=t([s({name:"VaInput",components:{VaInputWrapper:u,VaIcon:c},emits:["update:modelValue","update:focused","change","click-prepend","click-prepend-inner","click-append","click-append-inner","focus","blur","keyup","keydown","click","cleared"]})],A);var L=A;F(':root{--va-gray-light:#acb5be;--va-light-gray:#eee;--va-light-gray2:#eff4f5;--va-light-gray3:#f5f8f9;--va-lighter-gray:#ddd;--va-charcoal:#555;--va-darkest-gray:#333;--va-almost-black:#161616;--va-hover-black:#222;--va-vue-green:#4ae387;--va-vue-light-green:#dbf9e8;--va-light-green:#c8f9c5;--va-lighter-green:#d6ffd3;--va-light-blue:#dcf1ff;--va-light-yellow:#fff1c8;--va-light-pink:#ffcece;--va-vue-darkest-blue:#34495e;--va-vue-turquoise:#dbf9e7;--va-white:#fff;--va-theme-danger:#e34b4a;--va-theme-warning:#ffc200;--va-theme-red:#e34a4a;--va-theme-orange:#f7cc36;--va-theme-blue:#4ab2e3;--va-theme-blue-dark:#2c82e0;--va-theme-violet:#db76df;--va-theme-pale:#d9d9d9;--va-primary:var(--va-vue-green);--va-danger:var(--va-theme-red);--va-warning:var(--va-theme-orange);--va-info:var(--va-theme-blue);--va-success:var(--va-vue-green);--va-secondary:#babfc2;--va-dark-gray:#282828;--va-gray:#adb3b9;--va-default-gray:#8396a5;--va-dark-blue:#0e4ac4;--va-text-gray:#b4b4b4;--va-markdown-code:#d7234e;--va-prism-background:#f4f8fa;--va-separator-color:#e6e9ec;--va-border:0;--va-font-family:"Source Sans Pro",sans-serif;--va-letter-spacing:0.0375rem;--va-background-color:#fff;--va-swing-transition:0.3s cubic-bezier(0.25,0.8,0.5,1);--va-block-border-radius:0.375rem;--va-block-border:thin solid rgba(52,56,85,0.25);--va-block-box-shadow:0 2px 3px 0 rgba(52,56,85,0.25);--va-control-box-shadow:none;--va-control-border:0;--va-transition:0.2s cubic-bezier(0.4,0,0.6,1);--va-outline-border-width:0.125rem;--va-outline-box-shadow:none;--va-square-border-radius:0.25rem;--va-form-padding:1.25rem;--va-form-border-radius:0.125rem;--va-text-selected:#b3d4fc;--va-text-highlighted:#fff3d1;--va-link-color:var(--va-primary);--va-link-color-secondary:var(--va-secondary);--va-link-color-hover:var(--va-primary);--va-link-color-active:var(--va-primary);--va-link-color-visited:var(--va-primary);--va-muted:#7f828b;--va-li-background:var(--va-theme-blue-dark);--va-text-block:var(--va-light-gray3);--va-stripe-border-size:0.25rem;--va-box-shadow:0 0.25rem 0.5rem 0 rgba(59,63,73,0.15);--va-input-color:var(--va-background,#f5f9fb);--va-input-text-color:var(--va-dark,#262824);--va-input-scroll-color:var(--va-divided,#e1e9f8);--va-input-bordered-color:var(--va-divided,#e1e9f8);--va-input-border-width:1px;--va-input-border-radius:4px;--va-input-min-height:36px;--va-input-cursor:text;--va-input-success-color:var(--va-success);--va-input-success-background:#f1f7ee;--va-input-error-color:var(--va-danger);--va-input-error-background:#fdefef;--va-input-content-horizontal-padding:12px;--va-input-content-items-gap:6px;--va-input-line-height:20px;--va-input-font-size:1rem;--va-input-font-family:"Source Sans Pro",sans-serif;--va-input-font-weight:normal;--va-input-font-style:normal;--va-input-font-stretch:normal;--va-input-letter-spacing:normal;--va-input-placeholder-text-color:#bac2bb;--va-input-disabled-opacity:0.4;--va-input-container-label-max-width:calc(100% - 0.75rem);--va-input-container-label-color:#4ae387;--va-input-container-label-font-size:0.6rem;--va-input-container-label-letter-spacing:0.0375rem;--va-input-container-label-line-height:1.2;--va-input-container-label-font-weight:700;--va-input-container-label-text-transform:uppercase;--va-input-container-label-transform-origin:top left}.va-input{align-items:center;color:var(--va-input-text-color);cursor:var(--va-input-cursor);display:flex;position:relative}.va-input_disabled{cursor:default;opacity:.4;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.va-input__container{align-items:center;border:var(--va-input-border-width) solid var(--va-input-color);display:flex;min-height:var(--va-input-min-height);overflow:hidden;padding:0 var(--va-input-content-horizontal-padding);position:relative;width:100%}.va-input__container>*{line-height:0;padding-right:var(--va-input-content-items-gap)}.va-input__container>:last-child{padding-right:0}.va-input__content-wrapper{align-items:center;display:flex;width:100%}.va-input__content-wrapper .va-input__content{position:relative;width:100%}.va-input__content-wrapper .va-input__content input{cursor:inherit}.va-input__content-wrapper .va-input__content__input{background-color:transparent;border-style:none;color:var(--va-input-text-color);font-family:var(--va-input-font-family,var(--va-font-family));font-size:var(--va-input-font-size);font-stretch:var(--va-input-font-stretch);font-style:var(--va-input-font-style);font-weight:var(--va-input-font-weight);letter-spacing:var(--va-input-letter-spacing);line-height:var(--va-input-line-height);min-height:var(--va-input-line-height);outline:none;scrollbar-color:var(--va-input-scroll-color) transparent;scrollbar-width:thin;transform:translateY(-1px);width:100%}.va-input__content-wrapper .va-input__content__input::-webkit-scrollbar{width:4px}.va-input__content-wrapper .va-input__content__input::-webkit-scrollbar-track{border-radius:10px;box-shadow:none}.va-input__content-wrapper .va-input__content__input::-webkit-scrollbar-thumb{background:var(--va-input-scroll-color);border-radius:2px;opacity:.3}.va-input__content-wrapper .va-input__content__input::-moz-placeholder{color:var(--va-input-placeholder-text-color)}.va-input__content-wrapper .va-input__content__input:-ms-input-placeholder{color:var(--va-input-placeholder-text-color)}.va-input__content-wrapper .va-input__content__input::placeholder{color:var(--va-input-placeholder-text-color)}.va-input__content-wrapper .va-input__content__input:disabled{opacity:var(--va-input-disabled-opacity)}.va-input__icons{align-items:center;display:flex;justify-content:center}.va-input__icons>*{margin-right:calc(var(--va-input-content-items-gap)/4)}.va-input__icons>:last-child{margin-right:0}.va-input textarea{margin:12px 0;resize:vertical}.va-input_labeled .va-input__content-wrapper{align-items:flex-end;height:100%;padding-top:12px}.va-input_labeled .va-input__label{color:var(--va-input-container-label-color);display:block;font-size:var(--va-input-container-label-font-size);font-weight:var(--va-input-container-label-font-weight);height:12px;left:0;letter-spacing:var(--va-input-container-label-letter-spacing,var(--va-letter-spacing));line-height:var(--va-input-container-label-line-height);max-width:var(--va-input-container-label-max-width);overflow:hidden;padding-top:1px;position:absolute;text-overflow:ellipsis;text-transform:var(--va-input-container-label-text-transform);top:0;transform:translateY(-100%);transform-origin:top left;white-space:nowrap}.va-input_labeled textarea{margin-top:0}.va-input_solid .va-input__container{background:var(--va-input-color);border-color:var(--va-input-color);border-radius:var(--va-input-border-radius)}.va-input_solid.va-input_success .va-input__container{background:var(--va-input-success-background);border-color:var(--va-input-success-color)}.va-input_solid.va-input_error .va-input__container{background:var(--va-input-error-background);border-color:var(--va-input-error-color)}.va-input_outline .va-input__container{border-color:var(--va-input-bordered-color);border-radius:0}.va-input_outline.va-input_success .va-input__container{background:var(--va-input-success-background);border-color:var(--va-input-success-color)}.va-input_outline.va-input_error .va-input__container{background:var(--va-input-error-background);border-color:var(--va-input-error-color)}.va-input_bordered__border{border-bottom:var(--va-input-border-width) solid;border-color:var(--va-input-bordered-color);bottom:0;height:0;position:absolute;width:100%}.va-input_bordered .va-input__container{background:var(--va-input-color);border-color:transparent!important;border-top-left-radius:var(--va-input-border-radius);border-top-right-radius:var(--va-input-border-radius)}.va-input_bordered.va-input_success .va-input__container{background:var(--va-input-success-background)}.va-input_bordered.va-input_success .va-input_bordered__border{border-color:var(--va-input-success-color)}.va-input_bordered.va-input_error .va-input__container{background:var(--va-input-error-background)}.va-input_bordered.va-input_error .va-input_bordered__border{border-color:var(--va-input-error-color)}'),L.ssrRender=function ssrRender(e,t,a,r,n,i,o,s){const l=h("va-input-wrapper"),p=h("va-icon");let u;t(E(l,m({class:["va-input",e.wrapperClass],disabled:e.disabled,success:e.success,messages:e.messages,error:e.computedError,"error-messages":e.computedErrorMessages,"error-count":e.errorCount},r),b({default:f(((t,a,r,n)=>{if(!a)return[_("div",{class:"va-input__container",ref:"container",style:e.computedBorderColorStyle},[e.$slots.prependInner?(g(),y("div",{key:0,class:"va-input__prepend-inner",onClick:e.onPrependInnerClick},[k(e.$slots,"prependInner")],8,["onClick"])):x("v-if",!0),_("div",{class:"va-input__content-wrapper",onClick:t=>e.focus()},[_("div",{class:"va-input__content"},[_("label",{"aria-hidden":"true",class:"va-input__label",style:e.labelStyle},w(e.label),5),e.$slots.content?(g(),y("div",{key:0,class:"va-input__content__input"},[k(e.$slots,"content",{value:e.computedValue,focus:e.focus})])):e.isTextarea?(g(),y("textarea",m({key:1},e.computedInputAttributes,{ref:"textarea",class:"va-input__content__input",tabindex:e.tabindex},$(e.eventListeners)),null,16,["tabindex"])):(g(),y("input",m({key:2},e.computedInputAttributes,{ref:"input",class:"va-input__content__input"},$(e.eventListeners)),null,16))])],8,["onClick"]),e.showIcon?(g(),y("div",{key:1,class:"va-input__icons"},[e.success?(g(),y(p,{key:0,color:"success",name:"check_circle",size:"small"})):x("v-if",!0),e.computedError?(g(),y(p,{key:1,color:"danger",name:"warning",size:"small"})):x("v-if",!0),e.canBeCleared?(g(),y(p,{key:2,name:e.clearableIcon,size:"small",color:e.clearIconColor,onClick:C((t=>e.reset()),["stop"])},null,8,["name","color","onClick"])):x("v-if",!0),e.loading?(g(),y(p,{key:3,name:"loop",size:"small",spin:"counter-clockwise",color:e.colorComputed},null,8,["color"])):x("v-if",!0)])):x("v-if",!0),e.$slots.appendInner?(g(),y("div",{key:2,class:"va-input__append-inner",onClick:e.onAppendInnerClick},[k(e.$slots,"appendInner")],8,["onClick"])):x("v-if",!0)],4),e.bordered?(g(),y("div",{key:0,class:"va-input_bordered__border",style:e.computedBorderColorStyle},null,4)):x("v-if",!0)];a(`<div class="va-input__container" style="${S(e.computedBorderColorStyle)}"${n}>`),e.$slots.prependInner?(a(`<div class="va-input__prepend-inner"${n}>`),z(e.$slots,"prependInner",{},null,a,r,n),a("</div>")):a("\x3c!----\x3e"),a(`<div class="va-input__content-wrapper"${n}><div class="va-input__content"${n}><label aria-hidden="true" class="va-input__label" style="${S(e.labelStyle)}"${n}>${B(e.label)}</label>`),e.$slots.content?(a(`<div class="va-input__content__input"${n}>`),z(e.$slots,"content",{value:e.computedValue,focus:e.focus},null,a,r,n),a("</div>")):e.isTextarea?a(`<textarea${j(u=m(e.computedInputAttributes,{ref:"textarea",class:"va-input__content__input",tabindex:e.tabindex}),"textarea")}${n}>${B("value"in u?u.value:"")}</textarea>`):a(`<input${j(m(e.computedInputAttributes,{ref:"input",class:"va-input__content__input"}))}${n}>`),a("</div></div>"),e.showIcon?(a(`<div class="va-input__icons"${n}>`),e.success?a(E(p,{color:"success",name:"check_circle",size:"small"},null,r,n)):a("\x3c!----\x3e"),e.computedError?a(E(p,{color:"danger",name:"warning",size:"small"},null,r,n)):a("\x3c!----\x3e"),e.canBeCleared?a(E(p,{name:e.clearableIcon,size:"small",color:e.clearIconColor},null,r,n)):a("\x3c!----\x3e"),e.loading?a(E(p,{name:"loop",size:"small",spin:"counter-clockwise",color:e.colorComputed},null,r,n)):a("\x3c!----\x3e"),a("</div>")):a("\x3c!----\x3e"),e.$slots.appendInner?(a(`<div class="va-input__append-inner"${n}>`),z(e.$slots,"appendInner",{},null,a,r,n),a("</div>")):a("\x3c!----\x3e"),a("</div>"),e.bordered?a(`<div class="va-input_bordered__border" style="${S(e.computedBorderColorStyle)}"${n}></div>`):a("\x3c!----\x3e")})),_:2},[e.$slots.prepend?{name:"prepend",fn:f(((t,a,r,n)=>{if(!a)return[k(e.$slots,"prepend")];z(e.$slots,"prepend",{},null,a,r,n)}))}:void 0,e.$slots.append?{name:"append",fn:f(((t,a,r,n)=>{if(!a)return[k(e.$slots,"append")];z(e.$slots,"append",{},null,a,r,n)}))}:void 0]),a))},L.__file="src/components/va-input/VaInput.vue";var O=e(L);export{O as default};
//# sourceMappingURL=index30.js.map
