import{w as e}from"./withConfigTransport.js";import{__decorate as t,__metadata as a}from"tslib";import{watch as i,resolveComponent as o,mergeProps as r,withCtx as n,createTextVNode as s,toDisplayString as l,openBlock as u,createBlock as p,createCommentVNode as d,renderSlot as c,Fragment as v,renderList as h,withDirectives as g,withKeys as b,vModelText as f}from"vue";import{V as m,m as y,O as k,p as $}from"./vue-class-component.esm-bundler.js";import{R as V}from"./decorators.js";import{C as x}from"./ColorMixin.js";import{S as w}from"./StatefulMixin.js";import I from"./index10.js";import P from"./index8.js";import C from"./index30.js";import{ssrRenderComponent as _,ssrRenderSlot as L,ssrRenderList as S,ssrInterpolate as j,ssrRenderStyle as B,ssrRenderClass as z,ssrIncludeBooleanAttr as R,ssrRenderAttr as N}from"@vue/server-renderer";import{s as M}from"./style-inject.es.js";import"lodash-es";import"./VaConfig.js";import"./color-config.js";import"colortranslator";import"./RouterLinkMixin.js";import"./SizeMixin.js";import"./LoadingMixin.js";import"./index27.js";import"./VaIcon.js";import"./index37.js";import"./index55.js";import"./consts.js";import"cleave.js";const T=m.with(class PaginationProps{constructor(){this.modelValue=$({type:Number,default:1}),this.visiblePages=$({type:Number,default:0}),this.pages=$({type:Number,default:0}),this.disabled=$({type:Boolean,default:!1}),this.color=$({type:String,default:"primary"}),this.size=$({type:String,default:"medium",validator:e=>["medium","small","large"].includes(e)}),this.boundaryLinks=$({type:Boolean,default:!0}),this.boundaryNumbers=$({type:Boolean,default:!1}),this.directionLinks=$({type:Boolean,default:!0}),this.input=$({type:Boolean,default:!1}),this.hideOnSinglePage=$({type:Boolean,default:!1}),this.flat=$({type:Boolean,default:!1}),this.total=$({type:Number,default:null}),this.pageSize=$({type:Number,default:null}),this.boundaryIconLeft=$({type:String,default:"first_page"}),this.boundaryIconRight=$({type:String,default:"last_page"}),this.directionIconLeft=$({type:String,default:"chevron_left"}),this.directionIconRight=$({type:String,default:"chevron_right"})}});let U=class VaPagination extends(y(w,x,T)){constructor(){super(...arguments),this.inputValue=""}created(){i([()=>this.useTotal,()=>this.$props.pages],(()=>{if(this.useTotal&&this.$props.pages&&"production"!==process.env.NODE_ENV)throw new Error("Please, use either `total` and `page-size` props, or `pages`.")}))}get lastPage(){const{total:e,pageSize:t,pages:a}=this.$props;return this.useTotal?Math.ceil(e/t)||1:a}get paginationRange(){const{visiblePages:e,total:t,pageSize:a,boundaryNumbers:i,pages:o}=this.$props;return((e=1,t,a,i=!1)=>{let o=0;if(0===a&&(a=1),t>a&&(t=a),0===t)o=1,t=a;else{const i=t/2;o=e-i<=0||e>a?1:e+i>a?a-t+1:Math.ceil(e-i)}const r=[];for(let e=0;e<t;e++)r.push(o+e);return i&&(1!==o&&r.splice(0,2,1,"..."),r[r.length-1]!==a&&r.splice(-2,2,"...",a)),r})(this.currentValue||1,e,this.useTotal?Math.ceil(t/a):o,i)}get showBoundaryLinks(){const{visiblePages:e,boundaryLinks:t,boundaryNumbers:a,input:i}=this.$props;return i||e&&this.lastPage>e&&t&&!a}get showDirectionLinks(){const{visiblePages:e,directionLinks:t,input:a}=this.$props;return a||e&&this.lastPage>e&&t}get showPagination(){return this.lastPage>1||!this.$props.hideOnSinglePage&&this.lastPage<=1}get fontColor(){return this.computeColor(this.$props.color)}get useTotal(){const{total:e,pageSize:t}=this.$props;return!(!e&&0!==e||!t)}get currentValue(){return this.useTotal?Math.ceil(this.valueComputed/this.$props.pageSize)||1:this.valueComputed}set currentValue(e){this.valueComputed=e}focusInput(){const{currentValue:e,$nextTick:t}=this;this.inputValue=e,t((()=>this.htmlInput.setSelectionRange(0,this.htmlInput.value.length)))}onUserInput(e){e<1||e>this.lastPage||(this.currentValue=this.useTotal?(e-1)*this.$props.pageSize+1:e)}resetInput(){this.inputValue="",this.htmlInput.blur()}changeValue(){if(this.inputValue===this.currentValue&&this.resetInput(),!this.inputValue.length)return;let e=Number.parseInt(this.inputValue);switch(!0){case e<1:e=1;break;case e>this.lastPage:e=this.lastPage;break;case isNaN(e):e=this.currentValue}this.onUserInput(e),this.resetInput()}activeButtonStyle(e){return e===this.currentValue?{backgroundColor:this.colorComputed,color:"#ffffff"}:{color:this.fontColor}}};t([V(),a("design:type",HTMLInputElement)],U.prototype,"htmlInput",void 0),U=t([k({name:"VaPagination",components:{VaButtonGroup:I,VaButton:P,VaInput:C}})],U);var D=U;M(':root{--va-gray-light:#acb5be;--va-light-gray:#eee;--va-light-gray2:#eff4f5;--va-light-gray3:#f5f8f9;--va-lighter-gray:#ddd;--va-charcoal:#555;--va-darkest-gray:#333;--va-almost-black:#161616;--va-hover-black:#222;--va-vue-green:#4ae387;--va-vue-light-green:#dbf9e8;--va-light-green:#c8f9c5;--va-lighter-green:#d6ffd3;--va-light-blue:#dcf1ff;--va-light-yellow:#fff1c8;--va-light-pink:#ffcece;--va-vue-darkest-blue:#34495e;--va-vue-turquoise:#dbf9e7;--va-white:#fff;--va-theme-danger:#e34b4a;--va-theme-warning:#ffc200;--va-theme-red:#e34a4a;--va-theme-orange:#f7cc36;--va-theme-blue:#4ab2e3;--va-theme-blue-dark:#2c82e0;--va-theme-violet:#db76df;--va-theme-pale:#d9d9d9;--va-primary:var(--va-vue-green);--va-danger:var(--va-theme-red);--va-warning:var(--va-theme-orange);--va-info:var(--va-theme-blue);--va-success:var(--va-vue-green);--va-secondary:#babfc2;--va-dark-gray:#282828;--va-gray:#adb3b9;--va-default-gray:#8396a5;--va-dark-blue:#0e4ac4;--va-text-gray:#b4b4b4;--va-markdown-code:#d7234e;--va-prism-background:#f4f8fa;--va-separator-color:#e6e9ec;--va-border:0;--va-font-family:"Source Sans Pro",sans-serif;--va-letter-spacing:0.0375rem;--va-background-color:#fff;--va-swing-transition:0.3s cubic-bezier(0.25,0.8,0.5,1);--va-block-border-radius:0.375rem;--va-block-border:thin solid rgba(52,56,85,0.25);--va-block-box-shadow:0 2px 3px 0 rgba(52,56,85,0.25);--va-control-box-shadow:none;--va-control-border:0;--va-transition:0.2s cubic-bezier(0.4,0,0.6,1);--va-outline-border-width:0.125rem;--va-outline-box-shadow:none;--va-square-border-radius:0.25rem;--va-form-padding:1.25rem;--va-form-border-radius:0.125rem;--va-text-selected:#b3d4fc;--va-text-highlighted:#fff3d1;--va-link-color:var(--va-primary);--va-link-color-secondary:var(--va-secondary);--va-link-color-hover:var(--va-primary);--va-link-color-active:var(--va-primary);--va-link-color-visited:var(--va-primary);--va-muted:#7f828b;--va-li-background:var(--va-theme-blue-dark);--va-text-block:var(--va-light-gray3);--va-stripe-border-size:0.25rem;--va-box-shadow:0 0.25rem 0.5rem 0 rgba(59,63,73,0.15);--va-pagination-input-border-style:solid;--va-pagination-input-border-width:2px 0;--va-pagination-input-text-align:center;--va-pagination-input-font-size:1rem;--va-pagination-input-flat-border-top-width:0}.va-pagination__input{border-style:var(--va-pagination-input-border-style);border-width:var(--va-pagination-input-border-width);font-size:var(--va-pagination-input-font-size);text-align:var(--va-pagination-input-text-align)}.va-pagination__input--flat{border-top-width:var(--va-pagination-input-flat-border-top-width)}.va-pagination .va-button.va-input{cursor:default}.va-pagination .va-button--ellipsis{cursor:default;opacity:1}.va-pagination .va-button--ellipsis>.va-button__content{opacity:.4}'),D.ssrRender=function ssrRender(e,t,a,i,m,y,k,$){const V=o("va-button-group"),x=o("va-button");e.showPagination?t(_(V,r({class:"va-pagination",flat:e.$props.flat,size:e.$props.size,color:e.$props.color,outline:""},i),{default:n(((t,a,i,o)=>{if(!a)return[e.showBoundaryLinks?(u(),p(x,{key:0,disabled:e.$props.disabled||1===e.currentValue,icon:e.$props.boundaryIconLeft,onClick:t=>e.onUserInput(1)},null,8,["disabled","icon","onClick"])):d("v-if",!0),e.showDirectionLinks?(u(),p(x,{key:1,outline:"",disabled:e.$props.disabled||1===e.currentValue,icon:e.$props.directionIconLeft,onClick:t=>e.onUserInput(e.currentValue-1)},null,8,["disabled","icon","onClick"])):d("v-if",!0),e.$props.input?g((u(),p("input",{key:3,ref:"htmlInput",class:["va-pagination__input va-button",{"va-pagination__input--flat":e.$props.flat}],style:{cursor:"default",color:e.computeColor(e.$props.color),opacity:e.$props.disabled?.4:1},onKeydown:b(e.changeValue,["enter"]),onFocus:e.focusInput,onBlur:e.changeValue,disabled:e.$props.disabled,placeholder:`${e.currentValue}/${e.lastPage}`,"onUpdate:modelValue":t=>e.inputValue=t},null,46,["onKeydown","onFocus","onBlur","disabled","placeholder","onUpdate:modelValue"])),[[f,e.inputValue]]):c(e.$slots,"default",{key:2},(()=>[(u(!0),p(v,null,h(e.paginationRange,((t,a)=>(u(),p(x,{style:e.activeButtonStyle(t),outline:"",key:a,disabled:e.$props.disabled||"..."===t,class:{"va-button--ellipsis":"..."===t},onClick:a=>e.onUserInput(t)},{default:n((()=>[s(l(t),1)])),_:2},1032,["style","disabled","class","onClick"])))),128))])),e.showDirectionLinks?(u(),p(x,{key:4,outline:"",disabled:e.$props.disabled||e.currentValue===e.lastPage,icon:e.$props.directionIconRight,onClick:t=>e.onUserInput(e.currentValue+1)},null,8,["disabled","icon","onClick"])):d("v-if",!0),e.showBoundaryLinks?(u(),p(x,{key:5,outline:"",disabled:e.$props.disabled||e.currentValue===e.lastPage,icon:e.$props.boundaryIconRight,onClick:t=>e.onUserInput(e.lastPage)},null,8,["disabled","icon","onClick"])):d("v-if",!0)];e.showBoundaryLinks?a(_(x,{disabled:e.$props.disabled||1===e.currentValue,icon:e.$props.boundaryIconLeft},null,i,o)):a("\x3c!----\x3e"),e.showDirectionLinks?a(_(x,{outline:"",disabled:e.$props.disabled||1===e.currentValue,icon:e.$props.directionIconLeft},null,i,o)):a("\x3c!----\x3e"),e.$props.input?a(`<input style="${B({cursor:"default",color:e.computeColor(e.$props.color),opacity:e.$props.disabled?.4:1})}" class="${z([{"va-pagination__input--flat":e.$props.flat},"va-pagination__input va-button"])}"${R(e.$props.disabled)?" disabled":""}${N("placeholder",`${e.currentValue}/${e.lastPage}`)}${N("value",e.inputValue)}${o}>`):L(e.$slots,"default",{},(()=>{a("\x3c!--[--\x3e"),S(e.paginationRange,((t,r)=>{a(_(x,{style:e.activeButtonStyle(t),outline:"",key:r,disabled:e.$props.disabled||"..."===t,class:{"va-button--ellipsis":"..."===t}},{default:n(((e,a,i,o)=>{if(!a)return[s(l(t),1)];a(`${j(t)}`)})),_:2},i,o))})),a("\x3c!--]--\x3e")}),a,i,o),e.showDirectionLinks?a(_(x,{outline:"",disabled:e.$props.disabled||e.currentValue===e.lastPage,icon:e.$props.directionIconRight},null,i,o)):a("\x3c!----\x3e"),e.showBoundaryLinks?a(_(x,{outline:"",disabled:e.$props.disabled||e.currentValue===e.lastPage,icon:e.$props.boundaryIconRight},null,i,o)):a("\x3c!----\x3e")})),_:3},a)):t("\x3c!----\x3e")},D.__file="src/components/va-pagination/VaPagination.vue";var E=e(D);export{E as default};
//# sourceMappingURL=index34.js.map
