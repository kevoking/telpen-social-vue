{"version":3,"file":"main.js","sources":["../../src/components/va-popup/plugins/platform.ts","../../src/components/va-dropdown/dropdown-popover-subplugin.ts","../../src/components/va-toast/install.ts","../../src/utils/ssr-utils.ts","../../src/services/color-config/color-css-variables-updater.ts","../../src/services/global-config/global-config-plugin.ts","../../src/components/va-popup/install.ts","../../src/vuestic-plugin/vuestic-plugin.ts"],"sourcesContent":["/* eslint-disable */\r\n// @ts-nocheck\r\n\r\nexport const isSSR = typeof window === 'undefined'\r\nexport let fromSSR = false\r\nexport let onSSR = isSSR\r\n\r\nfunction getMatch (userAgent, platformMatch) {\r\n  const match = /(edge)\\/([\\w.]+)/.exec(userAgent) ||\r\n    /(opr)[\\/]([\\w.]+)/.exec(userAgent) ||\r\n    /(vivaldi)[\\/]([\\w.]+)/.exec(userAgent) ||\r\n    /(chrome)[\\/]([\\w.]+)/.exec(userAgent) ||\r\n    /(iemobile)[\\/]([\\w.]+)/.exec(userAgent) ||\r\n    /(version)(applewebkit)[\\/]([\\w.]+).*(safari)[\\/]([\\w.]+)/.exec(userAgent) ||\r\n    /(webkit)[\\/]([\\w.]+).*(version)[\\/]([\\w.]+).*(safari)[\\/]([\\w.]+)/.exec(userAgent) ||\r\n    /(webkit)[\\/]([\\w.]+)/.exec(userAgent) ||\r\n    /(opera)(?:.*version|)[\\/]([\\w.]+)/.exec(userAgent) ||\r\n    /(msie) ([\\w.]+)/.exec(userAgent) ||\r\n    userAgent.indexOf('trident') >= 0 && /(rv)(?::| )([\\w.]+)/.exec(userAgent) ||\r\n    userAgent.indexOf('compatible') < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(userAgent) ||\r\n    []\r\n\r\n  return {\r\n    browser: match[5] || match[3] || match[1] || '',\r\n    version: match[2] || match[4] || '0',\r\n    versionNumber: match[4] || match[2] || '0',\r\n    platform: platformMatch[0] || '',\r\n  }\r\n}\r\n\r\nfunction getPlatformMatch (userAgent) {\r\n  return /(ipad)/.exec(userAgent) ||\r\n    /(ipod)/.exec(userAgent) ||\r\n    /(windows phone)/.exec(userAgent) ||\r\n    /(iphone)/.exec(userAgent) ||\r\n    /(kindle)/.exec(userAgent) ||\r\n    /(silk)/.exec(userAgent) ||\r\n    /(android)/.exec(userAgent) ||\r\n    /(win)/.exec(userAgent) ||\r\n    /(mac)/.exec(userAgent) ||\r\n    /(linux)/.exec(userAgent) ||\r\n    /(cros)/.exec(userAgent) ||\r\n    /(playbook)/.exec(userAgent) ||\r\n    /(bb)/.exec(userAgent) ||\r\n    /(blackberry)/.exec(userAgent) ||\r\n    []\r\n}\r\n\r\nfunction getPlatform (userAgent) {\r\n  userAgent = (userAgent || navigator.userAgent || navigator.vendor || window.opera).toLowerCase()\r\n\r\n  const platformMatch = getPlatformMatch(userAgent)\r\n  const matched = getMatch(userAgent, platformMatch)\r\n  const browser = {}\r\n\r\n  if (matched.browser) {\r\n    browser[matched.browser] = true\r\n    browser.version = matched.version\r\n    browser.versionNumber = parseInt(matched.versionNumber, 10)\r\n  }\r\n\r\n  if (matched.platform) {\r\n    browser[matched.platform] = true\r\n  }\r\n\r\n  // These are all considered mobile platforms, meaning they run a mobile browser\r\n  if (browser.android || browser.bb || browser.blackberry || browser.ipad || browser.iphone ||\r\n    browser.ipod || browser.kindle || browser.playbook || browser.silk || browser['windows phone']) {\r\n    browser.mobile = true\r\n  }\r\n\r\n  // Set iOS if on iPod, iPad or iPhone\r\n  if (browser.ipod || browser.ipad || browser.iphone) {\r\n    browser.ios = true\r\n  }\r\n\r\n  if (browser['windows phone']) {\r\n    browser.winphone = true\r\n    delete browser['windows phone']\r\n  }\r\n\r\n  // These are all considered desktop platforms, meaning they run a desktop browser\r\n  if (browser.cros || browser.mac || browser.linux || browser.win) {\r\n    browser.desktop = true\r\n  }\r\n\r\n  // Chrome, Opera 15+, Vivaldi and Safari are webkit based browsers\r\n  if (browser.chrome || browser.opr || browser.safari || browser.vivaldi) {\r\n    browser.webkit = true\r\n  }\r\n\r\n  // IE11 has a new token so we will assign it msie to avoid breaking changes\r\n  if (browser.rv || browser.iemobile) {\r\n    matched.browser = 'ie'\r\n    browser.ie = true\r\n  }\r\n\r\n  // Edge is officially known as Microsoft Edge, so rewrite the key to match\r\n  if (browser.edge) {\r\n    matched.browser = 'edge'\r\n    browser.edge = true\r\n  }\r\n\r\n  // Blackberry browsers are marked as Safari on BlackBerry\r\n  if (browser.safari && browser.blackberry || browser.bb) {\r\n    matched.browser = 'blackberry'\r\n    browser.blackberry = true\r\n  }\r\n\r\n  // Playbook browsers are marked as Safari on Playbook\r\n  if (browser.safari && browser.playbook) {\r\n    matched.browser = 'playbook'\r\n    browser.playbook = true\r\n  }\r\n\r\n  // Opera 15+ are identified as opr\r\n  if (browser.opr) {\r\n    matched.browser = 'opera'\r\n    browser.opera = true\r\n  }\r\n\r\n  // Stock Android browsers are marked as Safari on Android.\r\n  if (browser.safari && browser.android) {\r\n    matched.browser = 'android'\r\n    browser.android = true\r\n  }\r\n\r\n  // Kindle browsers are marked as Safari on Kindle\r\n  if (browser.safari && browser.kindle) {\r\n    matched.browser = 'kindle'\r\n    browser.kindle = true\r\n  }\r\n\r\n  // Kindle Silk browsers are marked as Safari on Kindle\r\n  if (browser.safari && browser.silk) {\r\n    matched.browser = 'silk'\r\n    browser.silk = true\r\n  }\r\n\r\n  if (browser.vivaldi) {\r\n    matched.browser = 'vivaldi'\r\n    browser.vivaldi = true\r\n  }\r\n\r\n  // Assign the name and platform variable\r\n  browser.name = matched.browser\r\n  browser.platform = matched.platform\r\n\r\n  if (!isSSR) {\r\n    if (window.process && window.process.versions && window.process.versions.electron) {\r\n      browser.electron = true\r\n    } else if (document.location.href.indexOf('chrome-extension://') === 0) {\r\n      browser.chromeExt = true\r\n    } else if (window._cordovaNative || window.cordova) {\r\n      browser.cordova = true\r\n    }\r\n\r\n    fromSSR = browser.cordova === void 0 &&\r\n      browser.electron === void 0 &&\r\n      !!document.querySelector('[data-server-rendered]')\r\n\r\n    fromSSR && (onSSR = true)\r\n  }\r\n\r\n  return browser\r\n}\r\n\r\nlet webStorage\r\n\r\nexport function hasWebStorage () {\r\n  if (webStorage !== void 0) {\r\n    return webStorage\r\n  }\r\n\r\n  try {\r\n    if (window.localStorage) {\r\n      webStorage = true\r\n      return true\r\n    }\r\n  } catch (e) {\r\n  }\r\n\r\n  webStorage = false\r\n  return false\r\n}\r\n\r\nfunction getClientProperties () {\r\n  return {\r\n    has: {\r\n      touch: (() => !!('ontouchstart' in document.documentElement) || window.navigator.msMaxTouchPoints > 0)(),\r\n      webStorage: hasWebStorage(),\r\n    },\r\n    within: {\r\n      iframe: window.self !== window.top,\r\n    },\r\n  }\r\n}\r\n\r\nexport default {\r\n  has: {\r\n    touch: false,\r\n    webStorage: false,\r\n  },\r\n  parseSSR (/* ssrContext */ ssr) {\r\n    return ssr ? {\r\n      is: getPlatform(ssr.req.headers['user-agent']),\r\n      has: this.has,\r\n      within: this.within,\r\n    } : {\r\n      is: getPlatform(),\r\n      ...getClientProperties(),\r\n    }\r\n  },\r\n\r\n  install ($q, queues, Vue) {\r\n    if (isSSR) {\r\n      queues.server.push((q, ctx) => {\r\n        q.platform = this.parseSSR(ctx.ssr)\r\n      })\r\n      return\r\n    }\r\n\r\n    this.is = getPlatform()\r\n\r\n    if (fromSSR) {\r\n      queues.takeover.push(q => {\r\n        onSSR = fromSSR = false\r\n        Object.assign(q.platform, getClientProperties())\r\n      })\r\n      Vue.util.defineReactive($q, 'platform', this)\r\n    } else {\r\n      Object.assign(this, getClientProperties())\r\n      $q.platform = this\r\n    }\r\n  },\r\n}\r\n","import { App } from 'vue'\r\n\r\nexport default {\r\n  install (app: App) {\r\n    app.config.globalProperties.$closeDropdown = function () {\r\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\r\n      let vm = this\r\n      // Hide first parent dropdown.\r\n      while ((vm = vm.$parent)) {\r\n        const name = vm.$options.name\r\n        if (name === 'VaDropdown') {\r\n          vm.hide()\r\n          break\r\n        }\r\n      }\r\n    }\r\n  },\r\n}\r\n","import { App } from 'vue'\r\nimport Notification from './index'\r\n\r\nexport default {\r\n  install (app: App) {\r\n    app.config.globalProperties.$vaToast = new Notification(app)\r\n  },\r\n}\r\n","export const isServer = () => typeof window === 'undefined'\r\nexport const isClient = () => !isServer()\r\n","import { watch } from 'vue'\r\nimport { useGlobalConfig } from '../global-config/global-config'\r\nimport { isServer } from '../../utils/ssr-utils'\r\n\r\nexport const setCSSVariable = (name: string, value: string, root: HTMLElement) => {\r\n  root.style.setProperty(`--va-${name}`, value)\r\n}\r\n\r\nconst ColorHelpersPlugin = {\r\n  install () {\r\n    if (isServer()) { return }\r\n\r\n    const { globalConfig } = useGlobalConfig()\r\n\r\n    const root = document.documentElement\r\n\r\n    watch(() => globalConfig.value.colors, (newValue) => {\r\n      if (!newValue) { return }\r\n\r\n      const colorNames = Object.keys(newValue)\r\n      colorNames.forEach((key) => {\r\n        setCSSVariable(key, newValue[key], root)\r\n      })\r\n    }, { immediate: true, deep: true })\r\n  },\r\n}\r\n\r\nexport default ColorHelpersPlugin\r\n","import { App } from 'vue'\r\nimport { getGlobalConfig, setGlobalConfig, mergeGlobalConfig } from './global-config'\r\nimport { GlobalConfig } from './types'\r\n\r\nexport const GLOBAL_CONFIG = Symbol('GLOBAL_CONFIG')\r\n\r\ntype ProvidedGlobalConfig = { get: typeof getGlobalConfig, set: typeof setGlobalConfig, merge: typeof mergeGlobalConfig }\r\n\r\nexport const GlobalConfigPlugin = {\r\n  install (app: App, options?: GlobalConfig) {\r\n    if (options) { mergeGlobalConfig(options) }\r\n\r\n    const config = { get: getGlobalConfig, set: setGlobalConfig, merge: mergeGlobalConfig }\r\n\r\n    app.provide<ProvidedGlobalConfig>(GLOBAL_CONFIG, config)\r\n  },\r\n}\r\n","import Platform from './plugins/platform'\r\nimport Vue from 'vue'\r\n\r\n// At the moment we use quasar platform install to make its components work.\r\n// Ideally we want to create similar vuestic platform object that holds needed values.\r\nexport const installPlatform = () => {\r\n  const queues = {\r\n    server: [], // on SSR update\r\n    takeover: [], // on client takeover\r\n  }\r\n\r\n  const framework = {}\r\n  Platform.install(framework, queues, {} as any)\r\n}\r\n","import { App } from 'vue'\r\n\r\nimport { installPlatform } from '../components/va-popup/install'\r\nimport DropdownPopperSubplugin\r\n  from '../components/va-dropdown/dropdown-popover-subplugin'\r\nimport ToastInstall from '../components/va-toast/install'\r\n\r\nimport ColorHelpersPlugin from '../services/color-config/color-css-variables-updater'\r\nimport { GlobalConfig } from '../services/global-config/global-config'\r\nimport { GlobalConfigPlugin } from '../services/global-config/global-config-plugin'\r\n\r\nimport * as vuesticComponentMap from './vuestic-components'\r\n\r\ninstallPlatform()\r\n\r\nexport const VuesticPlugin = {\r\n  install (app: App, vuesticConfig: GlobalConfig): void {\r\n    Object.entries(vuesticComponentMap).forEach(([name, component]) => {\r\n      app.component(name, component)\r\n    })\r\n\r\n    app.use(DropdownPopperSubplugin)\r\n\r\n    app.use(ToastInstall)\r\n\r\n    app.use(GlobalConfigPlugin, vuesticConfig)\r\n\r\n    app.use(ColorHelpersPlugin)\r\n  },\r\n}\r\n"],"names":["isSSR","window","webStorage","fromSSR","getPlatform","userAgent","matched","getMatch","platformMatch","match","exec","indexOf","browser","version","versionNumber","platform","navigator","vendor","opera","toLowerCase","getPlatformMatch","parseInt","android","bb","blackberry","ipad","iphone","ipod","kindle","playbook","silk","mobile","ios","winphone","cros","mac","linux","win","desktop","chrome","opr","safari","vivaldi","webkit","rv","iemobile","ie","edge","name","process","versions","electron","document","location","href","chromeExt","_cordovaNative","cordova","querySelector","hasWebStorage","localStorage","e","getClientProperties","has","touch","documentElement","msMaxTouchPoints","within","iframe","self","top","parseSSR","ssr","is","req","headers","this","install","$q","queues","Vue","server","push","q","ctx","takeover","Object","assign","util","defineReactive","app","config","globalProperties","$closeDropdown","vm","$parent","$options","hide","$vaToast","Notification","ColorHelpersPlugin","globalConfig","useGlobalConfig","root","watch","value","colors","newValue","keys","forEach","key","style","setProperty","setCSSVariable","immediate","deep","GLOBAL_CONFIG","Symbol","GlobalConfigPlugin","options","mergeGlobalConfig","get","getGlobalConfig","set","setGlobalConfig","merge","provide","Platform","VuesticPlugin","vuesticConfig","entries","vuesticComponentMap","component","use","DropdownPopperSubplugin","ToastInstall"],"mappings":"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"}